{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Part 3"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import requests\n",
    "from bs4 import BeautifulSoup"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "website_url = requests.get('https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M').text"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "soup = BeautifulSoup(website_url, 'lxml')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "table = soup.find_all('table', class_ = \"wikitable sortable\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "len(table)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "bs4.element.Tag"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "table = table[0]\n",
    "type(table)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>M1A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>M2A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Manor</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>M8A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postal Code           Borough      Neighborhood\n",
       "0         M1A      Not assigned      Not assigned\n",
       "1         M2A      Not assigned      Not assigned\n",
       "2         M3A        North York         Parkwoods\n",
       "3         M4A        North York  Victoria Village\n",
       "4         M5A  Downtown Toronto      Harbourfront\n",
       "5         M5A  Downtown Toronto       Regent Park\n",
       "6         M6A        North York  Lawrence Heights\n",
       "7         M6A        North York    Lawrence Manor\n",
       "8         M7A      Queen's Park      Not assigned\n",
       "9         M8A      Not assigned      Not assigned"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "table_rows = table.find_all('tr')\n",
    "\n",
    "res = []\n",
    "for tr in table_rows:\n",
    "    td = tr.find_all('td')\n",
    "    row = [tr.text.strip() for tr in td if tr.text.strip()]\n",
    "    if row:\n",
    "        res.append(row)\n",
    "df = pd.DataFrame(res, columns=[\"Postcode\", \"Borough\", \"Neighbourhood\"])\n",
    "df=df.rename(columns = {'Postcode':'Postal Code', 'Neighbourhood':'Neighborhood'})\n",
    "df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has (288, 3) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "\n",
    "df.shape\n",
    "print('The dataframe has', df.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Manor</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>M9A</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Islington Avenue</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Malvern</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Postal Code           Borough      Neighborhood\n",
       "2          M3A        North York         Parkwoods\n",
       "3          M4A        North York  Victoria Village\n",
       "4          M5A  Downtown Toronto      Harbourfront\n",
       "5          M5A  Downtown Toronto       Regent Park\n",
       "6          M6A        North York  Lawrence Heights\n",
       "7          M6A        North York    Lawrence Manor\n",
       "8          M7A      Queen's Park      Not assigned\n",
       "10         M9A         Etobicoke  Islington Avenue\n",
       "11         M1B       Scarborough             Rouge\n",
       "12         M1B       Scarborough           Malvern"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df1 = df[df.Borough != 'Not assigned']\n",
    "df1.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has (211, 3) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "df1.shape\n",
    "print('The dataframe has', df1.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/home/jupyterlab/conda/envs/python/lib/python3.6/site-packages/pandas/core/generic.py:9114: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  self._update_inplace(new_data)\n",
      "/home/jupyterlab/conda/envs/python/lib/python3.6/site-packages/IPython/core/interactiveshell.py:3326: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  exec(code_obj, self.user_global_ns, self.user_ns)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Manor</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>M9A</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Islington Avenue</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Malvern</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Postal Code           Borough      Neighborhood\n",
       "2          M3A        North York         Parkwoods\n",
       "3          M4A        North York  Victoria Village\n",
       "4          M5A  Downtown Toronto      Harbourfront\n",
       "5          M5A  Downtown Toronto       Regent Park\n",
       "6          M6A        North York  Lawrence Heights\n",
       "7          M6A        North York    Lawrence Manor\n",
       "8          M7A      Queen's Park      Queen's Park\n",
       "10         M9A         Etobicoke  Islington Avenue\n",
       "11         M1B       Scarborough             Rouge\n",
       "12         M1B       Scarborough           Malvern"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df1.Neighborhood[df1.Neighborhood == 'Not assigned'] = df1.Borough\n",
    "df1.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge, Malvern</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>M1C</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Highland Creek, Rouge Hill, Port Union</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>M1E</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Guildwood, Morningside, West Hill</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>M1G</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Woburn</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>M1H</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Cedarbrae</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postal Code      Borough                            Neighborhood\n",
       "0         M1B  Scarborough                          Rouge, Malvern\n",
       "1         M1C  Scarborough  Highland Creek, Rouge Hill, Port Union\n",
       "2         M1E  Scarborough       Guildwood, Morningside, West Hill\n",
       "3         M1G  Scarborough                                  Woburn\n",
       "4         M1H  Scarborough                               Cedarbrae"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df2 = df1.groupby(['Postal Code','Borough'])['Neighborhood'].apply(', '.join).reset_index()\n",
    "df2.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has (103, 3) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "df2.shape\n",
    "print('The dataframe has', df2.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>M1B</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>M1C</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>M1E</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>M1G</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>M1H</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postal Code   Latitude  Longitude\n",
       "0         M1B  43.806686 -79.194353\n",
       "1         M1C  43.784535 -79.160497\n",
       "2         M1E  43.763573 -79.188711\n",
       "3         M1G  43.770992 -79.216917\n",
       "4         M1H  43.773136 -79.239476"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "url=\"http://cocl.us/Geospatial_data\"\n",
    "df3=pd.read_csv(url)\n",
    "df3.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge, Malvern</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>M1C</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Highland Creek, Rouge Hill, Port Union</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>M1E</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Guildwood, Morningside, West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>M1G</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Woburn</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>M1H</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Cedarbrae</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postal Code      Borough                            Neighborhood   Latitude  \\\n",
       "0         M1B  Scarborough                          Rouge, Malvern  43.806686   \n",
       "1         M1C  Scarborough  Highland Creek, Rouge Hill, Port Union  43.784535   \n",
       "2         M1E  Scarborough       Guildwood, Morningside, West Hill  43.763573   \n",
       "3         M1G  Scarborough                                  Woburn  43.770992   \n",
       "4         M1H  Scarborough                               Cedarbrae  43.773136   \n",
       "\n",
       "   Longitude  \n",
       "0 -79.194353  \n",
       "1 -79.160497  \n",
       "2 -79.188711  \n",
       "3 -79.216917  \n",
       "4 -79.239476  "
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "result = pd.merge(df2,df3, on='Postal Code')\n",
    "result.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has 11 boroughs and 103 neighborhoods.\n"
     ]
    }
   ],
   "source": [
    "print('The dataframe has {} boroughs and {} neighborhoods.'.format(\n",
    "        len(result['Borough'].unique()),\n",
    "        result.shape[0]\n",
    "    )\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has (103, 5) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "result.shape\n",
    "print('The dataframe has', result.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Solving environment: done\n",
      "\n",
      "\n",
      "==> WARNING: A newer version of conda exists. <==\n",
      "  current version: 4.5.11\n",
      "  latest version: 4.7.11\n",
      "\n",
      "Please update conda by running\n",
      "\n",
      "    $ conda update -n base -c defaults conda\n",
      "\n",
      "\n",
      "\n",
      "## Package Plan ##\n",
      "\n",
      "  environment location: /home/jupyterlab/conda/envs/python\n",
      "\n",
      "  added / updated specs: \n",
      "    - geopy\n",
      "\n",
      "\n",
      "The following packages will be downloaded:\n",
      "\n",
      "    package                    |            build\n",
      "    ---------------------------|-----------------\n",
      "    certifi-2019.6.16          |           py36_1         149 KB  conda-forge\n",
      "    geopy-1.20.0               |             py_0          57 KB  conda-forge\n",
      "    geographiclib-1.49         |             py_0          32 KB  conda-forge\n",
      "    ------------------------------------------------------------\n",
      "                                           Total:         239 KB\n",
      "\n",
      "The following NEW packages will be INSTALLED:\n",
      "\n",
      "    geographiclib: 1.49-py_0        conda-forge\n",
      "    geopy:         1.20.0-py_0      conda-forge\n",
      "\n",
      "The following packages will be UPDATED:\n",
      "\n",
      "    certifi:       2019.6.16-py36_1 anaconda    --> 2019.6.16-py36_1  conda-forge\n",
      "\n",
      "The following packages will be DOWNGRADED:\n",
      "\n",
      "    openssl:       1.1.1-h7b6447c_0 anaconda    --> 1.1.1c-h516909a_0 conda-forge\n",
      "\n",
      "\n",
      "Downloading and Extracting Packages\n",
      "certifi-2019.6.16    | 149 KB    | ##################################### | 100% \n",
      "geopy-1.20.0         | 57 KB     | ##################################### | 100% \n",
      "geographiclib-1.49   | 32 KB     | ##################################### | 100% \n",
      "Preparing transaction: done\n",
      "Verifying transaction: done\n",
      "Executing transaction: done\n"
     ]
    }
   ],
   "source": [
    "\n",
    "import numpy as np \n",
    "\n",
    "import pandas as pd\n",
    "pd.set_option('display.max_columns', None)\n",
    "pd.set_option('display.max_rows', None)\n",
    "\n",
    "import json \n",
    "\n",
    "!conda install -c conda-forge geopy --yes\n",
    "from geopy.geocoders import Nominatim \n",
    "\n",
    "import requests \n",
    "from pandas.io.json import json_normalize \n",
    "\n",
    "\n",
    "import matplotlib.cm as cm\n",
    "import matplotlib.colors as colors\n",
    "\n",
    "\n",
    "from sklearn.cluster import KMeans"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/home/jupyterlab/conda/envs/python/lib/python3.6/site-packages/ipykernel_launcher.py:3: DeprecationWarning: Using Nominatim with the default \"geopy/1.20.0\" `user_agent` is strongly discouraged, as it violates Nominatim's ToS https://operations.osmfoundation.org/policies/nominatim/ and may possibly cause 403 and 429 HTTP errors. Please specify a custom `user_agent` with `Nominatim(user_agent=\"my-application\")` or by overriding the default `user_agent`: `geopy.geocoders.options.default_user_agent = \"my-application\"`. In geopy 2.0 this will become an exception.\n",
      "  This is separate from the ipykernel package so we can avoid doing imports until\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The geograpical coordinate of 1090 Don Mills Rd, North York, ON M3C 3R6, Canadao is 43.7362962, -79.343917.\n"
     ]
    }
   ],
   "source": [
    "address = '1090 Don Mills Rd, North York, ON M3C 3R6, Canada'\n",
    "\n",
    "geolocator = Nominatim()\n",
    "location = geolocator.geocode(address)\n",
    "latitude = location.latitude\n",
    "longitude = location.longitude\n",
    "print('The geograpical coordinate of 1090 Don Mills Rd, North York, ON M3C 3R6, Canadao is {}, {}.'.format(latitude, longitude))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Solving environment: done\n",
      "\n",
      "\n",
      "==> WARNING: A newer version of conda exists. <==\n",
      "  current version: 4.5.11\n",
      "  latest version: 4.7.11\n",
      "\n",
      "Please update conda by running\n",
      "\n",
      "    $ conda update -n base -c defaults conda\n",
      "\n",
      "\n",
      "\n",
      "# All requested packages already installed.\n",
      "\n",
      "Libraries imported.\n"
     ]
    }
   ],
   "source": [
    "!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab\n",
    "import folium # map rendering library\n",
    "print('Libraries imported.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNzM2Mjk2MiwtNzkuMzQzOTE3XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDEwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl8yZTIzMmM3N2I1N2M0NWZlYTRkN2M5ZWFmZmVlOWY1YiA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICAgICAgICAgIHsKICAiYXR0cmlidXRpb24iOiBudWxsLAogICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwKICAibWF4Wm9vbSI6IDE4LAogICJtaW5ab29tIjogMSwKICAibm9XcmFwIjogZmFsc2UsCiAgInN1YmRvbWFpbnMiOiAiYWJjIgp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGI5NzA5MmMzNTk4NGRjMGJjOGU4MmQzYTIxY2Y1NTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDY2ODYyOTk5OTk5OTYsLTc5LjE5NDM1MzQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85Yjk2Y2VjMjk0NTg0YTJjYTE2OWRkZWEwMWJiNWJiNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iYjVjMTkzZjRhOWE0MGNjYTc4YWI0NzAxYTE3MDM0OCA9ICQoJzxkaXYgaWQ9Imh0bWxfYmI1YzE5M2Y0YTlhNDBjY2E3OGFiNDcwMWExNzAzNDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvdWdlLCBNYWx2ZXJuLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWI5NmNlYzI5NDU4NGEyY2ExNjlkZGVhMDFiYjViYjUuc2V0Q29udGVudChodG1sX2JiNWMxOTNmNGE5YTQwY2NhNzhhYjQ3MDFhMTcwMzQ4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBiOTcwOTJjMzU5ODRkYzBiYzhlODJkM2EyMWNmNTU3LmJpbmRQb3B1cChwb3B1cF85Yjk2Y2VjMjk0NTg0YTJjYTE2OWRkZWEwMWJiNWJiNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNGY5ZGJmYTUzMjg0YmMwODYyMTI4NTEyNjEwYTJlMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDUzNTEsLTc5LjE2MDQ5NzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iODBiNDI0MjRhZDk0YjMwYWI1ZWEyYzBlZGIzZGE1NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZDRjZjA3NDM3MGQ0YmViOGM0YjU4M2VmYjdlMTIwNiA9ICQoJzxkaXYgaWQ9Imh0bWxfYmQ0Y2YwNzQzNzBkNGJlYjhjNGI1ODNlZmI3ZTEyMDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpZ2hsYW5kIENyZWVrLCBSb3VnZSBIaWxsLCBQb3J0IFVuaW9uLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjgwYjQyNDI0YWQ5NGIzMGFiNWVhMmMwZWRiM2RhNTQuc2V0Q29udGVudChodG1sX2JkNGNmMDc0MzcwZDRiZWI4YzRiNTgzZWZiN2UxMjA2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM0ZjlkYmZhNTMyODRiYzA4NjIxMjg1MTI2MTBhMmUxLmJpbmRQb3B1cChwb3B1cF9iODBiNDI0MjRhZDk0YjMwYWI1ZWEyYzBlZGIzZGE1NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wODQ0OGQyYWRkOTA0MWVjODYwOGE0ZTkwYWQ1MGEwYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MzU3MjYsLTc5LjE4ODcxMTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhhZGM2NzlkMWE1YTQ2NGRiNmUxYjJlMDllYTkzZTg4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZmYzU0NmY1OTk1YjQ4YmFhNDBhZWRjYmY1ZWQ4MDIyID0gJCgnPGRpdiBpZD0iaHRtbF82ZmM1NDZmNTk5NWI0OGJhYTQwYWVkY2JmNWVkODAyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R3VpbGR3b29kLCBNb3JuaW5nc2lkZSwgV2VzdCBIaWxsLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGFkYzY3OWQxYTVhNDY0ZGI2ZTFiMmUwOWVhOTNlODguc2V0Q29udGVudChodG1sXzZmYzU0NmY1OTk1YjQ4YmFhNDBhZWRjYmY1ZWQ4MDIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA4NDQ4ZDJhZGQ5MDQxZWM4NjA4YTRlOTBhZDUwYTBjLmJpbmRQb3B1cChwb3B1cF84YWRjNjc5ZDFhNWE0NjRkYjZlMWIyZTA5ZWE5M2U4OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYTRkZWI2NDI1OTc0MGY4YThkOTA0MGZhMGI3N2RjOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MDk5MjEsLTc5LjIxNjkxNzQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZGZmYThiMzQzZWM0ZTkyOWYwYWE3NGE4ZjgwOGUzNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYzkwMzY4YzAxNmQ0N2VkOTVlZDdmZjA3M2Q0YWU3OCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGM5MDM2OGMwMTZkNDdlZDk1ZWQ3ZmYwNzNkNGFlNzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFkZmZhOGIzNDNlYzRlOTI5ZjBhYTc0YThmODA4ZTM1LnNldENvbnRlbnQoaHRtbF9kYzkwMzY4YzAxNmQ0N2VkOTVlZDdmZjA3M2Q0YWU3OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYTRkZWI2NDI1OTc0MGY4YThkOTA0MGZhMGI3N2RjOC5iaW5kUG9wdXAocG9wdXBfMWRmZmE4YjM0M2VjNGU5MjlmMGFhNzRhOGY4MDhlMzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWUxMGI3OWE4Y2M2NGM3Njg5NjViNjUwOGFmNGVhZjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzMxMzYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hOGU3ZjJmYTgwMTk0Y2ZjYTk2MWE4ZjFhMGVlOWFmOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMjJhZDhjZDI3YTU0ZDFiOWI1ZTlhNjkyZmU2MTdkNSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzIyYWQ4Y2QyN2E1NGQxYjliNWU5YTY5MmZlNjE3ZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlZGFyYnJhZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E4ZTdmMmZhODAxOTRjZmNhOTYxYThmMWEwZWU5YWY5LnNldENvbnRlbnQoaHRtbF8zMjJhZDhjZDI3YTU0ZDFiOWI1ZTlhNjkyZmU2MTdkNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTEwYjc5YThjYzY0Yzc2ODk2NWI2NTA4YWY0ZWFmMC5iaW5kUG9wdXAocG9wdXBfYThlN2YyZmE4MDE5NGNmY2E5NjFhOGYxYTBlZTlhZjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDA3NDVmOTQ0YWNkNDFiNGJmYjA2MmM4YWZhNWQyYTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQ3MzQyLC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTA0NjU3ZGU3NzBlNGNkOWFiOWJkNDFjNTA2M2JmNzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2JkZWFiZmU4ODg2NDllYzg0ZmVlMzQzZGRiNDUzNDQgPSAkKCc8ZGl2IGlkPSJodG1sXzdiZGVhYmZlODg4NjQ5ZWM4NGZlZTM0M2RkYjQ1MzQ0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaCBWaWxsYWdlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTA0NjU3ZGU3NzBlNGNkOWFiOWJkNDFjNTA2M2JmNzEuc2V0Q29udGVudChodG1sXzdiZGVhYmZlODg4NjQ5ZWM4NGZlZTM0M2RkYjQ1MzQ0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QwNzQ1Zjk0NGFjZDQxYjRiZmIwNjJjOGFmYTVkMmE5LmJpbmRQb3B1cChwb3B1cF9hMDQ2NTdkZTc3MGU0Y2Q5YWI5YmQ0MWM1MDYzYmY3MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84M2U2ZTVmYWI3MzI0Y2E0YjBkNjljMjdlNjEyMTZjOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNzkyOTIsLTc5LjI2MjAyOTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMmNkOTU0MDc4MDQ0MmE1OWJiZWUwYzJkY2M3ZThlOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xN2EwZWEwMWE4NTE0YmZmYjliZjU2ZmIxNTA2Mjc1ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTdhMGVhMDFhODUxNGJmZmI5YmY1NmZiMTUwNjI3NWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgQmlyY2htb3VudCBQYXJrLCBJb252aWV3LCBLZW5uZWR5IFBhcmssIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMmNkOTU0MDc4MDQ0MmE1OWJiZWUwYzJkY2M3ZThlOC5zZXRDb250ZW50KGh0bWxfMTdhMGVhMDFhODUxNGJmZmI5YmY1NmZiMTUwNjI3NWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODNlNmU1ZmFiNzMyNGNhNGIwZDY5YzI3ZTYxMjE2YzkuYmluZFBvcHVwKHBvcHVwXzEyY2Q5NTQwNzgwNDQyYTU5YmJlZTBjMmRjYzdlOGU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdiNDljM2Q3MjhiMDQxMTQ4NjA3M2MxODRlYzMyNGRiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzExMTExNzAwMDAwMDA0LC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lZGI1MDFmY2U5NTA0OGJiYTgzZjUyOTk5ZmFmMmM4OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84OTEyNWIyOThmMzI0MDFiOTljNzQwMWM0NjM1YTljYyA9ICQoJzxkaXYgaWQ9Imh0bWxfODkxMjViMjk4ZjMyNDAxYjk5Yzc0MDFjNDYzNWE5Y2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsYWlybGVhLCBHb2xkZW4gTWlsZSwgT2FrcmlkZ2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZGI1MDFmY2U5NTA0OGJiYTgzZjUyOTk5ZmFmMmM4OS5zZXRDb250ZW50KGh0bWxfODkxMjViMjk4ZjMyNDAxYjk5Yzc0MDFjNDYzNWE5Y2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2I0OWMzZDcyOGIwNDExNDg2MDczYzE4NGVjMzI0ZGIuYmluZFBvcHVwKHBvcHVwX2VkYjUwMWZjZTk1MDQ4YmJhODNmNTI5OTlmYWYyYzg5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEzMGFhNThmOGIxODQ5Mjg5MWZkYTc2NjNlMWM5OTg1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE2MzE2LC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmMwOTFhNDcwYTUyNDY4MWIzY2ZlZjk0YWRiZWYyMTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjRkNjkxNWIxMzhjNDhhOWFiZDRlZTkwMWYxZjJjMWQgPSAkKCc8ZGl2IGlkPSJodG1sXzI0ZDY5MTViMTM4YzQ4YTlhYmQ0ZWU5MDFmMWYyYzFkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGlmZmNyZXN0LCBDbGlmZnNpZGUsIFNjYXJib3JvdWdoIFZpbGxhZ2UgV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJjMDkxYTQ3MGE1MjQ2ODFiM2NmZWY5NGFkYmVmMjEwLnNldENvbnRlbnQoaHRtbF8yNGQ2OTE1YjEzOGM0OGE5YWJkNGVlOTAxZjFmMmMxZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMzBhYTU4ZjhiMTg0OTI4OTFmZGE3NjYzZTFjOTk4NS5iaW5kUG9wdXAocG9wdXBfMmMwOTFhNDcwYTUyNDY4MWIzY2ZlZjk0YWRiZWYyMTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzJmNjlhZGIzZDQ4NGMyNDgzNzU4OGI0MWU5MDUzMGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTI2NTcwMDAwMDAwMDQsLTc5LjI2NDg0ODFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNiZThlNDVjNmYxNjQ1N2JiMTNlOGNmYjNiMjYxYzVhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcxMzgzZDcyMTg2NTQ1ODVhYTYxMGVjMzA1ZjJmOTEwID0gJCgnPGRpdiBpZD0iaHRtbF83MTM4M2Q3MjE4NjU0NTg1YWE2MTBlYzMwNWYyZjkxMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsIENsaWZmc2lkZSBXZXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2JlOGU0NWM2ZjE2NDU3YmIxM2U4Y2ZiM2IyNjFjNWEuc2V0Q29udGVudChodG1sXzcxMzgzZDcyMTg2NTQ1ODVhYTYxMGVjMzA1ZjJmOTEwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzcyZjY5YWRiM2Q0ODRjMjQ4Mzc1ODhiNDFlOTA1MzBmLmJpbmRQb3B1cChwb3B1cF8zYmU4ZTQ1YzZmMTY0NTdiYjEzZThjZmIzYjI2MWM1YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81Yjc4NTdkNGU4MmE0YzEzOTU0ZTYxNzhmOTA5YTM5ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsLTc5LjI3MzMwNDAwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNzFkOTJjMTE1OTk0NDA3YjY3MTM5YzA5MWVkNTg5ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZDZjOGQ0MjdiNTE0MjE5OTM2NDQ4M2I4ODY4ZjYyYyA9ICQoJzxkaXYgaWQ9Imh0bWxfMWQ2YzhkNDI3YjUxNDIxOTkzNjQ0ODNiODg2OGY2MmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvcnNldCBQYXJrLCBTY2FyYm9yb3VnaCBUb3duIENlbnRyZSwgV2V4Zm9yZCBIZWlnaHRzLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTcxZDkyYzExNTk5NDQwN2I2NzEzOWMwOTFlZDU4OWQuc2V0Q29udGVudChodG1sXzFkNmM4ZDQyN2I1MTQyMTk5MzY0NDgzYjg4NjhmNjJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzViNzg1N2Q0ZTgyYTRjMTM5NTRlNjE3OGY5MDlhMzllLmJpbmRQb3B1cChwb3B1cF9lNzFkOTJjMTE1OTk0NDA3YjY3MTM5YzA5MWVkNTg5ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNWFlNzBlZWI3M2I0MWQwYTVhOTgzNThhMTczY2ZhNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MDA3MTUwMDAwMDAwNCwtNzkuMjk1ODQ5MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2UyNzc0ZDY4YTg2NDZmZWIzZGFhYjc2Y2FjNGUxY2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWUyMDMyYmJiN2E1NGJjZDkyMzI0OTY4MWZiYWVjM2IgPSAkKCc8ZGl2IGlkPSJodG1sX2FlMjAzMmJiYjdhNTRiY2Q5MjMyNDk2ODFmYmFlYzNiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXJ5dmFsZSwgV2V4Zm9yZCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdlMjc3NGQ2OGE4NjQ2ZmViM2RhYWI3NmNhYzRlMWNiLnNldENvbnRlbnQoaHRtbF9hZTIwMzJiYmI3YTU0YmNkOTIzMjQ5NjgxZmJhZWMzYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lNWFlNzBlZWI3M2I0MWQwYTVhOTgzNThhMTczY2ZhNi5iaW5kUG9wdXAocG9wdXBfN2UyNzc0ZDY4YTg2NDZmZWIzZGFhYjc2Y2FjNGUxY2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGE2MWZhZjVjMDIxNDQ5NmI4NGFlNDRjMDQ4OGE4MWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTQyMDAzLC03OS4yNjIwMjk0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTcyMzllM2JmZTk1NGY1MGE4ZjU4MjI2YWQ3Nzk0MmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGJiOWI3ODE2ZGRmNDBmNzk0ZDJhMGNkZmM5OWEyMDkgPSAkKCc8ZGl2IGlkPSJodG1sXzRiYjliNzgxNmRkZjQwZjc5NGQyYTBjZGZjOTlhMjA5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NzIzOWUzYmZlOTU0ZjUwYThmNTgyMjZhZDc3OTQyYy5zZXRDb250ZW50KGh0bWxfNGJiOWI3ODE2ZGRmNDBmNzk0ZDJhMGNkZmM5OWEyMDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGE2MWZhZjVjMDIxNDQ5NmI4NGFlNDRjMDQ4OGE4MWEuYmluZFBvcHVwKHBvcHVwXzk3MjM5ZTNiZmU5NTRmNTBhOGY1ODIyNmFkNzc5NDJjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y0NzJjOTIzYjEwODQ0M2M5ZjUyYTY1ZTIyZDhmMGFhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgxNjM3NSwtNzkuMzA0MzAyMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTAzZTEzM2NkMzkxNDU0MDg5MTVlNDcyZTUxNmRlMjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzI5OGFjZDVhYzI2NGYwMzgwODI0OTU5MWVjYTgwNjkgPSAkKCc8ZGl2IGlkPSJodG1sXzcyOThhY2Q1YWMyNjRmMDM4MDgyNDk1OTFlY2E4MDY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFya3MgQ29ybmVycywgU3VsbGl2YW4sIFRhbSBPJiMzOTtTaGFudGVyLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTAzZTEzM2NkMzkxNDU0MDg5MTVlNDcyZTUxNmRlMjYuc2V0Q29udGVudChodG1sXzcyOThhY2Q1YWMyNjRmMDM4MDgyNDk1OTFlY2E4MDY5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y0NzJjOTIzYjEwODQ0M2M5ZjUyYTY1ZTIyZDhmMGFhLmJpbmRQb3B1cChwb3B1cF81MDNlMTMzY2QzOTE0NTQwODkxNWU0NzJlNTE2ZGUyNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82MzY1YTM3OTg1NTM0YzNmOWQ2MWYzYzJjMWU5ODg5OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgxNTI1MjIsLTc5LjI4NDU3NzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUwZGM4OGY0NzQxZjRlOWFhZmY1Y2VmOTBiZDk2YmFlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM2YzdlOThjMGNkNzQwOWM4ODI4Y2ZkMTUwODhjYWMwID0gJCgnPGRpdiBpZD0iaHRtbF8zNmM3ZTk4YzBjZDc0MDljODgyOGNmZDE1MDg4Y2FjMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IE5vcnRoLCBMJiMzOTtBbW9yZWF1eCBFYXN0LCBNaWxsaWtlbiwgU3RlZWxlcyBFYXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTBkYzg4ZjQ3NDFmNGU5YWFmZjVjZWY5MGJkOTZiYWUuc2V0Q29udGVudChodG1sXzM2YzdlOThjMGNkNzQwOWM4ODI4Y2ZkMTUwODhjYWMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzYzNjVhMzc5ODU1MzRjM2Y5ZDYxZjNjMmMxZTk4ODk4LmJpbmRQb3B1cChwb3B1cF81MGRjODhmNDc0MWY0ZTlhYWZmNWNlZjkwYmQ5NmJhZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83OTNjMzMxYWU0ODU0MjNmOGJlMWNkMjJjYjkxZjg2NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5OTUyNTIwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzliODA2MWYxYjUxNDlhODk2YjllNGNhYWFiZTQyMTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGEwNTJkZjllOTEyNDNiNThmMzZhMDY0ZjRmM2NmNzEgPSAkKCc8ZGl2IGlkPSJodG1sXzBhMDUyZGY5ZTkxMjQzYjU4ZjM2YTA2NGY0ZjNjZjcxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MJiMzOTtBbW9yZWF1eCBXZXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzliODA2MWYxYjUxNDlhODk2YjllNGNhYWFiZTQyMTMuc2V0Q29udGVudChodG1sXzBhMDUyZGY5ZTkxMjQzYjU4ZjM2YTA2NGY0ZjNjZjcxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc5M2MzMzFhZTQ4NTQyM2Y4YmUxY2QyMmNiOTFmODY3LmJpbmRQb3B1cChwb3B1cF83OWI4MDYxZjFiNTE0OWE4OTZiOWU0Y2FhYWJlNDIxMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kYmI3ZDhiZjdjYzE0MjY4OWFmMDc1YWY1ZjE0N2ViYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgzNjEyNDcwMDAwMDAwNiwtNzkuMjA1NjM2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkyYmY2OGQzODQwOTRhN2FhZTg0NTFmYTI1NTA1M2QwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc3NjA5MjgzNmU4NDQyNzc4MjE1NTg5ZTJjMWE1OTk5ID0gJCgnPGRpdiBpZD0iaHRtbF83NzYwOTI4MzZlODQ0Mjc3ODIxNTU4OWUyYzFhNTk5OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VXBwZXIgUm91Z2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MmJmNjhkMzg0MDk0YTdhYWU4NDUxZmEyNTUwNTNkMC5zZXRDb250ZW50KGh0bWxfNzc2MDkyODM2ZTg0NDI3NzgyMTU1ODllMmMxYTU5OTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGJiN2Q4YmY3Y2MxNDI2ODlhZjA3NWFmNWYxNDdlYmEuYmluZFBvcHVwKHBvcHVwXzkyYmY2OGQzODQwOTRhN2FhZTg0NTFmYTI1NTA1M2QwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkzY2Y3Mjk4NjA4ZDRmOWM5NTJkMDgxNzlkMWM4MTVjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODAzNzYyMiwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTMyYjkxZDNiZDI1NDJkZDk2YmFhYjE5ZDljMGU1OGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDZjYmFhYTZlODVlNDUzYTk3MjY0YmY1YjNiZjgwZGIgPSAkKCc8ZGl2IGlkPSJodG1sXzA2Y2JhYWE2ZTg1ZTQ1M2E5NzI2NGJmNWIzYmY4MGRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWxsY3Jlc3QgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTMyYjkxZDNiZDI1NDJkZDk2YmFhYjE5ZDljMGU1OGQuc2V0Q29udGVudChodG1sXzA2Y2JhYWE2ZTg1ZTQ1M2E5NzI2NGJmNWIzYmY4MGRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzkzY2Y3Mjk4NjA4ZDRmOWM5NTJkMDgxNzlkMWM4MTVjLmJpbmRQb3B1cChwb3B1cF85MzJiOTFkM2JkMjU0MmRkOTZiYWFiMTlkOWMwZTU4ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YWNkZWRiNzVlMzY0ODFhODY1YjIxZmMxZDY0Zjk1NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3ODUxNzUsLTc5LjM0NjU1NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk4OWViNWMyOTEzMzQyNGI5ZWEzZTRhNjY2ZDViNWFmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJjZjk3MTVhN2JkNDQ5ODA5YzVlMDAyMmYxMTg5ZjJjID0gJCgnPGRpdiBpZD0iaHRtbF8yY2Y5NzE1YTdiZDQ0OTgwOWM1ZTAwMjJmMTE4OWYyYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmFpcnZpZXcsIEhlbnJ5IEZhcm0sIE9yaW9sZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTg5ZWI1YzI5MTMzNDI0YjllYTNlNGE2NjZkNWI1YWYuc2V0Q29udGVudChodG1sXzJjZjk3MTVhN2JkNDQ5ODA5YzVlMDAyMmYxMTg5ZjJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVhY2RlZGI3NWUzNjQ4MWE4NjViMjFmYzFkNjRmOTU3LmJpbmRQb3B1cChwb3B1cF85ODllYjVjMjkxMzM0MjRiOWVhM2U0YTY2NmQ1YjVhZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hODk4MmQxYTkwMTU0YThjYjI3OTk5YmVmYjEwMmQ3YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDE1OGUzMTE5ZTc1NDIzZTg3YmNjZjkxNjQ2NDRkODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTkyNTIyZTYzNzEwNGRiZGExYzJhMDIwNzNlMTI4N2QgPSAkKCc8ZGl2IGlkPSJodG1sXzU5MjUyMmU2MzcxMDRkYmRhMWMyYTAyMDczZTEyODdkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXl2aWV3IFZpbGxhZ2UsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQxNThlMzExOWU3NTQyM2U4N2JjY2Y5MTY0NjQ0ZDg5LnNldENvbnRlbnQoaHRtbF81OTI1MjJlNjM3MTA0ZGJkYTFjMmEwMjA3M2UxMjg3ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hODk4MmQxYTkwMTU0YThjYjI3OTk5YmVmYjEwMmQ3YS5iaW5kUG9wdXAocG9wdXBfNDE1OGUzMTE5ZTc1NDIzZTg3YmNjZjkxNjQ2NDRkODkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTI1NWRkZjMxZDE3NDVmNTljNWY4ZDVhMDVhYTE0ZjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTc0OTAyLC03OS4zNzQ3MTQwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWJiZWQ3MTBjMmVkNGQzNWEwZTcxYzQyYmEyZDJkMTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGQ3NTVhNDUzYTVkNDQzN2FhZTAzNTI5NmJiODRkZDAgPSAkKCc8ZGl2IGlkPSJodG1sXzBkNzU1YTQ1M2E1ZDQ0MzdhYWUwMzUyOTZiYjg0ZGQwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TaWx2ZXIgSGlsbHMsIFlvcmsgTWlsbHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ViYmVkNzEwYzJlZDRkMzVhMGU3MWM0MmJhMmQyZDEwLnNldENvbnRlbnQoaHRtbF8wZDc1NWE0NTNhNWQ0NDM3YWFlMDM1Mjk2YmI4NGRkMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MjU1ZGRmMzFkMTc0NWY1OWM1ZjhkNWEwNWFhMTRmNy5iaW5kUG9wdXAocG9wdXBfZWJiZWQ3MTBjMmVkNGQzNWEwZTcxYzQyYmEyZDJkMTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWNhNWMxMzIzMWQwNGI3OGE3YjllNTczMTVjZTVkYjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODkwNTMsLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xOThkM2MzOTc2MTE0YjkwOTkyMGQyODM3ZmUyMTNkMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80Yjg2OGVjMTU4M2U0Y2YwYjM3NDVkYTFkMjgzMjEwOCA9ICQoJzxkaXYgaWQ9Imh0bWxfNGI4NjhlYzE1ODNlNGNmMGIzNzQ1ZGExZDI4MzIxMDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5ld3RvbmJyb29rLCBXaWxsb3dkYWxlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xOThkM2MzOTc2MTE0YjkwOTkyMGQyODM3ZmUyMTNkMS5zZXRDb250ZW50KGh0bWxfNGI4NjhlYzE1ODNlNGNmMGIzNzQ1ZGExZDI4MzIxMDgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWNhNWMxMzIzMWQwNGI3OGE3YjllNTczMTVjZTVkYjUuYmluZFBvcHVwKHBvcHVwXzE5OGQzYzM5NzYxMTRiOTA5OTIwZDI4MzdmZTIxM2QxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MwOGUwMmE5Njg4NjQwZWNhMGY0MmQyZmNhNTZhYTI5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwMTE5OSwtNzkuNDA4NDkyNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg1YjkzMDAzZGMwYjQzNWZiZDYzOTE5NDhmMzExOWNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE3ZWQ4MzIyZGI1YzQ3OWViZjcxMWMwMjQxMmIzMmM3ID0gJCgnPGRpdiBpZD0iaHRtbF8xN2VkODMyMmRiNWM0NzllYmY3MTFjMDI0MTJiMzJjNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSBTb3V0aCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODViOTMwMDNkYzBiNDM1ZmJkNjM5MTk0OGYzMTE5Y2Yuc2V0Q29udGVudChodG1sXzE3ZWQ4MzIyZGI1YzQ3OWViZjcxMWMwMjQxMmIzMmM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MwOGUwMmE5Njg4NjQwZWNhMGY0MmQyZmNhNTZhYTI5LmJpbmRQb3B1cChwb3B1cF84NWI5MzAwM2RjMGI0MzVmYmQ2MzkxOTQ4ZjMxMTljZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZTk3MTI5NjNmMDQ0NjRmYTU0ZTZhOTA5ODY2ZGU0ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1Mjc1ODI5OTk5OTk5NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2Y4ZDg1YzY5Y2Q5NGUxM2I4YjVmNTRiODM3N2VjY2QgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWY5NjIzYTQxM2I1NDM1ZWJjMGU0N2EwMjljMDdiYTAgPSAkKCc8ZGl2IGlkPSJodG1sX2VmOTYyM2E0MTNiNTQzNWViYzBlNDdhMDI5YzA3YmEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NmOGQ4NWM2OWNkOTRlMTNiOGI1ZjU0YjgzNzdlY2NkLnNldENvbnRlbnQoaHRtbF9lZjk2MjNhNDEzYjU0MzVlYmMwZTQ3YTAyOWMwN2JhMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZTk3MTI5NjNmMDQ0NjRmYTU0ZTZhOTA5ODY2ZGU0ZS5iaW5kUG9wdXAocG9wdXBfY2Y4ZDg1YzY5Y2Q5NGUxM2I4YjVmNTRiODM3N2VjY2QpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjhmNjMyZTllM2I3NGI3N2E4MDJiZWY2MjNjOTgyMTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMGVjOTNlMmJiYmQ0NjIzYmI4ZTFkYTYxMzZmNTBhZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OGY3YzljMjU3Njk0ODNjYTczYTFhN2ZlNGMzY2I2NyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzhmN2M5YzI1NzY5NDgzY2E3M2ExYTdmZTRjM2NiNjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTBlYzkzZTJiYmJkNDYyM2JiOGUxZGE2MTM2ZjUwYWYuc2V0Q29udGVudChodG1sXzc4ZjdjOWMyNTc2OTQ4M2NhNzNhMWE3ZmU0YzNjYjY3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI4ZjYzMmU5ZTNiNzRiNzdhODAyYmVmNjIzYzk4MjEyLmJpbmRQb3B1cChwb3B1cF9lMGVjOTNlMmJiYmQ0NjIzYmI4ZTFkYTYxMzZmNTBhZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZDJmN2NmZmI3Nzg0Zjk5YmRmZWJkY2MzMzU5ODYyZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MzI1ODYsLTc5LjMyOTY1NjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdmNzQ2YjdlMzEyMDQyMzQ5MTE3YmY2MjJmMTc1ZjBmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y0YmZjMDlhMjcwYjQ3MmZiZDhjY2JmMTE5MDM5NmRiID0gJCgnPGRpdiBpZD0iaHRtbF9mNGJmYzA5YTI3MGI0NzJmYmQ4Y2NiZjExOTAzOTZkYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya3dvb2RzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83Zjc0NmI3ZTMxMjA0MjM0OTExN2JmNjIyZjE3NWYwZi5zZXRDb250ZW50KGh0bWxfZjRiZmMwOWEyNzBiNDcyZmJkOGNjYmYxMTkwMzk2ZGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGQyZjdjZmZiNzc4NGY5OWJkZmViZGNjMzM1OTg2MmUuYmluZFBvcHVwKHBvcHVwXzdmNzQ2YjdlMzEyMDQyMzQ5MTE3YmY2MjJmMTc1ZjBmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2RkYzk4ZDVlZTU1NzQ3NGRhZWJjMTczMWY5ZmZlMzVmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ1OTA1Nzk5OTk5OTk2LC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlhN2VkMjE4M2MyYzQ4MDViYzkwNTc4NTgxM2Y2NzRmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M4ZDMzNzRmZmZmMjQ2ZWZiNDA2N2Y5Mjk5OTdlNWU5ID0gJCgnPGRpdiBpZD0iaHRtbF9jOGQzMzc0ZmZmZjI0NmVmYjQwNjdmOTI5OTk3ZTVlOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzIE5vcnRoLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85YTdlZDIxODNjMmM0ODA1YmM5MDU3ODU4MTNmNjc0Zi5zZXRDb250ZW50KGh0bWxfYzhkMzM3NGZmZmYyNDZlZmI0MDY3ZjkyOTk5N2U1ZTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGRjOThkNWVlNTU3NDc0ZGFlYmMxNzMxZjlmZmUzNWYuYmluZFBvcHVwKHBvcHVwXzlhN2VkMjE4M2MyYzQ4MDViYzkwNTc4NTgxM2Y2NzRmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU3MjBlZTVmYzBmMDQ3OTY5OGM2N2EzODJiYmVkZGVkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODk5NzAwMDAwMDEsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMThkNDM1ZjM4NzZiNDdkNTlkOWY5MWRkY2NhOWViNTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDAwZWQwMWUxOWQyNDVjY2FjMzIwYjU4OWI4ZjM2NzkgPSAkKCc8ZGl2IGlkPSJodG1sXzQwMGVkMDFlMTlkMjQ1Y2NhYzMyMGI1ODliOGYzNjc5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GbGVtaW5nZG9uIFBhcmssIERvbiBNaWxscyBTb3V0aCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMThkNDM1ZjM4NzZiNDdkNTlkOWY5MWRkY2NhOWViNTUuc2V0Q29udGVudChodG1sXzQwMGVkMDFlMTlkMjQ1Y2NhYzMyMGI1ODliOGYzNjc5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU3MjBlZTVmYzBmMDQ3OTY5OGM2N2EzODJiYmVkZGVkLmJpbmRQb3B1cChwb3B1cF8xOGQ0MzVmMzg3NmI0N2Q1OWQ5ZjkxZGRjY2E5ZWI1NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNGEwZWY5M2Y1MGU0NDAzYTZkYmM3OGE5MjIyYzExZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDMyODMsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M0NjU0YzEyMjM1NjRiMzViNjA0NDk5NThiOGVlOTgyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VhNTMzODdkNDRhNTRmZTRhNDFhNmI0ODQ5NWU4MjA5ID0gJCgnPGRpdiBpZD0iaHRtbF9lYTUzMzg3ZDQ0YTU0ZmU0YTQxYTZiNDg0OTVlODIwOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF0aHVyc3QgTWFub3IsIERvd25zdmlldyBOb3J0aCwgV2lsc29uIEhlaWdodHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M0NjU0YzEyMjM1NjRiMzViNjA0NDk5NThiOGVlOTgyLnNldENvbnRlbnQoaHRtbF9lYTUzMzg3ZDQ0YTU0ZmU0YTQxYTZiNDg0OTVlODIwOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zNGEwZWY5M2Y1MGU0NDAzYTZkYmM3OGE5MjIyYzExZS5iaW5kUG9wdXAocG9wdXBfYzQ2NTRjMTIyMzU2NGIzNWI2MDQ0OTk1OGI4ZWU5ODIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODFlZmNlZDQ3ZTRmNDY1YmJkNWE0MTQ4NTMwYTlkNTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njc5ODAzLC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTg5YmY4N2NkMGI3NDU1ZmIwODg4MzFiY2ZiNGUyNzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDE0MWQzN2ZlMzkxNDQwN2JjMDMwMGZiZWUwZWIwMTcgPSAkKCc8ZGl2IGlkPSJodG1sXzQxNDFkMzdmZTM5MTQ0MDdiYzAzMDBmYmVlMGViMDE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyaywgWW9yayBVbml2ZXJzaXR5LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ODliZjg3Y2QwYjc0NTVmYjA4ODgzMWJjZmI0ZTI3NS5zZXRDb250ZW50KGh0bWxfNDE0MWQzN2ZlMzkxNDQwN2JjMDMwMGZiZWUwZWIwMTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODFlZmNlZDQ3ZTRmNDY1YmJkNWE0MTQ4NTMwYTlkNTkuYmluZFBvcHVwKHBvcHVwXzU4OWJmODdjZDBiNzQ1NWZiMDg4ODMxYmNmYjRlMjc1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUzMDUxZmY2NDFmNDRhNjFiYjNjMTZiMzU4ZDQ3N2VlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3NDczMjAwMDAwMDA0LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjgxZjc4NWRkMmNjNDU3NzhkZGFlYTU2YzE4NjY5YzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2ZiOWM0YzZjMTM1NDY2NGJkOTUzNjBjN2M1Mzc2MWQgPSAkKCc8ZGl2IGlkPSJodG1sX2NmYjljNGM2YzEzNTQ2NjRiZDk1MzYwYzdjNTM3NjFkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DRkIgVG9yb250bywgRG93bnN2aWV3IEVhc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI4MWY3ODVkZDJjYzQ1Nzc4ZGRhZWE1NmMxODY2OWM0LnNldENvbnRlbnQoaHRtbF9jZmI5YzRjNmMxMzU0NjY0YmQ5NTM2MGM3YzUzNzYxZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MzA1MWZmNjQxZjQ0YTYxYmIzYzE2YjM1OGQ0NzdlZS5iaW5kUG9wdXAocG9wdXBfMjgxZjc4NWRkMmNjNDU3NzhkZGFlYTU2YzE4NjY5YzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGE5NjhmNTJhMjYyNGNmM2JmNmI5NDgzMjQwMjU2YTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzkwMTQ2LC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iMzZjNWQyZWRlMzM0NzNiOWRmNGQwNGJjOWViNzY3MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMjg3Zjg4NWUxZjE0NGYzODMyYTQ1MjNjYjYzYjgyMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYTI4N2Y4ODVlMWYxNDRmMzgzMmE0NTIzY2I2M2I4MjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBXZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMzZjNWQyZWRlMzM0NzNiOWRmNGQwNGJjOWViNzY3MS5zZXRDb250ZW50KGh0bWxfYTI4N2Y4ODVlMWYxNDRmMzgzMmE0NTIzY2I2M2I4MjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGE5NjhmNTJhMjYyNGNmM2JmNmI5NDgzMjQwMjU2YTguYmluZFBvcHVwKHBvcHVwX2IzNmM1ZDJlZGUzMzQ3M2I5ZGY0ZDA0YmM5ZWI3NjcxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk2OGU4OWUyYzk3ZTRiOTM5MzA0MzhmOGI2Mzc3NDFhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4NDk2NCwtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YyZTk2YzEwMWNhOTQ0ZDU4YjA2ZjMzNWI5YWU3YWMxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFkZWZjODg2MmJjOTQ1OGI5OTRjZmNmNmUyMDk5YmI2ID0gJCgnPGRpdiBpZD0iaHRtbF8xZGVmYzg4NjJiYzk0NThiOTk0Y2ZjZjZlMjA5OWJiNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IENlbnRyYWwsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YyZTk2YzEwMWNhOTQ0ZDU4YjA2ZjMzNWI5YWU3YWMxLnNldENvbnRlbnQoaHRtbF8xZGVmYzg4NjJiYzk0NThiOTk0Y2ZjZjZlMjA5OWJiNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NjhlODllMmM5N2U0YjkzOTMwNDM4ZjhiNjM3NzQxYS5iaW5kUG9wdXAocG9wdXBfZjJlOTZjMTAxY2E5NDRkNThiMDZmMzM1YjlhZTdhYzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGIyYmUzNWQ3NGU3NDFiNjllNzExMTJlM2UzYTQ2ZjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjE2MzEzLC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDIwNTA3ODExYjQ5NGI4ZGE3ZTkyZGFmNWFjOTYzNzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzM1MzE4NTBlNjM2NGZiMDg5OTYzZmYwOWMzNjBjYjQgPSAkKCc8ZGl2IGlkPSJodG1sXzczNTMxODUwZTYzNjRmYjA4OTk2M2ZmMDljMzYwY2I0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgTm9ydGh3ZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kMjA1MDc4MTFiNDk0YjhkYTdlOTJkYWY1YWM5NjM3Ny5zZXRDb250ZW50KGh0bWxfNzM1MzE4NTBlNjM2NGZiMDg5OTYzZmYwOWMzNjBjYjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGIyYmUzNWQ3NGU3NDFiNjllNzExMTJlM2UzYTQ2ZjEuYmluZFBvcHVwKHBvcHVwX2QyMDUwNzgxMWI0OTRiOGRhN2U5MmRhZjVhYzk2Mzc3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgyMzk5YmQ0NjVlZDRhOTM5YTRkYjJiY2ZlYmNjYjg0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODgyMjk5OTk5OTk1LC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWJjMzA0ZWEyZjg3NGM2ZGE0ZDdhNDZjODE3MDE1MmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTE3MWEyZTdhZWUxNDY2OTlkNmQyZWYwZGQzMWE0YTAgPSAkKCc8ZGl2IGlkPSJodG1sX2UxNzFhMmU3YWVlMTQ2Njk5ZDZkMmVmMGRkMzFhNGEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0b3JpYSBWaWxsYWdlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYmMzMDRlYTJmODc0YzZkYTRkN2E0NmM4MTcwMTUyYy5zZXRDb250ZW50KGh0bWxfZTE3MWEyZTdhZWUxNDY2OTlkNmQyZWYwZGQzMWE0YTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODIzOTliZDQ2NWVkNGE5MzlhNGRiMmJjZmViY2NiODQuYmluZFBvcHVwKHBvcHVwX2ViYzMwNGVhMmY4NzRjNmRhNGQ3YTQ2YzgxNzAxNTJjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q2YzJkMjE2M2VlMjQ2NGZiYTE5Yjc5YzgyYWE4YjUzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2Mzk3MiwtNzkuMzA5OTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMTQ5NzVkODg1OWY0OTI4ODU5MmFkYmY0ZTYzMjk5NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYjhiYTJhMDA1ZjU0NDI4OWM1NWQ1ODlkNzJiM2UyYiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGI4YmEyYTAwNWY1NDQyODljNTVkNTg5ZDcyYjNlMmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvb2RiaW5lIEdhcmRlbnMsIFBhcmt2aWV3IEhpbGwsIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjE0OTc1ZDg4NTlmNDkyODg1OTJhZGJmNGU2MzI5OTcuc2V0Q29udGVudChodG1sX2RiOGJhMmEwMDVmNTQ0Mjg5YzU1ZDU4OWQ3MmIzZTJiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q2YzJkMjE2M2VlMjQ2NGZiYTE5Yjc5YzgyYWE4YjUzLmJpbmRQb3B1cChwb3B1cF8yMTQ5NzVkODg1OWY0OTI4ODU5MmFkYmY0ZTYzMjk5Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mYzIyMWVkMThhNWY0M2QyYTJlMjcwMDg5NDUxODg1OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NTM0MzkwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjcyNjc5NTE4YWU0NGFmZjg4OTY2MGMzY2ViMTJlYmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTg0MTIzNTk2OTkzNDNhODgyMjcxZDIxZmM0YmVlZDkgPSAkKCc8ZGl2IGlkPSJodG1sX2U4NDEyMzU5Njk5MzQzYTg4MjI3MWQyMWZjNGJlZWQ5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBIZWlnaHRzLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I3MjY3OTUxOGFlNDRhZmY4ODk2NjBjM2NlYjEyZWJjLnNldENvbnRlbnQoaHRtbF9lODQxMjM1OTY5OTM0M2E4ODIyNzFkMjFmYzRiZWVkOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mYzIyMWVkMThhNWY0M2QyYTJlMjcwMDg5NDUxODg1OC5iaW5kUG9wdXAocG9wdXBfYjcyNjc5NTE4YWU0NGFmZjg4OTY2MGMzY2ViMTJlYmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWU4ZmU0Y2JkY2I0NDA5MzhiNWVhZDFmMWMwMGIwYWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGFjODFhYTQ3MWM4NDVhNGEwNWM0YzYyMjliYzEzZDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWUzN2JhMTBlOGY0NDNiZWI3NjRiMjZiMjY1YjM3ZWUgPSAkKCc8ZGl2IGlkPSJodG1sXzFlMzdiYTEwZThmNDQzYmViNzY0YjI2YjI2NWIzN2VlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQmVhY2hlcywgRWFzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYWM4MWFhNDcxYzg0NWE0YTA1YzRjNjIyOWJjMTNkMS5zZXRDb250ZW50KGh0bWxfMWUzN2JhMTBlOGY0NDNiZWI3NjRiMjZiMjY1YjM3ZWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWU4ZmU0Y2JkY2I0NDA5MzhiNWVhZDFmMWMwMGIwYWIuYmluZFBvcHVwKHBvcHVwX2RhYzgxYWE0NzFjODQ1YTRhMDVjNGM2MjI5YmMxM2QxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2YzOTY5ZjZiZDI1ZDRiMTNiNDBlYWE3MWRhZGJkZjBjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA5MDYwNCwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDgyZmJjMjMyZGVhNDg5YWIyMDA0ZTlhMWExMDczODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTM0ZjlkZTllZjI2NDZhMGI4MzgzODMzMDBiOTI4MDggPSAkKCc8ZGl2IGlkPSJodG1sXzUzNGY5ZGU5ZWYyNjQ2YTBiODM4MzgzMzAwYjkyODA4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MZWFzaWRlLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ4MmZiYzIzMmRlYTQ4OWFiMjAwNGU5YTFhMTA3Mzg1LnNldENvbnRlbnQoaHRtbF81MzRmOWRlOWVmMjY0NmEwYjgzODM4MzMwMGI5MjgwOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mMzk2OWY2YmQyNWQ0YjEzYjQwZWFhNzFkYWRiZGYwYy5iaW5kUG9wdXAocG9wdXBfNDgyZmJjMjMyZGVhNDg5YWIyMDA0ZTlhMWExMDczODUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzNjOGM4NmIxNjViNGU0YmI3ZDMyNjhiZjFmNmM4ZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LC03OS4zNDkzNzE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGU4NzljMmRjZTk0NDZmNGExMjg4M2EyNzFlM2Y1NjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzE3ZmJmZDQwNDEzNDNiZTk0NjlmMjU1N2ZmMmEwYmIgPSAkKCc8ZGl2IGlkPSJodG1sXzcxN2ZiZmQ0MDQxMzQzYmU5NDY5ZjI1NTdmZjJhMGJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaG9ybmNsaWZmZSBQYXJrLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhlODc5YzJkY2U5NDQ2ZjRhMTI4ODNhMjcxZTNmNTY0LnNldENvbnRlbnQoaHRtbF83MTdmYmZkNDA0MTM0M2JlOTQ2OWYyNTU3ZmYyYTBiYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83M2M4Yzg2YjE2NWI0ZTRiYjdkMzI2OGJmMWY2YzhlMi5iaW5kUG9wdXAocG9wdXBfOGU4NzljMmRjZTk0NDZmNGExMjg4M2EyNzFlM2Y1NjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWQ3YmIyMDFiMDI2NDJkMmIwZTJiZjk2ZDlkYTk1OWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODUzNDcsLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRiM2IwNGUxZTY1MDQ2MzliYjhjZmEwYzkwYmE5NGNjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA1ODZhMjg0OThhZDQwZTI5NDM1OWExZjIxOTU2M2FiID0gJCgnPGRpdiBpZD0iaHRtbF8wNTg2YTI4NDk4YWQ0MGUyOTQzNTlhMWYyMTk1NjNhYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBUb3JvbnRvLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiM2IwNGUxZTY1MDQ2MzliYjhjZmEwYzkwYmE5NGNjLnNldENvbnRlbnQoaHRtbF8wNTg2YTI4NDk4YWQ0MGUyOTQzNTlhMWYyMTk1NjNhYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZDdiYjIwMWIwMjY0MmQyYjBlMmJmOTZkOWRhOTU5ZS5iaW5kUG9wdXAocG9wdXBfNGIzYjA0ZTFlNjUwNDYzOWJiOGNmYTBjOTBiYTk0Y2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGMwNjhhOTY5ZDM1NDUxNGFkYjVhZGI0ZTFmYjM5MGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NTcxLC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAxNDNhMDRhNzE1MTQ4YjZiNzE1MzYwZWMwMTUzZThlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RhMTMyMWEzM2E3ODQ5Mzk5OWEyMGYzODExMzdjYjczID0gJCgnPGRpdiBpZD0iaHRtbF9kYTEzMjFhMzNhNzg0OTM5OTlhMjBmMzgxMTM3Y2I3MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIERhbmZvcnRoIFdlc3QsIFJpdmVyZGFsZSwgRWFzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMTQzYTA0YTcxNTE0OGI2YjcxNTM2MGVjMDE1M2U4ZS5zZXRDb250ZW50KGh0bWxfZGExMzIxYTMzYTc4NDkzOTk5YTIwZjM4MTEzN2NiNzMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGMwNjhhOTY5ZDM1NDUxNGFkYjVhZGI0ZTFmYjM5MGUuYmluZFBvcHVwKHBvcHVwXzAxNDNhMDRhNzE1MTQ4YjZiNzE1MzYwZWMwMTUzZThlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBjODA4MjQwMzk5ZDQ5Mjg5ZWJlMzc1NzUyNjMwMmE0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY4OTk4NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk2MGIzMGJiYTM0NDQzZDA5YThhMTFjZDNiODA3YzcyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EzNWMwZGU2YmUzMDQxM2I4ZDNiZWE3YThjYzk5YWEzID0gJCgnPGRpdiBpZD0iaHRtbF9hMzVjMGRlNmJlMzA0MTNiOGQzYmVhN2E4Y2M5OWFhMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEJlYWNoZXMgV2VzdCwgSW5kaWEgQmF6YWFyLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk2MGIzMGJiYTM0NDQzZDA5YThhMTFjZDNiODA3YzcyLnNldENvbnRlbnQoaHRtbF9hMzVjMGRlNmJlMzA0MTNiOGQzYmVhN2E4Y2M5OWFhMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wYzgwODI0MDM5OWQ0OTI4OWViZTM3NTc1MjYzMDJhNC5iaW5kUG9wdXAocG9wdXBfOTYwYjMwYmJhMzQ0NDNkMDlhOGExMWNkM2I4MDdjNzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGE3YTc2NDA5ZTRlNDI2Yjg4MmNiNWQyMTNmNmFkZmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk1MjU1LC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAzNzRkNGVjMDYzMjQ0OThhZDhiZDA0Y2Q2OGNmYjIyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM0NDg3NWI3ODg4NzQ3M2M5NDg2ZGI5NzJlNDg3Yzg0ID0gJCgnPGRpdiBpZD0iaHRtbF8zNDQ4NzViNzg4ODc0NzNjOTQ4NmRiOTcyZTQ4N2M4NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3R1ZGlvIERpc3RyaWN0LCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAzNzRkNGVjMDYzMjQ0OThhZDhiZDA0Y2Q2OGNmYjIyLnNldENvbnRlbnQoaHRtbF8zNDQ4NzViNzg4ODc0NzNjOTQ4NmRiOTcyZTQ4N2M4NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YTdhNzY0MDllNGU0MjZiODgyY2I1ZDIxM2Y2YWRmYS5iaW5kUG9wdXAocG9wdXBfMDM3NGQ0ZWMwNjMyNDQ5OGFkOGJkMDRjZDY4Y2ZiMjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWE1ZDIzZGYyYjBiNGNjZmJmNDBkMjU4ZDRmOTg4ZTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjgwMjA1LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NmI4ZTExYTU5Njk0M2Y2OGFkNDMxMzc4NDZlMTg3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYTI0ZmYzZmZlZTE0NWYwYjVhMjZmMWVjMmE1OTBiZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZWEyNGZmM2ZmZWUxNDVmMGI1YTI2ZjFlYzJhNTkwYmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIFBhcmssIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODZiOGUxMWE1OTY5NDNmNjhhZDQzMTM3ODQ2ZTE4NzIuc2V0Q29udGVudChodG1sX2VhMjRmZjNmZmVlMTQ1ZjBiNWEyNmYxZWMyYTU5MGJmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzlhNWQyM2RmMmIwYjRjY2ZiZjQwZDI1OGQ0Zjk4OGUxLmJpbmRQb3B1cChwb3B1cF84NmI4ZTExYTU5Njk0M2Y2OGFkNDMxMzc4NDZlMTg3Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYjE1YTFlMThhY2U0NjMxODc3OGQ3OGY4ZmM5ZjhiYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMjc1MTEsLTc5LjM5MDE5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y5M2I1NGJiODk0YTQzOTNhOGI2ZTk1ZjZmNzkwMWZjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI3NmViNTczYzZiMzQ4NmI4ODM2NzZjZmUxOGU1M2QxID0gJCgnPGRpdiBpZD0iaHRtbF8yNzZlYjU3M2M2YjM0ODZiODgzNjc2Y2ZlMThlNTNkMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGF2aXN2aWxsZSBOb3J0aCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mOTNiNTRiYjg5NGE0MzkzYThiNmU5NWY2Zjc5MDFmYy5zZXRDb250ZW50KGh0bWxfMjc2ZWI1NzNjNmIzNDg2Yjg4MzY3NmNmZTE4ZTUzZDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmIxNWExZTE4YWNlNDYzMTg3NzhkNzhmOGZjOWY4YmMuYmluZFBvcHVwKHBvcHVwX2Y5M2I1NGJiODk0YTQzOTNhOGI2ZTk1ZjZmNzkwMWZjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M0MjllZTMzNWI2MTQ5MjJiNjdhOGVmYmI2ZTRjZTE2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY5MTEzN2FlNjEzMjRhZDBiN2Q3OWI4OGU0MmUxNWU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk1NDJiMjJmNzI3MTQ4ZjlhOWRjNDQwZGJiOTljMGU1ID0gJCgnPGRpdiBpZD0iaHRtbF85NTQyYjIyZjcyNzE0OGY5YTlkYzQ0MGRiYjk5YzBlNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggVG9yb250byBXZXN0LCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY5MTEzN2FlNjEzMjRhZDBiN2Q3OWI4OGU0MmUxNWU0LnNldENvbnRlbnQoaHRtbF85NTQyYjIyZjcyNzE0OGY5YTlkYzQ0MGRiYjk5YzBlNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jNDI5ZWUzMzViNjE0OTIyYjY3YThlZmJiNmU0Y2UxNi5iaW5kUG9wdXAocG9wdXBfNjkxMTM3YWU2MTMyNGFkMGI3ZDc5Yjg4ZTQyZTE1ZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNThhZGVhMWE5YTg2NDkxNThiNTg1MzQ2ZjExZGZkNzUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQzMjQ0LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NDE4YTliYjkwNGI0MmQwYWRjYzJhNmI4ZjE3YmYzMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNzEwYmI1ODUyZDA0YTAxODE1NWZkMTJhODExYzYzMyA9ICQoJzxkaXYgaWQ9Imh0bWxfMzcxMGJiNTg1MmQwNGEwMTgxNTVmZDEyYTgxMWM2MzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjQxOGE5YmI5MDRiNDJkMGFkY2MyYTZiOGYxN2JmMzMuc2V0Q29udGVudChodG1sXzM3MTBiYjU4NTJkMDRhMDE4MTU1ZmQxMmE4MTFjNjMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU4YWRlYTFhOWE4NjQ5MTU4YjU4NTM0NmYxMWRmZDc1LmJpbmRQb3B1cChwb3B1cF82NDE4YTliYjkwNGI0MmQwYWRjYzJhNmI4ZjE3YmYzMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZGMxZGRkZDZiOGU0MjUxODA0NWExMWY4NTliNjU3NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NzU3NDdhOWM1MzA0MDBmYjdlY2M1Y2JjMjAyZTE3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNDJiMzAxZTQ5YjU0YjQwYWVlYThmZDA1OTNhNDRjMyA9ICQoJzxkaXYgaWQ9Imh0bWxfZTQyYjMwMWU0OWI1NGI0MGFlZWE4ZmQwNTkzYTQ0YzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1vb3JlIFBhcmssIFN1bW1lcmhpbGwgRWFzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NzU3NDdhOWM1MzA0MDBmYjdlY2M1Y2JjMjAyZTE3Mi5zZXRDb250ZW50KGh0bWxfZTQyYjMwMWU0OWI1NGI0MGFlZWE4ZmQwNTkzYTQ0YzMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmRjMWRkZGQ2YjhlNDI1MTgwNDVhMTFmODU5YjY1NzQuYmluZFBvcHVwKHBvcHVwXzg3NTc0N2E5YzUzMDQwMGZiN2VjYzVjYmMyMDJlMTcyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JiYmU1N2YxMzNiZjRiOGE4MTMwMDZiMDRhYTYyMmZkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg2NDEyMjk5OTk5OTksLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY4MDhkMzg0YjljZDRjZDg4MjNiMWZiOWY3N2I2ZDU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRmZmQ4OTM4ODQzMjQ3NTg4ZjM5NTVhOTZiNzEyYjczID0gJCgnPGRpdiBpZD0iaHRtbF80ZmZkODkzODg0MzI0NzU4OGYzOTU1YTk2YjcxMmI3MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVlciBQYXJrLCBGb3Jlc3QgSGlsbCBTRSwgUmF0aG5lbGx5LCBTb3V0aCBIaWxsLCBTdW1tZXJoaWxsIFdlc3QsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjgwOGQzODRiOWNkNGNkODgyM2IxZmI5Zjc3YjZkNTQuc2V0Q29udGVudChodG1sXzRmZmQ4OTM4ODQzMjQ3NTg4ZjM5NTVhOTZiNzEyYjczKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JiYmU1N2YxMzNiZjRiOGE4MTMwMDZiMDRhYTYyMmZkLmJpbmRQb3B1cChwb3B1cF82ODA4ZDM4NGI5Y2Q0Y2Q4ODIzYjFmYjlmNzdiNmQ1NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYTU2Zjg3YTMxMTE0N2RkYmZiZjYyYmJhZmRhNGEyZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU2MjYsLTc5LjM3NzUyOTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZjI0ZGE0N2M5MjQ0NjMwYTc1MDkzMDNmZWYzYjA5YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNzFjMDE2MmJmYjk0YjU2OTdiZTdhNTUwNmZiYmY0ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjcxYzAxNjJiZmI5NGI1Njk3YmU3YTU1MDZmYmJmNGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VkYWxlLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZjI0ZGE0N2M5MjQ0NjMwYTc1MDkzMDNmZWYzYjA5Yy5zZXRDb250ZW50KGh0bWxfYjcxYzAxNjJiZmI5NGI1Njk3YmU3YTU1MDZmYmJmNGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2E1NmY4N2EzMTExNDdkZGJmYmY2MmJiYWZkYTRhMmYuYmluZFBvcHVwKHBvcHVwXzdmMjRkYTQ3YzkyNDQ2MzBhNzUwOTMwM2ZlZjNiMDljKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM1MDIwYjRhYjk3NDQyZWJhYzAyZDk2YzFjNTJhZTQ0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3OTY3LC03OS4zNjc2NzUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xOTg0YTY1NmYyOTc0YThlOGQ4ZThmM2E2YzI2YjY4MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iYTliNGUyOGYzYWM0MWYwYWRmNGQxZjE3ZjFiYTcxYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYmE5YjRlMjhmM2FjNDFmMGFkZjRkMWYxN2YxYmE3MWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhYmJhZ2V0b3duLCBTdC4gSmFtZXMgVG93biwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTk4NGE2NTZmMjk3NGE4ZThkOGU4ZjNhNmMyNmI2ODEuc2V0Q29udGVudChodG1sX2JhOWI0ZTI4ZjNhYzQxZjBhZGY0ZDFmMTdmMWJhNzFiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM1MDIwYjRhYjk3NDQyZWJhYzAyZDk2YzFjNTJhZTQ0LmJpbmRQb3B1cChwb3B1cF8xOTg0YTY1NmYyOTc0YThlOGQ4ZThmM2E2YzI2YjY4MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNmU3YzZjNGRhMmI0ZjMzOTYwNjUxZDJhZDViM2NhZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2NTg1OTksLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YzJhM2RmMTcwZGM0MmZlYmFlZGEyNTc3NjZlYTBmNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMjZlNzFhZDA5Y2Y0MWVmODY2ODgyNjMwMzdlYTY2YiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTI2ZTcxYWQwOWNmNDFlZjg2Njg4MjYzMDM3ZWE2NmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNodXJjaCBhbmQgV2VsbGVzbGV5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81YzJhM2RmMTcwZGM0MmZlYmFlZGEyNTc3NjZlYTBmNS5zZXRDb250ZW50KGh0bWxfYTI2ZTcxYWQwOWNmNDFlZjg2Njg4MjYzMDM3ZWE2NmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjZlN2M2YzRkYTJiNGYzMzk2MDY1MWQyYWQ1YjNjYWQuYmluZFBvcHVwKHBvcHVwXzVjMmEzZGYxNzBkYzQyZmViYWVkYTI1Nzc2NmVhMGY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2RlNzc4OGI1Y2VmNjRhMjZhNzc5NmVlNDdkYmVmZjQxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU0MjU5OSwtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzFmOTkyMDExOTk4NGE2ZTk4MTA3YjdkNTZlNzIxMTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGFhNDBkZjc3ODI2NDNmNTliZjczNmUwYWE1ODI2NzkgPSAkKCc8ZGl2IGlkPSJodG1sX2RhYTQwZGY3NzgyNjQzZjU5YmY3MzZlMGFhNTgyNjc5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXJib3VyZnJvbnQsIFJlZ2VudCBQYXJrLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMWY5OTIwMTE5OTg0YTZlOTgxMDdiN2Q1NmU3MjExOC5zZXRDb250ZW50KGh0bWxfZGFhNDBkZjc3ODI2NDNmNTliZjczNmUwYWE1ODI2NzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGU3Nzg4YjVjZWY2NGEyNmE3Nzk2ZWU0N2RiZWZmNDEuYmluZFBvcHVwKHBvcHVwX2MxZjk5MjAxMTk5ODRhNmU5ODEwN2I3ZDU2ZTcyMTE4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzcyOGM5M2YzMDZhMzRiODNhNWRlNjJjYzUyOWM4ZWY3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3MTYxOCwtNzkuMzc4OTM3MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU0MGE1YTFlZmY3ZjRkM2RhMzIxYWZiN2RkNzJhOGM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QxNWNlNGJmNjU0NjQ5OTY4Yzc2NzEzYzY5ZTlmMDJkID0gJCgnPGRpdiBpZD0iaHRtbF9kMTVjZTRiZjY1NDY0OTk2OGM3NjcxM2M2OWU5ZjAyZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnllcnNvbiwgR2FyZGVuIERpc3RyaWN0LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NDBhNWExZWZmN2Y0ZDNkYTMyMWFmYjdkZDcyYThjNy5zZXRDb250ZW50KGh0bWxfZDE1Y2U0YmY2NTQ2NDk5NjhjNzY3MTNjNjllOWYwMmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzI4YzkzZjMwNmEzNGI4M2E1ZGU2MmNjNTI5YzhlZjcuYmluZFBvcHVwKHBvcHVwXzU0MGE1YTFlZmY3ZjRkM2RhMzIxYWZiN2RkNzJhOGM3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhhODJjYjhhMmQ1ODRhNmNiY2FlODNkYmQwZWI2ZGJjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUxNDkzOSwtNzkuMzc1NDE3OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjk4MjNjMjg2ZGEyNDc5OGJiZjM2ZDNjNTA3NDQ3M2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODY5ZjkyN2M4ZTUwNGUwNmJmN2FkOTM5M2NlYmRhYmUgPSAkKCc8ZGl2IGlkPSJodG1sXzg2OWY5MjdjOGU1MDRlMDZiZjdhZDkzOTNjZWJkYWJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdC4gSmFtZXMgVG93biwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjk4MjNjMjg2ZGEyNDc5OGJiZjM2ZDNjNTA3NDQ3M2Muc2V0Q29udGVudChodG1sXzg2OWY5MjdjOGU1MDRlMDZiZjdhZDkzOTNjZWJkYWJlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhhODJjYjhhMmQ1ODRhNmNiY2FlODNkYmQwZWI2ZGJjLmJpbmRQb3B1cChwb3B1cF8yOTgyM2MyODZkYTI0Nzk4YmJmMzZkM2M1MDc0NDczYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZjQyYjVjMWQ4YWE0OWRiYjliYTE5YmUwMzhmMThhYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDc3MDc5OTk5OTk5NiwtNzkuMzczMzA2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGE5OWM5NjgzMDUxNDcxZjgzMjFjZWUyNTdlODcyNmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmJkZDdjNzI0ZDJhNDZlOWEyNWQyZjg1YzNhZGUxMDAgPSAkKCc8ZGl2IGlkPSJodG1sXzZiZGQ3YzcyNGQyYTQ2ZTlhMjVkMmY4NWMzYWRlMTAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZXJjenkgUGFyaywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGE5OWM5NjgzMDUxNDcxZjgzMjFjZWUyNTdlODcyNmYuc2V0Q29udGVudChodG1sXzZiZGQ3YzcyNGQyYTQ2ZTlhMjVkMmY4NWMzYWRlMTAwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmNDJiNWMxZDhhYTQ5ZGJiOWJhMTliZTAzOGYxOGFiLmJpbmRQb3B1cChwb3B1cF9kYTk5Yzk2ODMwNTE0NzFmODMyMWNlZTI1N2U4NzI2Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yY2Q4NDA5Y2NjZjI0N2IwOTI4Y2Y1ODIwYTM0ZDk2NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1Nzk1MjQsLTc5LjM4NzM4MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JjY2ZkYzdhYTNiNjQzNTY5MzlmNWMyZDI2NTQ4N2QwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U0MjhhZDg2ZjQzODQ2N2M5MGNmNGJhNmZlNWM1Yzc2ID0gJCgnPGRpdiBpZD0iaHRtbF9lNDI4YWQ4NmY0Mzg0NjdjOTBjZjRiYTZmZTVjNWM3NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBCYXkgU3RyZWV0LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iY2NmZGM3YWEzYjY0MzU2OTM5ZjVjMmQyNjU0ODdkMC5zZXRDb250ZW50KGh0bWxfZTQyOGFkODZmNDM4NDY3YzkwY2Y0YmE2ZmU1YzVjNzYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmNkODQwOWNjY2YyNDdiMDkyOGNmNTgyMGEzNGQ5NjUuYmluZFBvcHVwKHBvcHVwX2JjY2ZkYzdhYTNiNjQzNTY5MzlmNWMyZDI2NTQ4N2QwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FjMGFmZjk5NjQxYTQ1NDlhZDE5YTA5OTA5ODJjNmZjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwNTcxMjAwMDAwMDEsLTc5LjM4NDU2NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA4YWUwZDllZmRmNDRhZjI5NmRkN2RmYzBiNDM5NmMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JlYmZhZDdjMmIwOTQ0MWZhNzk2ZjMxMDdmMWViNTkxID0gJCgnPGRpdiBpZD0iaHRtbF9iZWJmYWQ3YzJiMDk0NDFmYTc5NmYzMTA3ZjFlYjU5MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWRlbGFpZGUsIEtpbmcsIFJpY2htb25kLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wOGFlMGQ5ZWZkZjQ0YWYyOTZkZDdkZmMwYjQzOTZjMy5zZXRDb250ZW50KGh0bWxfYmViZmFkN2MyYjA5NDQxZmE3OTZmMzEwN2YxZWI1OTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWMwYWZmOTk2NDFhNDU0OWFkMTlhMDk5MDk4MmM2ZmMuYmluZFBvcHVwKHBvcHVwXzA4YWUwZDllZmRmNDRhZjI5NmRkN2RmYzBiNDM5NmMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyZTZiMjM4NjNmNzQwYmU4YjUzMmIwMGIxM2I2Y2YyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQwODE1NywtNzkuMzgxNzUyMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA5MWUyZDVjN2M4YzQ0YmU4ODgyYjhiNDVmMjVjOGNjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I4ZDBhNDFiMzgyYzRiZWM4YjYyZDdjYzRiNDQ2YWE3ID0gJCgnPGRpdiBpZD0iaHRtbF9iOGQwYTQxYjM4MmM0YmVjOGI2MmQ3Y2M0YjQ0NmFhNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250IEVhc3QsIFRvcm9udG8gSXNsYW5kcywgVW5pb24gU3RhdGlvbiwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDkxZTJkNWM3YzhjNDRiZTg4ODJiOGI0NWYyNWM4Y2Muc2V0Q29udGVudChodG1sX2I4ZDBhNDFiMzgyYzRiZWM4YjYyZDdjYzRiNDQ2YWE3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAyZTZiMjM4NjNmNzQwYmU4YjUzMmIwMGIxM2I2Y2YyLmJpbmRQb3B1cChwb3B1cF8wOTFlMmQ1YzdjOGM0NGJlODg4MmI4YjQ1ZjI1YzhjYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85ZTc4NmJkZjAwZmM0OGZlYjI4ZjcyYjZlNGQ4OTllMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzE3NjgsLTc5LjM4MTU3NjQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NGRjZWM3YTY3N2Y0YTRjOTAyYWM1ZTE5MmY2NzdjZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZDQzNTQ3NjIzYWQ0YTgzOTI4NGQ0Mjk0ZWI2ZGQ3NSA9ICQoJzxkaXYgaWQ9Imh0bWxfZGQ0MzU0NzYyM2FkNGE4MzkyODRkNDI5NGViNmRkNzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlc2lnbiBFeGNoYW5nZSwgVG9yb250byBEb21pbmlvbiBDZW50cmUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ0ZGNlYzdhNjc3ZjRhNGM5MDJhYzVlMTkyZjY3N2NlLnNldENvbnRlbnQoaHRtbF9kZDQzNTQ3NjIzYWQ0YTgzOTI4NGQ0Mjk0ZWI2ZGQ3NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTc4NmJkZjAwZmM0OGZlYjI4ZjcyYjZlNGQ4OTllMS5iaW5kUG9wdXAocG9wdXBfNDRkY2VjN2E2NzdmNGE0YzkwMmFjNWUxOTJmNjc3Y2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjE5NTM4MDkwOTJmNDQwNGIwMjNkMTEwN2ZmNGQxNzggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LC03OS4zNzk4MTY5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWIwOTYwMjgzNjIxNDE3ZDlkOTI5MDhiNjg2YmJjMTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmQ4ZjY5ZWFhYTgwNGQ2MDhkMzNjYmUxYTc0ZTY5YjcgPSAkKCc8ZGl2IGlkPSJodG1sXzJkOGY2OWVhYWE4MDRkNjA4ZDMzY2JlMWE3NGU2OWI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tZXJjZSBDb3VydCwgVmljdG9yaWEgSG90ZWwsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ViMDk2MDI4MzYyMTQxN2Q5ZDkyOTA4YjY4NmJiYzE2LnNldENvbnRlbnQoaHRtbF8yZDhmNjllYWFhODA0ZDYwOGQzM2NiZTFhNzRlNjliNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iMTk1MzgwOTA5MmY0NDA0YjAyM2QxMTA3ZmY0ZDE3OC5iaW5kUG9wdXAocG9wdXBfZWIwOTYwMjgzNjIxNDE3ZDlkOTI5MDhiNjg2YmJjMTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDI3NzA4ZGYxNTZiNGM3NmFjMjQzYzRhMjI2MTUzYjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MDk1MDliNWIzYTg0ZTdkOGUxN2I2NDhiNDVkNDEyNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NTBkZTVlNDlmMjM0YTJiYjFmZjVmNzkwYTdjMWYxOCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTUwZGU1ZTQ5ZjIzNGEyYmIxZmY1Zjc5MGE3YzFmMTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlZGZvcmQgUGFyaywgTGF3cmVuY2UgTWFub3IgRWFzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODA5NTA5YjViM2E4NGU3ZDhlMTdiNjQ4YjQ1ZDQxMjUuc2V0Q29udGVudChodG1sXzk1MGRlNWU0OWYyMzRhMmJiMWZmNWY3OTBhN2MxZjE4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QyNzcwOGRmMTU2YjRjNzZhYzI0M2M0YTIyNjE1M2I4LmJpbmRQb3B1cChwb3B1cF84MDk1MDliNWIzYTg0ZTdkOGUxN2I2NDhiNDVkNDEyNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xOGY0N2E4ZTcwMzQ0ZTQwOGRlNjcxMTE0OGNmMjg3YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMTY5NDgsLTc5LjQxNjkzNTU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85MTA1OWEyNWZhOTc0MWJkOTRhZWVjODIyMzYxYjhjMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZmQzZDNjMjgwYjg0ODFlODkwNDg5OGI5MmUxZjYxMSA9ICQoJzxkaXYgaWQ9Imh0bWxfM2ZkM2QzYzI4MGI4NDgxZTg5MDQ4OThiOTJlMWY2MTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VsYXduLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzkxMDU5YTI1ZmE5NzQxYmQ5NGFlZWM4MjIzNjFiOGMxLnNldENvbnRlbnQoaHRtbF8zZmQzZDNjMjgwYjg0ODFlODkwNDg5OGI5MmUxZjYxMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xOGY0N2E4ZTcwMzQ0ZTQwOGRlNjcxMTE0OGNmMjg3Yi5iaW5kUG9wdXAocG9wdXBfOTEwNTlhMjVmYTk3NDFiZDk0YWVlYzgyMjM2MWI4YzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTdlMDJjZTk1MjExNGU0Y2IwOTkwZDAzNDZmMDJiZDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTY5NDc2LC03OS40MTEzMDcyMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjkxMGM3MjIyOGRlNGIyOTgxMTQ5MTA4ZmRmZGQ2NzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGNhZmI2NzVlZjc1NDA4Y2EyM2U1NTkyMDgyNWU4ZWEgPSAkKCc8ZGl2IGlkPSJodG1sXzBjYWZiNjc1ZWY3NTQwOGNhMjNlNTU5MjA4MjVlOGVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Gb3Jlc3QgSGlsbCBOb3J0aCwgRm9yZXN0IEhpbGwgV2VzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iOTEwYzcyMjI4ZGU0YjI5ODExNDkxMDhmZGZkZDY3OC5zZXRDb250ZW50KGh0bWxfMGNhZmI2NzVlZjc1NDA4Y2EyM2U1NTkyMDgyNWU4ZWEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTdlMDJjZTk1MjExNGU0Y2IwOTkwZDAzNDZmMDJiZDUuYmluZFBvcHVwKHBvcHVwX2I5MTBjNzIyMjhkZTRiMjk4MTE0OTEwOGZkZmRkNjc4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAwMTFiNTQ3MjVmNzQzYWJiNTIzMTcxYWIyMWNmZGQ4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjcyNzA5NywtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYwODcxZWM4NjJkMjQ5ODg4NjhlYjgxNThhMDVmOTY1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA3YzI2YjY4NjIxMDQ2ZTM5ODM5NmRhNjMwOWEzNzQzID0gJCgnPGRpdiBpZD0iaHRtbF8wN2MyNmI2ODYyMTA0NmUzOTgzOTZkYTYzMDlhMzc0MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEFubmV4LCBOb3J0aCBNaWR0b3duLCBZb3JrdmlsbGUsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjA4NzFlYzg2MmQyNDk4ODg2OGViODE1OGEwNWY5NjUuc2V0Q29udGVudChodG1sXzA3YzI2YjY4NjIxMDQ2ZTM5ODM5NmRhNjMwOWEzNzQzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAwMTFiNTQ3MjVmNzQzYWJiNTIzMTcxYWIyMWNmZGQ4LmJpbmRQb3B1cChwb3B1cF82MDg3MWVjODYyZDI0OTg4ODY4ZWI4MTU4YTA1Zjk2NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZTA5NDdmMzg3NDY0ZmI1OTdmOWQyMTU1Y2Q3MTFlZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjY5NTYsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBmMDZjMGQ2YTBlMTRjOTRhMGYwMzNmM2Y4NDkyY2IxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJmZmU0YThhMGM3YTRiMDc5NjBiYzc2ZDY0MjJiZTc5ID0gJCgnPGRpdiBpZD0iaHRtbF8yZmZlNGE4YTBjN2E0YjA3OTYwYmM3NmQ2NDIyYmU3OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm9yZCwgVW5pdmVyc2l0eSBvZiBUb3JvbnRvLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZjA2YzBkNmEwZTE0Yzk0YTBmMDMzZjNmODQ5MmNiMS5zZXRDb250ZW50KGh0bWxfMmZmZTRhOGEwYzdhNGIwNzk2MGJjNzZkNjQyMmJlNzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmUwOTQ3ZjM4NzQ2NGZiNTk3ZjlkMjE1NWNkNzExZWUuYmluZFBvcHVwKHBvcHVwXzBmMDZjMGQ2YTBlMTRjOTRhMGYwMzNmM2Y4NDkyY2IxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdhNGI2YjhkNWQ3MDRkOWRhNTFhNWU4M2E4OWE1ZjFkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUzMjA1NywtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDQwZDA1OTM4ZWViNDJlNWFjYTI2YzJhMmUwNzI1OTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjAzY2ViNmVkZDlmNDUwOTlkZjc2OGQ0MGEzZTU4ZjAgPSAkKCc8ZGl2IGlkPSJodG1sX2YwM2NlYjZlZGQ5ZjQ1MDk5ZGY3NjhkNDBhM2U1OGYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24sIEdyYW5nZSBQYXJrLCBLZW5zaW5ndG9uIE1hcmtldCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDQwZDA1OTM4ZWViNDJlNWFjYTI2YzJhMmUwNzI1OTQuc2V0Q29udGVudChodG1sX2YwM2NlYjZlZGQ5ZjQ1MDk5ZGY3NjhkNDBhM2U1OGYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdhNGI2YjhkNWQ3MDRkOWRhNTFhNWU4M2E4OWE1ZjFkLmJpbmRQb3B1cChwb3B1cF8wNDBkMDU5MzhlZWI0MmU1YWNhMjZjMmEyZTA3MjU5NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZGUwN2VjYTQxN2M0ZjIyYTIyMThmNGRjZDI2NTE5YyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODk0NjcsLTc5LjM5NDQxOTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQzYzZlOWU1N2UyOTQxODRiZTY1MjMzMTUwMTk5ZmJjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE4MjhjY2E3ZmZkNzQ4OGI4MjYwYjE1NmU4Njk5MjQwID0gJCgnPGRpdiBpZD0iaHRtbF8xODI4Y2NhN2ZmZDc0ODhiODI2MGIxNTZlODY5OTI0MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q04gVG93ZXIsIEJhdGh1cnN0IFF1YXksIElzbGFuZCBhaXJwb3J0LCBIYXJib3VyZnJvbnQgV2VzdCwgS2luZyBhbmQgU3BhZGluYSwgUmFpbHdheSBMYW5kcywgU291dGggTmlhZ2FyYSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDNjNmU5ZTU3ZTI5NDE4NGJlNjUyMzMxNTAxOTlmYmMuc2V0Q29udGVudChodG1sXzE4MjhjY2E3ZmZkNzQ4OGI4MjYwYjE1NmU4Njk5MjQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRkZTA3ZWNhNDE3YzRmMjJhMjIxOGY0ZGNkMjY1MTljLmJpbmRQb3B1cChwb3B1cF80M2M2ZTllNTdlMjk0MTg0YmU2NTIzMzE1MDE5OWZiYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNDUxOWY3ODFlN2M0NjBjOWExN2RhYTRkMGRiNTYyOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NjQzNTIsLTc5LjM3NDg0NTk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MTcyOTFiMjMxOTc0ZDdiOWFkYzI4NTBjMjRmMWQ5MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZjgyYzhkNWZkMDA0OTc4YjFhZGQxN2VkYjMxYTZjMCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGY4MmM4ZDVmZDAwNDk3OGIxYWRkMTdlZGIzMWE2YzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0biBBIFBPIEJveGVzIDI1IFRoZSBFc3BsYW5hZGUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgxNzI5MWIyMzE5NzRkN2I5YWRjMjg1MGMyNGYxZDkzLnNldENvbnRlbnQoaHRtbF9kZjgyYzhkNWZkMDA0OTc4YjFhZGQxN2VkYjMxYTZjMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNDUxOWY3ODFlN2M0NjBjOWExN2RhYTRkMGRiNTYyOC5iaW5kUG9wdXAocG9wdXBfODE3MjkxYjIzMTk3NGQ3YjlhZGMyODUwYzI0ZjFkOTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGViODcxYzBhY2U4NDQ3MjlmNTM5NjJkOTQ5MWFjMWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg0MjkyLC03OS4zODIyODAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNzU5MTY1YzBkNDc0MzNkODBiYjIzZjc2YzI2ODJmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NTU4ZTEyMDk1YTI0MWQwOTM2MWMzOWJiZjM1N2MyMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNTU1OGUxMjA5NWEyNDFkMDkzNjFjMzliYmYzNTdjMjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZpcnN0IENhbmFkaWFuIFBsYWNlLCBVbmRlcmdyb3VuZCBjaXR5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNzU5MTY1YzBkNDc0MzNkODBiYjIzZjc2YzI2ODJmZC5zZXRDb250ZW50KGh0bWxfNTU1OGUxMjA5NWEyNDFkMDkzNjFjMzliYmYzNTdjMjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGViODcxYzBhY2U4NDQ3MjlmNTM5NjJkOTQ5MWFjMWEuYmluZFBvcHVwKHBvcHVwXzM3NTkxNjVjMGQ0NzQzM2Q4MGJiMjNmNzZjMjY4MmZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZhZTQ4ODYyMmIxZjRmZTZhMGNiZGZhNDdhYTI5OGJkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE4NTE3OTk5OTk5OTk2LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzlhNGVmNzRiZDRjNDM2MThmZjYxZjY3NDBkMjQ4YmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDQyZmMzNjBiY2IxNDQ1NzlmYjQ3NjhiYzkxNzVkNGMgPSAkKCc8ZGl2IGlkPSJodG1sXzQ0MmZjMzYwYmNiMTQ0NTc5ZmI0NzY4YmM5MTc1ZDRjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBIZWlnaHRzLCBMYXdyZW5jZSBNYW5vciwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzlhNGVmNzRiZDRjNDM2MThmZjYxZjY3NDBkMjQ4YmEuc2V0Q29udGVudChodG1sXzQ0MmZjMzYwYmNiMTQ0NTc5ZmI0NzY4YmM5MTc1ZDRjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZhZTQ4ODYyMmIxZjRmZTZhMGNiZGZhNDdhYTI5OGJkLmJpbmRQb3B1cChwb3B1cF9jOWE0ZWY3NGJkNGM0MzYxOGZmNjFmNjc0MGQyNDhiYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNjUwNzQ4MzA5OTI0YTEyODI4MzE1YWI0MzBmNmM0NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTU3NywtNzkuNDQ1MDcyNTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM3NTU4ODE0ZmQ3ZTQwMGI5YmMxZmJhYTEyYzc5MzI5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU0MjNjNTk3NTEwZTRiMjlhY2Q4ZTc2YTRmYTgyYWYxID0gJCgnPGRpdiBpZD0iaHRtbF81NDIzYzU5NzUxMGU0YjI5YWNkOGU3NmE0ZmE4MmFmMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2xlbmNhaXJuLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNzU1ODgxNGZkN2U0MDBiOWJjMWZiYWExMmM3OTMyOS5zZXRDb250ZW50KGh0bWxfNTQyM2M1OTc1MTBlNGIyOWFjZDhlNzZhNGZhODJhZjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjY1MDc0ODMwOTkyNGExMjgyODMxNWFiNDMwZjZjNDYuYmluZFBvcHVwKHBvcHVwXzM3NTU4ODE0ZmQ3ZTQwMGI5YmMxZmJhYTEyYzc5MzI5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFlZmJmMjhjZThhNTQ0MDU5ZTk1MjNlMmIyMWVmYmJlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkzNzgxMywtNzkuNDI4MTkxNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q2ODZhMGViNTY5OTQ3ODFiMmRmYjQ4ZGNjMzQ3ZmEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgxZjU3MGU4MmRlMzRhMWI4YzI3NTdkYTI2ZDgzOGYxID0gJCgnPGRpdiBpZD0iaHRtbF84MWY1NzBlODJkZTM0YTFiOGMyNzU3ZGEyNmQ4MzhmMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtZXdvb2QtQ2VkYXJ2YWxlLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNjg2YTBlYjU2OTk0NzgxYjJkZmI0OGRjYzM0N2ZhMy5zZXRDb250ZW50KGh0bWxfODFmNTcwZTgyZGUzNGExYjhjMjc1N2RhMjZkODM4ZjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWVmYmYyOGNlOGE1NDQwNTllOTUyM2UyYjIxZWZiYmUuYmluZFBvcHVwKHBvcHVwX2Q2ODZhMGViNTY5OTQ3ODFiMmRmYjQ4ZGNjMzQ3ZmEzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI5YTk0OGE0NjU4ZTQ3MGY5NjUzODZkOWU0OTI0OGNhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5MDI1NiwtNzkuNDUzNTEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MmZhOWEzZmVkYzg0NWRiODlhZDQyOWM2OWZkMmQyOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYjVhYjI2MmM3ZGI0ZGI1OTkwMjgzNGRlODUzMjIyYSA9ICQoJzxkaXYgaWQ9Imh0bWxfZWI1YWIyNjJjN2RiNGRiNTk5MDI4MzRkZTg1MzIyMmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGVkb25pYS1GYWlyYmFua3MsIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUyZmE5YTNmZWRjODQ1ZGI4OWFkNDI5YzY5ZmQyZDI4LnNldENvbnRlbnQoaHRtbF9lYjVhYjI2MmM3ZGI0ZGI1OTkwMjgzNGRlODUzMjIyYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yOWE5NDhhNDY1OGU0NzBmOTY1Mzg2ZDllNDkyNDhjYS5iaW5kUG9wdXAocG9wdXBfNTJmYTlhM2ZlZGM4NDVkYjg5YWQ0MjljNjlmZDJkMjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTdkNzU1N2NiYzdjNDkzNWFlMWRhYjlmZjJlYWM0MmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njk1NDIsLTc5LjQyMjU2MzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAzN2UxYTY5N2UyYTRhMzM4YTllNmVhMjJiN2UyMTgxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzlmZWVkMjA0YWQzMDRhZmE5MTNiNGY4YTlhOTc2OGU3ID0gJCgnPGRpdiBpZD0iaHRtbF85ZmVlZDIwNGFkMzA0YWZhOTEzYjRmOGE5YTk3NjhlNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hyaXN0aWUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAzN2UxYTY5N2UyYTRhMzM4YTllNmVhMjJiN2UyMTgxLnNldENvbnRlbnQoaHRtbF85ZmVlZDIwNGFkMzA0YWZhOTEzYjRmOGE5YTk3NjhlNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81N2Q3NTU3Y2JjN2M0OTM1YWUxZGFiOWZmMmVhYzQyYi5iaW5kUG9wdXAocG9wdXBfMDM3ZTFhNjk3ZTJhNGEzMzhhOWU2ZWEyMmI3ZTIxODEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDYyNzkwODM3NDY0NDZiZmE4NmNkOWNiMGQ5YWRlNzUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjkwMDUxMDAwMDAwMSwtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWI1MjA2NTgxYmE4NGMwOGE4ZTZlN2E1MGU3NGMwMTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGMxZTFlZTUyOGNhNGRmZWE3NWE4NGYyMTYxYjdmYTIgPSAkKCc8ZGl2IGlkPSJodG1sXzhjMWUxZWU1MjhjYTRkZmVhNzVhODRmMjE2MWI3ZmEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3ZlcmNvdXJ0IFZpbGxhZ2UsIER1ZmZlcmluLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FiNTIwNjU4MWJhODRjMDhhOGU2ZTdhNTBlNzRjMDE3LnNldENvbnRlbnQoaHRtbF84YzFlMWVlNTI4Y2E0ZGZlYTc1YTg0ZjIxNjFiN2ZhMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kNjI3OTA4Mzc0NjQ0NmJmYTg2Y2Q5Y2IwZDlhZGU3NS5iaW5kUG9wdXAocG9wdXBfYWI1MjA2NTgxYmE4NGMwOGE4ZTZlN2E1MGU3NGMwMTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmIyNDNkODRmNGQ1NGJjMWExNTM0ODUyZjRlMzk3NzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc5MjY3MDAwMDAwMDYsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgwZjEyYWFkMTQwNzQwNDJhNjdmOGQ3NTFkMzdlMjI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAwNzgwZThkZTkzZTRkMDNhMTkxZjkxMzM2ZjM4YmIxID0gJCgnPGRpdiBpZD0iaHRtbF8wMDc4MGU4ZGU5M2U0ZDAzYTE5MWY5MTMzNmYzOGJiMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGl0dGxlIFBvcnR1Z2FsLCBUcmluaXR5LCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwZjEyYWFkMTQwNzQwNDJhNjdmOGQ3NTFkMzdlMjI1LnNldENvbnRlbnQoaHRtbF8wMDc4MGU4ZGU5M2U0ZDAzYTE5MWY5MTMzNmYzOGJiMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mYjI0M2Q4NGY0ZDU0YmMxYTE1MzQ4NTJmNGUzOTc3My5iaW5kUG9wdXAocG9wdXBfODBmMTJhYWQxNDA3NDA0MmE2N2Y4ZDc1MWQzN2UyMjUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWFkOWUwYjU2YzdlNDZmYzhlOTljN2MwNjJmYzIxZTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTFiMGEzY2E0OTFhNDA4N2I1NGI1ZTk0YTZkZDIxZTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmNmMGNiNTJkODUxNDUwZjk0OGQ4MGRkNzZmMzg0MWEgPSAkKCc8ZGl2IGlkPSJodG1sX2JjZjBjYjUyZDg1MTQ1MGY5NDhkODBkZDc2ZjM4NDFhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ccm9ja3RvbiwgRXhoaWJpdGlvbiBQbGFjZSwgUGFya2RhbGUgVmlsbGFnZSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMWIwYTNjYTQ5MWE0MDg3YjU0YjVlOTRhNmRkMjFlMy5zZXRDb250ZW50KGh0bWxfYmNmMGNiNTJkODUxNDUwZjk0OGQ4MGRkNzZmMzg0MWEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWFkOWUwYjU2YzdlNDZmYzhlOTljN2MwNjJmYzIxZTUuYmluZFBvcHVwKHBvcHVwX2UxYjBhM2NhNDkxYTQwODdiNTRiNWU5NGE2ZGQyMWUzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdjMjk5OWU1NmNmZjQwYzg4NTEyM2MzOTFkZDE2MTBiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEzNzU2MjAwMDAwMDA2LC03OS40OTAwNzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kODVkNzg5OTdmNWM0YjgzODA0ODZiNGRhOWZmNTkxNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZjE1Yzc4YjM4NDI0NTFkYWFlMTMyMGQ1ZTJiN2JjMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWYxNWM3OGIzODQyNDUxZGFhZTEzMjBkNWUyYjdiYzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldywgTm9ydGggUGFyaywgVXB3b29kIFBhcmssIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q4NWQ3ODk5N2Y1YzRiODM4MDQ4NmI0ZGE5ZmY1OTE0LnNldENvbnRlbnQoaHRtbF9hZjE1Yzc4YjM4NDI0NTFkYWFlMTMyMGQ1ZTJiN2JjMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YzI5OTllNTZjZmY0MGM4ODUxMjNjMzkxZGQxNjEwYi5iaW5kUG9wdXAocG9wdXBfZDg1ZDc4OTk3ZjVjNGI4MzgwNDg2YjRkYTlmZjU5MTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmMyMThjMzRmY2UxNDg1OGE2OTMzYTFjYzgzNGJjNDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTExMTU4LC03OS40NzYwMTMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzJlNTVmMGM4MDI2NDJjMTk1MDg3NjVjNTBkNzIxNWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2MyYThjMmNlNDI0NDUwNjg4MmNhMjBkM2NkMTFlMTYgPSAkKCc8ZGl2IGlkPSJodG1sXzdjMmE4YzJjZTQyNDQ1MDY4ODJjYTIwZDNjZDExZTE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZWwgUmF5LCBLZWVsZXNkYWxlLCBNb3VudCBEZW5uaXMsIFNpbHZlcnRob3JuLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMmU1NWYwYzgwMjY0MmMxOTUwODc2NWM1MGQ3MjE1ZS5zZXRDb250ZW50KGh0bWxfN2MyYThjMmNlNDI0NDUwNjg4MmNhMjBkM2NkMTFlMTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmMyMThjMzRmY2UxNDg1OGE2OTMzYTFjYzgzNGJjNDcuYmluZFBvcHVwKHBvcHVwXzMyZTU1ZjBjODAyNjQyYzE5NTA4NzY1YzUwZDcyMTVlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZjM2IwMDA3MzQ0MzRkMTc5YjdhNjZjZGIzMWI2MmNhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjczMTg1Mjk5OTk5OTksLTc5LjQ4NzI2MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNDI1OTc4NzQxMjQ0ODJmYTE5ZTg5NWVhZjVmMzJhMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNjdjMWIzMTk5MjQ0M2M5YWE3ODU2MGQzZjlhMjZiYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzY3YzFiMzE5OTI0NDNjOWFhNzg1NjBkM2Y5YTI2YmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBKdW5jdGlvbiBOb3J0aCwgUnVubnltZWRlLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNDI1OTc4NzQxMjQ0ODJmYTE5ZTg5NWVhZjVmMzJhMC5zZXRDb250ZW50KGh0bWxfYzY3YzFiMzE5OTI0NDNjOWFhNzg1NjBkM2Y5YTI2YmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmMzYjAwMDczNDQzNGQxNzliN2E2NmNkYjMxYjYyY2EuYmluZFBvcHVwKHBvcHVwX2E0MjU5Nzg3NDEyNDQ4MmZhMTllODk1ZWFmNWYzMmEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUxODBjNjJkYzJkMjRjM2FhNjdiNGYxZDQ5MTBmY2YyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYxNjA4MywtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZhZjM1NWY1M2U4NDQxNWRhNDEzMWRhMDIxYzA1NTYzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhZTg1ZjM1MTNkMDQ5OWZiNWE5MGU3NjY2NjJiMmIyID0gJCgnPGRpdiBpZD0iaHRtbF8zYWU4NWYzNTEzZDA0OTlmYjVhOTBlNzY2NjYyYjJiMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlnaCBQYXJrLCBUaGUgSnVuY3Rpb24gU291dGgsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmFmMzU1ZjUzZTg0NDE1ZGE0MTMxZGEwMjFjMDU1NjMuc2V0Q29udGVudChodG1sXzNhZTg1ZjM1MTNkMDQ5OWZiNWE5MGU3NjY2NjJiMmIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUxODBjNjJkYzJkMjRjM2FhNjdiNGYxZDQ5MTBmY2YyLmJpbmRQb3B1cChwb3B1cF82YWYzNTVmNTNlODQ0MTVkYTQxMzFkYTAyMWMwNTU2Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85Yjk3Y2YyZTJhZWM0MjBhOWRiOTJjZjliNTFlYjE1YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODk1OTcsLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmM5MGJhN2I5MjBmNDE1MjkwNWY3ZjAxNTkwZjA2ZmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjIxN2U4NGJjZDNjNGM0NDlkM2UwZWNhYzU5ZTgxMTMgPSAkKCc8ZGl2IGlkPSJodG1sXzIyMTdlODRiY2QzYzRjNDQ5ZDNlMGVjYWM1OWU4MTEzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrZGFsZSwgUm9uY2VzdmFsbGVzLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JjOTBiYTdiOTIwZjQxNTI5MDVmN2YwMTU5MGYwNmZmLnNldENvbnRlbnQoaHRtbF8yMjE3ZTg0YmNkM2M0YzQ0OWQzZTBlY2FjNTllODExMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85Yjk3Y2YyZTJhZWM0MjBhOWRiOTJjZjliNTFlYjE1YS5iaW5kUG9wdXAocG9wdXBfYmM5MGJhN2I5MjBmNDE1MjkwNWY3ZjAxNTkwZjA2ZmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzdkZTYwOTQ4NWQ1NGE5Yzk4NzU4MTFlZWU1MWE3NjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE1NzA2LC03OS40ODQ0NDk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zY2IyZGIyYmRjNDQ0YjBiOTgxYWM3NzMzYjFjMDNkNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMDg3OTM5NTA5N2M0NTVmYjE3YzU4ZDcwZmY4OWQxZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTA4NzkzOTUwOTdjNDU1ZmIxN2M1OGQ3MGZmODlkMWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJ1bm55bWVkZSwgU3dhbnNlYSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zY2IyZGIyYmRjNDQ0YjBiOTgxYWM3NzMzYjFjMDNkNy5zZXRDb250ZW50KGh0bWxfMTA4NzkzOTUwOTdjNDU1ZmIxN2M1OGQ3MGZmODlkMWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzdkZTYwOTQ4NWQ1NGE5Yzk4NzU4MTFlZWU1MWE3NjkuYmluZFBvcHVwKHBvcHVwXzNjYjJkYjJiZGM0NDRiMGI5ODFhYzc3MzNiMWMwM2Q3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ4ODgxNWFmZGU1MTQyNTlhOTAxMjc1MTJhYjFkMzU0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyMzAxNSwtNzkuMzg5NDkzOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTE1ZWNhNzEzN2U5NGM4Njk2Yjg5NTJhYmZhZWEzYjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjMwZTM1MzMxZDA4NDMwMjg2MjhjNDM4NTRhMDI1NzEgPSAkKCc8ZGl2IGlkPSJodG1sXzIzMGUzNTMzMWQwODQzMDI4NjI4YzQzODU0YTAyNTcxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5RdWVlbiYjMzk7cyBQYXJrLCBRdWVlbiYjMzk7cyBQYXJrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMTVlY2E3MTM3ZTk0Yzg2OTZiODk1MmFiZmFlYTNiOS5zZXRDb250ZW50KGh0bWxfMjMwZTM1MzMxZDA4NDMwMjg2MjhjNDM4NTRhMDI1NzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDg4ODE1YWZkZTUxNDI1OWE5MDEyNzUxMmFiMWQzNTQuYmluZFBvcHVwKHBvcHVwX2UxNWVjYTcxMzdlOTRjODY5NmI4OTUyYWJmYWVhM2I5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ1OWRlZTBjM2NhZTQ2ODViY2YwMGY5ODM1ZDQ3NjkzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2OTY1NiwtNzkuNjE1ODE4OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkxNmUxYTBlMjI3YzQ3N2M5ZGEwOWE0NDFhMzkwMjQ4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZmOTcxYmI5ZDcyMjRmMmZiZTQ3YzdjYzk0NWEwMTIyID0gJCgnPGRpdiBpZD0iaHRtbF9mZjk3MWJiOWQ3MjI0ZjJmYmU0N2M3Y2M5NDVhMDEyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FuYWRhIFBvc3QgR2F0ZXdheSBQcm9jZXNzaW5nIENlbnRyZSwgTWlzc2lzc2F1Z2E8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzkxNmUxYTBlMjI3YzQ3N2M5ZGEwOWE0NDFhMzkwMjQ4LnNldENvbnRlbnQoaHRtbF9mZjk3MWJiOWQ3MjI0ZjJmYmU0N2M3Y2M5NDVhMDEyMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NTlkZWUwYzNjYWU0Njg1YmNmMDBmOTgzNWQ0NzY5My5iaW5kUG9wdXAocG9wdXBfOTE2ZTFhMGUyMjdjNDc3YzlkYTA5YTQ0MWEzOTAyNDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjJhZWI2NTRkNDA2NDFhNmE5YzVjYjRjZGZlMGI4NDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI3NDM5LC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdiNjkyZTU1Njk3NzQ2NWY4NTQwNDJhMjQ5ZGFmN2QwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U0MmU2Y2Y3YjZmZDQ4Y2U5NzkwNmFkMWFhMWMxNTgwID0gJCgnPGRpdiBpZD0iaHRtbF9lNDJlNmNmN2I2ZmQ0OGNlOTc5MDZhZDFhYTFjMTU4MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnVzaW5lc3MgUmVwbHkgTWFpbCBQcm9jZXNzaW5nIENlbnRyZSA5NjkgRWFzdGVybiwgRWFzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83YjY5MmU1NTY5Nzc0NjVmODU0MDQyYTI0OWRhZjdkMC5zZXRDb250ZW50KGh0bWxfZTQyZTZjZjdiNmZkNDhjZTk3OTA2YWQxYWExYzE1ODApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjJhZWI2NTRkNDA2NDFhNmE5YzVjYjRjZGZlMGI4NDYuYmluZFBvcHVwKHBvcHVwXzdiNjkyZTU1Njk3NzQ2NWY4NTQwNDJhMjQ5ZGFmN2QwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QzYjAxZDZkZjEzZjQzZWRhY2RhZDczYzA2ODdmMWRmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1NjQ2NiwtNzkuNTAxMzIwNzAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJlNjU5YWZmZjNhMTQwZGJhYTI0MzI1ZTA0NjA1MjE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk5NzdjNGZhZjU5ODQ5NTViYjcxNDI1YzU5YTdjOWYyID0gJCgnPGRpdiBpZD0iaHRtbF85OTc3YzRmYWY1OTg0OTU1YmI3MTQyNWM1OWE3YzlmMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIEJheSBTaG9yZXMsIE1pbWljbyBTb3V0aCwgTmV3IFRvcm9udG8sIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmU2NTlhZmZmM2ExNDBkYmFhMjQzMjVlMDQ2MDUyMTUuc2V0Q29udGVudChodG1sXzk5NzdjNGZhZjU5ODQ5NTViYjcxNDI1YzU5YTdjOWYyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QzYjAxZDZkZjEzZjQzZWRhY2RhZDczYzA2ODdmMWRmLmJpbmRQb3B1cChwb3B1cF8yZTY1OWFmZmYzYTE0MGRiYWEyNDMyNWUwNDYwNTIxNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYjM0YzIwYzdlMWQ0NzMwOWEzMDk0NzU1ZDg0Yjg5ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMjQxMzcwMDAwMDAxLC03OS41NDM0ODQwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWUyZDM5ZDU2Yzc0NGM1Njk5NGYzY2I1YjE1MTI1NDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmRjNzc4NmI2MjRjNDdiNmJiZjhlYmNmY2ViNWIyNDYgPSAkKCc8ZGl2IGlkPSJodG1sX2JkYzc3ODZiNjI0YzQ3YjZiYmY4ZWJjZmNlYjViMjQ2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGRlcndvb2QsIExvbmcgQnJhbmNoLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FlMmQzOWQ1NmM3NDRjNTY5OTRmM2NiNWIxNTEyNTQ4LnNldENvbnRlbnQoaHRtbF9iZGM3Nzg2YjYyNGM0N2I2YmJmOGViY2ZjZWI1YjI0Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hYjM0YzIwYzdlMWQ0NzMwOWEzMDk0NzU1ZDg0Yjg5ZC5iaW5kUG9wdXAocG9wdXBfYWUyZDM5ZDU2Yzc0NGM1Njk5NGYzY2I1YjE1MTI1NDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWY5ZTcwMTVlODdjNGFjZGI0MDE1Njg4MzQyYWYyOTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTM2NTM2MDAwMDAwMDUsLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk1MjQ5NDMzNjViMTQyZmM4NTIzMDRlZmIwYjVlMDM0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QwZmZlMTQ2ZTUzYTQyNjI4N2Y3NTA0N2EwZDA3N2Y4ID0gJCgnPGRpdiBpZD0iaHRtbF9kMGZmZTE0NmU1M2E0MjYyODdmNzUwNDdhMGQwNzdmOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEtpbmdzd2F5LCBNb250Z29tZXJ5IFJvYWQsIE9sZCBNaWxsIE5vcnRoLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk1MjQ5NDMzNjViMTQyZmM4NTIzMDRlZmIwYjVlMDM0LnNldENvbnRlbnQoaHRtbF9kMGZmZTE0NmU1M2E0MjYyODdmNzUwNDdhMGQwNzdmOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZjllNzAxNWU4N2M0YWNkYjQwMTU2ODgzNDJhZjI5Ny5iaW5kUG9wdXAocG9wdXBfOTUyNDk0MzM2NWIxNDJmYzg1MjMwNGVmYjBiNWUwMzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzZiNDIwNjMwY2RmNDVhZDlkZmJlN2VlYzhiYTE0YjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzYyNTc5LC03OS40OTg1MDkwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTRiYWZlOTIyMTdjNGZmNDlkM2MxMWY2NTA3ZDM0ZDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2RlNGViNDEwMDY1NGZiYTk3ZDVkNDAzZmE5ODYyYjggPSAkKCc8ZGl2IGlkPSJodG1sXzdkZTRlYjQxMDA2NTRmYmE5N2Q1ZDQwM2ZhOTg2MmI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXIgQmF5LCBLaW5nJiMzOTtzIE1pbGwgUGFyaywgS2luZ3N3YXkgUGFyayBTb3V0aCBFYXN0LCBNaW1pY28gTkUsIE9sZCBNaWxsIFNvdXRoLCBUaGUgUXVlZW5zd2F5IEVhc3QsIFJveWFsIFlvcmsgU291dGggRWFzdCwgU3VubnlsZWEsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTRiYWZlOTIyMTdjNGZmNDlkM2MxMWY2NTA3ZDM0ZDUuc2V0Q29udGVudChodG1sXzdkZTRlYjQxMDA2NTRmYmE5N2Q1ZDQwM2ZhOTg2MmI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc2YjQyMDYzMGNkZjQ1YWQ5ZGZiZTdlZWM4YmExNGIwLmJpbmRQb3B1cChwb3B1cF85NGJhZmU5MjIxN2M0ZmY0OWQzYzExZjY1MDdkMzRkNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85YjI5ZTQ0MzU4MDA0OWY2ODBhMDU5ODNiYjg5YmNkNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODg0MDgsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMjRkNzUwNTU2MTc0M2QyYTEyYTNkMmY2MmFmODk4MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NDc3MDNkNWNjMjU0MjA0OWFmZWFkOWZhY2UyNzkzYyA9ICQoJzxkaXYgaWQ9Imh0bWxfOTQ3NzAzZDVjYzI1NDIwNDlhZmVhZDlmYWNlMjc5M2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzd2F5IFBhcmsgU291dGggV2VzdCwgTWltaWNvIE5XLCBUaGUgUXVlZW5zd2F5IFdlc3QsIFJveWFsIFlvcmsgU291dGggV2VzdCwgU291dGggb2YgQmxvb3IsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzI0ZDc1MDU1NjE3NDNkMmExMmEzZDJmNjJhZjg5ODAuc2V0Q29udGVudChodG1sXzk0NzcwM2Q1Y2MyNTQyMDQ5YWZlYWQ5ZmFjZTI3OTNjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzliMjllNDQzNTgwMDQ5ZjY4MGEwNTk4M2JiODliY2Q0LmJpbmRQb3B1cChwb3B1cF9jMjRkNzUwNTU2MTc0M2QyYTEyYTNkMmY2MmFmODk4MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYzViMjM4M2JlODQ0MzU1YmU5MjQ1YTJmODQ2OGY2MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Nzg1NTYsLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NzY2MGNiZDgzZTA0YzExYjNmMDFhZjQzNmY4YzUzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85YTZiMjg4YzI2OTQ0YzVhODU5MDlhMTYxZWQ1Yzc0MSA9ICQoJzxkaXYgaWQ9Imh0bWxfOWE2YjI4OGMyNjk0NGM1YTg1OTA5YTE2MWVkNWM3NDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPklzbGluZ3RvbiBBdmVudWUsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTc2NjBjYmQ4M2UwNGMxMWIzZjAxYWY0MzZmOGM1MzAuc2V0Q29udGVudChodG1sXzlhNmIyODhjMjY5NDRjNWE4NTkwOWExNjFlZDVjNzQxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VjNWIyMzgzYmU4NDQzNTViZTkyNDVhMmY4NDY4ZjYwLmJpbmRQb3B1cChwb3B1cF85NzY2MGNiZDgzZTA0YzExYjNmMDFhZjQzNmY4YzUzMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jYTJlODc5YTQ5MDI0NDI3OTU4MWE4YjMxMWY2ZjM4ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDk0MzIsLTc5LjU1NDcyNDQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YTgzN2FhOGQzZjk0MDUzOTdlZmFkMmU3YmQ5MjAyNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZjU4NzY2YzgzZmU0Yzg4OTM4M2ZhZWFkODMxMDEwZiA9ICQoJzxkaXYgaWQ9Imh0bWxfM2Y1ODc2NmM4M2ZlNGM4ODkzODNmYWVhZDgzMTAxMGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsb3ZlcmRhbGUsIElzbGluZ3RvbiwgTWFydGluIEdyb3ZlLCBQcmluY2VzcyBHYXJkZW5zLCBXZXN0IERlYW5lIFBhcmssIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWE4MzdhYThkM2Y5NDA1Mzk3ZWZhZDJlN2JkOTIwMjYuc2V0Q29udGVudChodG1sXzNmNTg3NjZjODNmZTRjODg5MzgzZmFlYWQ4MzEwMTBmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NhMmU4NzlhNDkwMjQ0Mjc5NTgxYThiMzExZjZmMzhmLmJpbmRQb3B1cChwb3B1cF81YTgzN2FhOGQzZjk0MDUzOTdlZmFkMmU3YmQ5MjAyNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYjc0M2U3ZDQ5YTQ0NzVkOWE4ZTg2ZjQwZTkzNTQxNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MzUxNTIsLTc5LjU3NzIwMDc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZjE3ZWRiZjRkYmQ0NjlkOGZkNzU3YjY2YTIyOTBjMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNzM4MzVlN2NhMjA0MWQwOTVjMzdmNjdiYTE3ZDM4ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZjczODM1ZTdjYTIwNDFkMDk1YzM3ZjY3YmExN2QzOGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJsb29yZGFsZSBHYXJkZW5zLCBFcmluZ2F0ZSwgTWFya2xhbmQgV29vZCwgT2xkIEJ1cm5oYW10aG9ycGUsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGYxN2VkYmY0ZGJkNDY5ZDhmZDc1N2I2NmEyMjkwYzAuc2V0Q29udGVudChodG1sX2Y3MzgzNWU3Y2EyMDQxZDA5NWMzN2Y2N2JhMTdkMzhmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FiNzQzZTdkNDlhNDQ3NWQ5YThlODZmNDBlOTM1NDE0LmJpbmRQb3B1cChwb3B1cF84ZjE3ZWRiZjRkYmQ0NjlkOGZkNzU3YjY2YTIyOTBjMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYTdmOWY1OGQ2ZTk0MjBmOTYyMjlhMThkYjBmNGVjNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsLTc5LjU2NTk2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YzBmMjRmZjIzY2M0YmY3YmFmN2U5M2QxMWQ1NjA1MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZDYwZTFiZDZkNDY0NDVlOTg1MjE2Nzg2NjJlYmU3YyA9ICQoJzxkaXYgaWQ9Imh0bWxfNmQ2MGUxYmQ2ZDQ2NDQ1ZTk4NTIxNjc4NjYyZWJlN2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVjMGYyNGZmMjNjYzRiZjdiYWY3ZTkzZDExZDU2MDUyLnNldENvbnRlbnQoaHRtbF82ZDYwZTFiZDZkNDY0NDVlOTg1MjE2Nzg2NjJlYmU3Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hYTdmOWY1OGQ2ZTk0MjBmOTYyMjlhMThkYjBmNGVjNS5iaW5kUG9wdXAocG9wdXBfNWMwZjI0ZmYyM2NjNGJmN2JhZjdlOTNkMTFkNTYwNTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDEzNjk5NjUyMDVhNDRiMTk5YzM5MTliZDkzZTgyYjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjQ3NjU5LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzAxYzFjMmExZTA5NDlmM2E3OTA4ZTdiNDYxZDIyNzMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjgyZDI0ZTJjNzUwNDIxYjg3NjNlNTg2MjI2YzE3NzcgPSAkKCc8ZGl2IGlkPSJodG1sX2I4MmQyNGUyYzc1MDQyMWI4NzYzZTU4NjIyNmMxNzc3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FbWVyeSwgSHVtYmVybGVhLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MDFjMWMyYTFlMDk0OWYzYTc5MDhlN2I0NjFkMjI3My5zZXRDb250ZW50KGh0bWxfYjgyZDI0ZTJjNzUwNDIxYjg3NjNlNTg2MjI2YzE3NzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDEzNjk5NjUyMDVhNDRiMTk5YzM5MTliZDkzZTgyYjAuYmluZFBvcHVwKHBvcHVwXzcwMWMxYzJhMWUwOTQ5ZjNhNzkwOGU3YjQ2MWQyMjczKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QzZTQ4NzVlYzM3MDQyMGViNDM1M2MzOWVmMjliZDhhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2ODc2LC03OS41MTgxODg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWRkNGMwODNjMGZjNDdmN2IxMWY0YzkyY2YyNTAzZDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjA5NzY1NzMzNjI1NGI5NmFiOGE2M2VmNjFkMzcwODYgPSAkKCc8ZGl2IGlkPSJodG1sX2YwOTc2NTczMzYyNTRiOTZhYjhhNjNlZjYxZDM3MDg2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0b24sIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFkZDRjMDgzYzBmYzQ3ZjdiMTFmNGM5MmNmMjUwM2QyLnNldENvbnRlbnQoaHRtbF9mMDk3NjU3MzM2MjU0Yjk2YWI4YTYzZWY2MWQzNzA4Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kM2U0ODc1ZWMzNzA0MjBlYjQzNTNjMzllZjI5YmQ4YS5iaW5kUG9wdXAocG9wdXBfMWRkNGMwODNjMGZjNDdmN2IxMWY0YzkyY2YyNTAzZDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGU4MmIyZjA2MzNmNDQyN2IzZGM1ZWQxYzc4ZGUxMWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTYzMTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMTg4MTQ5MjJmM2M0MTY3OTRiMDE3NTJjYzY4ZDNiYyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85OTQzOWRmNjkyN2I0NDdhYmZjM2E0MTgzYmY1YWQ3ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMDZiYjgyYzhlOGQ0NzMxOTAxY2E5ODI0ZGJiNGQzNiA9ICQoJzxkaXYgaWQ9Imh0bWxfZDA2YmI4MmM4ZThkNDczMTkwMWNhOTgyNGRiYjRkMzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3Rtb3VudCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85OTQzOWRmNjkyN2I0NDdhYmZjM2E0MTgzYmY1YWQ3ZS5zZXRDb250ZW50KGh0bWxfZDA2YmI4MmM4ZThkNDczMTkwMWNhOTgyNGRiYjRkMzYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGU4MmIyZjA2MzNmNDQyN2IzZGM1ZWQxYzc4ZGUxMWMuYmluZFBvcHVwKHBvcHVwXzk5NDM5ZGY2OTI3YjQ0N2FiZmMzYTQxODNiZjVhZDdlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFmZTE5OTE0Y2U3YjRkOTVhODkwOTY5Mjg4MGE3ODcxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg4OTA1NCwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JlNmViNWI0ZTIwNjQwODk5MzU4YmU1OTg5ZGFhOTgzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MwODE1OTQwZDE0NDRmOGVhOTgzOTM3Y2Y2Y2MzZWY0ID0gJCgnPGRpdiBpZD0iaHRtbF9jMDgxNTk0MGQxNDQ0ZjhlYTk4MzkzN2NmNmNjM2VmNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2luZ3N2aWV3IFZpbGxhZ2UsIE1hcnRpbiBHcm92ZSBHYXJkZW5zLCBSaWNodmlldyBHYXJkZW5zLCBTdC4gUGhpbGxpcHMsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmU2ZWI1YjRlMjA2NDA4OTkzNThiZTU5ODlkYWE5ODMuc2V0Q29udGVudChodG1sX2MwODE1OTQwZDE0NDRmOGVhOTgzOTM3Y2Y2Y2MzZWY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFmZTE5OTE0Y2U3YjRkOTVhODkwOTY5Mjg4MGE3ODcxLmJpbmRQb3B1cChwb3B1cF9iZTZlYjViNGUyMDY0MDg5OTM1OGJlNTk4OWRhYTk4Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNjExMmRjMDhkYmE0OTU5YWIwYWM4MmNlYTE5MjgxNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczOTQxNjM5OTk5OTk5NiwtNzkuNTg4NDM2OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzE4ODE0OTIyZjNjNDE2Nzk0YjAxNzUyY2M2OGQzYmMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzM2NDVhMTU4ZDQwNDM4MWJiNGIxZWNlYjk4NzhiMzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTFhZTE3ODE5ZWU1NDViNGFhNzE5ZTEwYTAyNWEyMGYgPSAkKCc8ZGl2IGlkPSJodG1sX2UxYWUxNzgxOWVlNTQ1YjRhYTcxOWUxMGEwMjVhMjBmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGJpb24gR2FyZGVucywgQmVhdW1vbmQgSGVpZ2h0cywgSHVtYmVyZ2F0ZSwgSmFtZXN0b3duLCBNb3VudCBPbGl2ZSwgU2lsdmVyc3RvbmUsIFNvdXRoIFN0ZWVsZXMsIFRoaXN0bGV0b3duLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MzNjQ1YTE1OGQ0MDQzODFiYjRiMWVjZWI5ODc4YjM0LnNldENvbnRlbnQoaHRtbF9lMWFlMTc4MTllZTU0NWI0YWE3MTllMTBhMDI1YTIwZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNjExMmRjMDhkYmE0OTU5YWIwYWM4MmNlYTE5MjgxNC5iaW5kUG9wdXAocG9wdXBfYzM2NDVhMTU4ZDQwNDM4MWJiNGIxZWNlYjk4NzhiMzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmIyMDRjN2VmNDdlNDBiN2IyOTY2ODA0Njg1OWYwY2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY3NDgyOTk5OTk5OTQsLTc5LjU5NDA1NDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxODgxNDkyMmYzYzQxNjc5NGIwMTc1MmNjNjhkM2JjKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VmODgwYzYyNjkxYjRmYTQ5ZTg2ZjMzMTk0ZGU4ZmFkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFmNTA4ZTU5ZDBiYTQxOWJiOGU4MmQ3ZTllNzM0NjE4ID0gJCgnPGRpdiBpZD0iaHRtbF8xZjUwOGU1OWQwYmE0MTliYjhlODJkN2U5ZTczNDYxOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3ZXN0LCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VmODgwYzYyNjkxYjRmYTQ5ZTg2ZjMzMTk0ZGU4ZmFkLnNldENvbnRlbnQoaHRtbF8xZjUwOGU1OWQwYmE0MTliYjhlODJkN2U5ZTczNDYxOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYjIwNGM3ZWY0N2U0MGI3YjI5NjY4MDQ2ODU5ZjBjZS5iaW5kUG9wdXAocG9wdXBfZWY4ODBjNjI2OTFiNGZhNDllODZmMzMxOTRkZThmYWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7fe9658210f0>"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "map = folium.Map(location=[latitude, longitude], zoom_start=10)\n",
    "\n",
    "# add markers to map\n",
    "for lat, lng, borough, neighborhood in zip(result['Latitude'], result['Longitude'], result['Borough'], result['Neighborhood']):\n",
    "    label = '{}, {}'.format(neighborhood, borough)\n",
    "    label = folium.Popup(label, parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lng],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color='green',\n",
    "        fill=True,\n",
    "        fill_color='#3186cc',\n",
    "        fill_opacity=0.7,\n",
    "        parse_html=False).add_to(map) \n",
    "map"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>M2H</td>\n",
       "      <td>North York</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>M2J</td>\n",
       "      <td>North York</td>\n",
       "      <td>Fairview, Henry Farm, Oriole</td>\n",
       "      <td>43.778517</td>\n",
       "      <td>-79.346556</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>M2K</td>\n",
       "      <td>North York</td>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>43.786947</td>\n",
       "      <td>-79.385975</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>M2L</td>\n",
       "      <td>North York</td>\n",
       "      <td>Silver Hills, York Mills</td>\n",
       "      <td>43.757490</td>\n",
       "      <td>-79.374714</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>M2M</td>\n",
       "      <td>North York</td>\n",
       "      <td>Newtonbrook, Willowdale</td>\n",
       "      <td>43.789053</td>\n",
       "      <td>-79.408493</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Postal Code     Borough                  Neighborhood   Latitude  Longitude\n",
       "17         M2H  North York             Hillcrest Village  43.803762 -79.363452\n",
       "18         M2J  North York  Fairview, Henry Farm, Oriole  43.778517 -79.346556\n",
       "19         M2K  North York               Bayview Village  43.786947 -79.385975\n",
       "20         M2L  North York      Silver Hills, York Mills  43.757490 -79.374714\n",
       "21         M2M  North York       Newtonbrook, Willowdale  43.789053 -79.408493"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "NorthYork_data = result[result.Borough == 'North York']\n",
    "NorthYork_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>M2H</td>\n",
       "      <td>North York</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>18</td>\n",
       "      <td>M2J</td>\n",
       "      <td>North York</td>\n",
       "      <td>Fairview, Henry Farm, Oriole</td>\n",
       "      <td>43.778517</td>\n",
       "      <td>-79.346556</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>19</td>\n",
       "      <td>M2K</td>\n",
       "      <td>North York</td>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>43.786947</td>\n",
       "      <td>-79.385975</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>21</td>\n",
       "      <td>M2M</td>\n",
       "      <td>North York</td>\n",
       "      <td>Newtonbrook, Willowdale</td>\n",
       "      <td>43.789053</td>\n",
       "      <td>-79.408493</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>22</td>\n",
       "      <td>M2N</td>\n",
       "      <td>North York</td>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>43.770120</td>\n",
       "      <td>-79.408493</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>23</td>\n",
       "      <td>M2P</td>\n",
       "      <td>North York</td>\n",
       "      <td>York Mills West</td>\n",
       "      <td>43.752758</td>\n",
       "      <td>-79.400049</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>24</td>\n",
       "      <td>M2R</td>\n",
       "      <td>North York</td>\n",
       "      <td>Willowdale West</td>\n",
       "      <td>43.782736</td>\n",
       "      <td>-79.442259</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>25</td>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.753259</td>\n",
       "      <td>-79.329656</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>26</td>\n",
       "      <td>M3B</td>\n",
       "      <td>North York</td>\n",
       "      <td>Don Mills North</td>\n",
       "      <td>43.745906</td>\n",
       "      <td>-79.352188</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>27</td>\n",
       "      <td>M3C</td>\n",
       "      <td>North York</td>\n",
       "      <td>Flemingdon Park, Don Mills South</td>\n",
       "      <td>43.725900</td>\n",
       "      <td>-79.340923</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>28</td>\n",
       "      <td>M3H</td>\n",
       "      <td>North York</td>\n",
       "      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n",
       "      <td>43.754328</td>\n",
       "      <td>-79.442259</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>29</td>\n",
       "      <td>M3J</td>\n",
       "      <td>North York</td>\n",
       "      <td>Northwood Park, York University</td>\n",
       "      <td>43.767980</td>\n",
       "      <td>-79.487262</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>30</td>\n",
       "      <td>M3K</td>\n",
       "      <td>North York</td>\n",
       "      <td>CFB Toronto, Downsview East</td>\n",
       "      <td>43.737473</td>\n",
       "      <td>-79.464763</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>31</td>\n",
       "      <td>M3L</td>\n",
       "      <td>North York</td>\n",
       "      <td>Downsview West</td>\n",
       "      <td>43.739015</td>\n",
       "      <td>-79.506944</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>32</td>\n",
       "      <td>M3M</td>\n",
       "      <td>North York</td>\n",
       "      <td>Downsview Central</td>\n",
       "      <td>43.728496</td>\n",
       "      <td>-79.495697</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>33</td>\n",
       "      <td>M3N</td>\n",
       "      <td>North York</td>\n",
       "      <td>Downsview Northwest</td>\n",
       "      <td>43.761631</td>\n",
       "      <td>-79.520999</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>34</td>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>43.725882</td>\n",
       "      <td>-79.315572</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>62</td>\n",
       "      <td>M5M</td>\n",
       "      <td>North York</td>\n",
       "      <td>Bedford Park, Lawrence Manor East</td>\n",
       "      <td>43.733283</td>\n",
       "      <td>-79.419750</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>71</td>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights, Lawrence Manor</td>\n",
       "      <td>43.718518</td>\n",
       "      <td>-79.464763</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>72</td>\n",
       "      <td>M6B</td>\n",
       "      <td>North York</td>\n",
       "      <td>Glencairn</td>\n",
       "      <td>43.709577</td>\n",
       "      <td>-79.445073</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>79</td>\n",
       "      <td>M6L</td>\n",
       "      <td>North York</td>\n",
       "      <td>Downsview, North Park, Upwood Park</td>\n",
       "      <td>43.713756</td>\n",
       "      <td>-79.490074</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>22</td>\n",
       "      <td>96</td>\n",
       "      <td>M9L</td>\n",
       "      <td>North York</td>\n",
       "      <td>Humber Summit</td>\n",
       "      <td>43.756303</td>\n",
       "      <td>-79.565963</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>23</td>\n",
       "      <td>97</td>\n",
       "      <td>M9M</td>\n",
       "      <td>North York</td>\n",
       "      <td>Emery, Humberlea</td>\n",
       "      <td>43.724766</td>\n",
       "      <td>-79.532242</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    index Postal Code     Borough  \\\n",
       "0      17         M2H  North York   \n",
       "1      18         M2J  North York   \n",
       "2      19         M2K  North York   \n",
       "4      21         M2M  North York   \n",
       "5      22         M2N  North York   \n",
       "6      23         M2P  North York   \n",
       "7      24         M2R  North York   \n",
       "8      25         M3A  North York   \n",
       "9      26         M3B  North York   \n",
       "10     27         M3C  North York   \n",
       "11     28         M3H  North York   \n",
       "12     29         M3J  North York   \n",
       "13     30         M3K  North York   \n",
       "14     31         M3L  North York   \n",
       "15     32         M3M  North York   \n",
       "16     33         M3N  North York   \n",
       "17     34         M4A  North York   \n",
       "18     62         M5M  North York   \n",
       "19     71         M6A  North York   \n",
       "20     72         M6B  North York   \n",
       "21     79         M6L  North York   \n",
       "22     96         M9L  North York   \n",
       "23     97         M9M  North York   \n",
       "\n",
       "                                       Neighborhood   Latitude  Longitude  \n",
       "0                                 Hillcrest Village  43.803762 -79.363452  \n",
       "1                      Fairview, Henry Farm, Oriole  43.778517 -79.346556  \n",
       "2                                   Bayview Village  43.786947 -79.385975  \n",
       "4                           Newtonbrook, Willowdale  43.789053 -79.408493  \n",
       "5                                  Willowdale South  43.770120 -79.408493  \n",
       "6                                   York Mills West  43.752758 -79.400049  \n",
       "7                                   Willowdale West  43.782736 -79.442259  \n",
       "8                                         Parkwoods  43.753259 -79.329656  \n",
       "9                                   Don Mills North  43.745906 -79.352188  \n",
       "10                 Flemingdon Park, Don Mills South  43.725900 -79.340923  \n",
       "11  Bathurst Manor, Downsview North, Wilson Heights  43.754328 -79.442259  \n",
       "12                  Northwood Park, York University  43.767980 -79.487262  \n",
       "13                      CFB Toronto, Downsview East  43.737473 -79.464763  \n",
       "14                                   Downsview West  43.739015 -79.506944  \n",
       "15                                Downsview Central  43.728496 -79.495697  \n",
       "16                              Downsview Northwest  43.761631 -79.520999  \n",
       "17                                 Victoria Village  43.725882 -79.315572  \n",
       "18                Bedford Park, Lawrence Manor East  43.733283 -79.419750  \n",
       "19                 Lawrence Heights, Lawrence Manor  43.718518 -79.464763  \n",
       "20                                        Glencairn  43.709577 -79.445073  \n",
       "21               Downsview, North Park, Upwood Park  43.713756 -79.490074  \n",
       "22                                    Humber Summit  43.756303 -79.565963  \n",
       "23                                 Emery, Humberlea  43.724766 -79.532242  "
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "NorthYork=NorthYork_data.reset_index()\n",
    "NorthYork = NorthYork[NorthYork.Neighborhood != 'Silver Hills, York Mills']\n",
    "NorthYork"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Dataframe has (23, 6) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "NorthYork.shape\n",
    "print('Dataframe has', NorthYork.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/home/jupyterlab/conda/envs/python/lib/python3.6/site-packages/ipykernel_launcher.py:3: DeprecationWarning: Using Nominatim with the default \"geopy/1.20.0\" `user_agent` is strongly discouraged, as it violates Nominatim's ToS https://operations.osmfoundation.org/policies/nominatim/ and may possibly cause 403 and 429 HTTP errors. Please specify a custom `user_agent` with `Nominatim(user_agent=\"my-application\")` or by overriding the default `user_agent`: `geopy.geocoders.options.default_user_agent = \"my-application\"`. In geopy 2.0 this will become an exception.\n",
      "  This is separate from the ipykernel package so we can avoid doing imports until\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The geograpical coordinate of North York are 43.7708175, -79.4132998.\n"
     ]
    }
   ],
   "source": [
    "address = 'North York, Toronto'\n",
    "\n",
    "geolocator = Nominatim()\n",
    "location = geolocator.geocode(address)\n",
    "latitude = location.latitude\n",
    "longitude = location.longitude\n",
    "print('The geograpical coordinate of North York are {}, {}.'.format(latitude, longitude))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTggewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNzcwODE3NSwtNzkuNDEzMjk5OF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYmQwNGRkYmFkMWE4NGZmZThiZjJhYTUzMDc1MDg1ZjQgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdkNzhjNTZjNzgxOTRlODdhNTVmZGZlMjI5YzJkZjMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODAzNzYyMiwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjYxYmQ1OGZmN2RmNGJiOTgzNjZhNWU5NzUxN2FmN2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmEzOGFkMTgwN2YzNDhlYjgxNjhhM2FkMjliMTcyY2IgPSAkKCc8ZGl2IGlkPSJodG1sXzZhMzhhZDE4MDdmMzQ4ZWI4MTY4YTNhZDI5YjE3MmNiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWxsY3Jlc3QgVmlsbGFnZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjYxYmQ1OGZmN2RmNGJiOTgzNjZhNWU5NzUxN2FmN2Yuc2V0Q29udGVudChodG1sXzZhMzhhZDE4MDdmMzQ4ZWI4MTY4YTNhZDI5YjE3MmNiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdkNzhjNTZjNzgxOTRlODdhNTVmZGZlMjI5YzJkZjMzLmJpbmRQb3B1cChwb3B1cF9iNjFiZDU4ZmY3ZGY0YmI5ODM2NmE1ZTk3NTE3YWY3Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMGI4MzExOGFmMmU0ZjJjYTQ3NDJmYzEzZWQyYTdhOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3ODUxNzUsLTc5LjM0NjU1NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU2ZTEwYjNhYmU5NjQ2MzJhNDJkZjNkOThkYjkxZjI5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E4NmZhYTBiYzFhMTRiZGY4ZDE2ZGI1ZWNjMzAwYjYyID0gJCgnPGRpdiBpZD0iaHRtbF9hODZmYWEwYmMxYTE0YmRmOGQxNmRiNWVjYzMwMGI2MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmFpcnZpZXcsIEhlbnJ5IEZhcm0sIE9yaW9sZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTZlMTBiM2FiZTk2NDYzMmE0MmRmM2Q5OGRiOTFmMjkuc2V0Q29udGVudChodG1sX2E4NmZhYTBiYzFhMTRiZGY4ZDE2ZGI1ZWNjMzAwYjYyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIwYjgzMTE4YWYyZTRmMmNhNDc0MmZjMTNlZDJhN2E5LmJpbmRQb3B1cChwb3B1cF81NmUxMGIzYWJlOTY0NjMyYTQyZGYzZDk4ZGI5MWYyOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kN2U5MGJjYzgzMzY0ZjU2YTU4NmUzMGJlMmY5NDhmMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDRmZjRiZTlhODEyNGYwYWExOGM3ZjJlYWUyN2I3MTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzAxNDI2NTk0MjA2NDUxNGI4NWNhNWJhNGVkMjFjYTMgPSAkKCc8ZGl2IGlkPSJodG1sXzcwMTQyNjU5NDIwNjQ1MTRiODVjYTViYTRlZDIxY2EzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXl2aWV3IFZpbGxhZ2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ0ZmY0YmU5YTgxMjRmMGFhMThjN2YyZWFlMjdiNzEzLnNldENvbnRlbnQoaHRtbF83MDE0MjY1OTQyMDY0NTE0Yjg1Y2E1YmE0ZWQyMWNhMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kN2U5MGJjYzgzMzY0ZjU2YTU4NmUzMGJlMmY5NDhmMC5iaW5kUG9wdXAocG9wdXBfNDRmZjRiZTlhODEyNGYwYWExOGM3ZjJlYWUyN2I3MTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWViZTA5OGI3N2M5NDc4MTg2YTlhNDU5OTI5ODViODcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODkwNTMsLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYmIxNjhkNzk4ZmE0ZmJmYmNkZjJlZTI3N2E4ZjE3NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZjE0YTllMjAyNGU0NDliYWY0Y2U5OGYzN2ZkMjYxMiA9ICQoJzxkaXYgaWQ9Imh0bWxfYmYxNGE5ZTIwMjRlNDQ5YmFmNGNlOThmMzdmZDI2MTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5ld3RvbmJyb29rLCBXaWxsb3dkYWxlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYmIxNjhkNzk4ZmE0ZmJmYmNkZjJlZTI3N2E4ZjE3Ni5zZXRDb250ZW50KGh0bWxfYmYxNGE5ZTIwMjRlNDQ5YmFmNGNlOThmMzdmZDI2MTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWViZTA5OGI3N2M5NDc4MTg2YTlhNDU5OTI5ODViODcuYmluZFBvcHVwKHBvcHVwX2ViYjE2OGQ3OThmYTRmYmZiY2RmMmVlMjc3YThmMTc2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBjNGNjOWRhMzJiYjQ3MTk5NmE3MmY3YTMyNTIyNTA5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwMTE5OSwtNzkuNDA4NDkyNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U3ZTYzOWM4NDM3ZjRkZTE4MDAzNjhmOTFiOGQ0MGFlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhZTAzNGVmMTNhMDRiYzg5ODg2M2QyOTAxNWJjNmUyID0gJCgnPGRpdiBpZD0iaHRtbF8zYWUwMzRlZjEzYTA0YmM4OTg4NjNkMjkwMTViYzZlMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSBTb3V0aDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTdlNjM5Yzg0MzdmNGRlMTgwMDM2OGY5MWI4ZDQwYWUuc2V0Q29udGVudChodG1sXzNhZTAzNGVmMTNhMDRiYzg5ODg2M2QyOTAxNWJjNmUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBjNGNjOWRhMzJiYjQ3MTk5NmE3MmY3YTMyNTIyNTA5LmJpbmRQb3B1cChwb3B1cF9lN2U2MzljODQzN2Y0ZGUxODAwMzY4ZjkxYjhkNDBhZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNzlkZDM4OTI4NmY0MjAzYTBhNWRiNjIxOWY0NWY4YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1Mjc1ODI5OTk5OTk5NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTdkNmJkMjE1Nzg2NDM2N2JjY2MyODMzMTg5M2NhMTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTVlM2Y5NzUxZWFkNGU2ZWEyNzVlZmVlMGU1ZWRmMTUgPSAkKCc8ZGl2IGlkPSJodG1sXzk1ZTNmOTc1MWVhZDRlNmVhMjc1ZWZlZTBlNWVkZjE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE3ZDZiZDIxNTc4NjQzNjdiY2NjMjgzMzE4OTNjYTExLnNldENvbnRlbnQoaHRtbF85NWUzZjk3NTFlYWQ0ZTZlYTI3NWVmZWUwZTVlZGYxNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNzlkZDM4OTI4NmY0MjAzYTBhNWRiNjIxOWY0NWY4YS5iaW5kUG9wdXAocG9wdXBfMTdkNmJkMjE1Nzg2NDM2N2JjY2MyODMzMTg5M2NhMTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjI0Mjk5Mzg3YWRhNGM3MWEzMWFiNzM0ZjBiMDIzMzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YjQzZjk1ZDY5ZTA0MmRkOGMxZjFhM2YwZDg2NmE0ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85Y2Q1N2U0YjExZTY0NTUwOTc5NWQ2NTBhMmIwZTg4YSA9ICQoJzxkaXYgaWQ9Imh0bWxfOWNkNTdlNGIxMWU2NDU1MDk3OTVkNjUwYTJiMGU4OGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmI0M2Y5NWQ2OWUwNDJkZDhjMWYxYTNmMGQ4NjZhNGQuc2V0Q29udGVudChodG1sXzljZDU3ZTRiMTFlNjQ1NTA5Nzk1ZDY1MGEyYjBlODhhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YyNDI5OTM4N2FkYTRjNzFhMzFhYjczNGYwYjAyMzM3LmJpbmRQb3B1cChwb3B1cF82YjQzZjk1ZDY5ZTA0MmRkOGMxZjFhM2YwZDg2NmE0ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84OTNhZWEzOTVlODQ0YzU3ODJmZTE1NmI0ZjA0NThhMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MzI1ODYsLTc5LjMyOTY1NjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZkZmY1NzU4NTFkZTQyNjQ4M2ZiNzA2OTQ4ZGJjNTUwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VhMTc0YzNmNzkyNDRjZWNhZTNlYjQ1MzkwNWE1Mjg3ID0gJCgnPGRpdiBpZD0iaHRtbF9lYTE3NGMzZjc5MjQ0Y2VjYWUzZWI0NTM5MDVhNTI4NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya3dvb2RzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ZGZmNTc1ODUxZGU0MjY0ODNmYjcwNjk0OGRiYzU1MC5zZXRDb250ZW50KGh0bWxfZWExNzRjM2Y3OTI0NGNlY2FlM2ViNDUzOTA1YTUyODcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODkzYWVhMzk1ZTg0NGM1NzgyZmUxNTZiNGYwNDU4YTAuYmluZFBvcHVwKHBvcHVwXzZkZmY1NzU4NTFkZTQyNjQ4M2ZiNzA2OTQ4ZGJjNTUwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZiYjVjZTIxMjE1YzQ2Njc5YmNlZTViZTU0YzVkNDczID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ1OTA1Nzk5OTk5OTk2LC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFmZDE2M2E1OWIyZjRhYWU4M2M5MWRhYzEwMGNhNTFjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhNzRkZjRhMDUyNDQwYmU5NjFlZmVjNjQwYjY3ZThlID0gJCgnPGRpdiBpZD0iaHRtbF8zYTc0ZGY0YTA1MjQ0MGJlOTYxZWZlYzY0MGI2N2U4ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzIE5vcnRoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZmQxNjNhNTliMmY0YWFlODNjOTFkYWMxMDBjYTUxYy5zZXRDb250ZW50KGh0bWxfM2E3NGRmNGEwNTI0NDBiZTk2MWVmZWM2NDBiNjdlOGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmJiNWNlMjEyMTVjNDY2NzliY2VlNWJlNTRjNWQ0NzMuYmluZFBvcHVwKHBvcHVwXzFmZDE2M2E1OWIyZjRhYWU4M2M5MWRhYzEwMGNhNTFjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NiOGRiYmYxOTdiOTRjNTBiYWQxZTNjODIzM2FjZTc1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODk5NzAwMDAwMDEsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjQ2MGQ2ZWY1MjE1NGZhNDk5NGQxNmI2NGRkMWE1OTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTkwZGM4YTg2YTQ1NDliM2E3ZjMxMWVkYzNkMzhlZWIgPSAkKCc8ZGl2IGlkPSJodG1sXzk5MGRjOGE4NmE0NTQ5YjNhN2YzMTFlZGMzZDM4ZWViIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GbGVtaW5nZG9uIFBhcmssIERvbiBNaWxscyBTb3V0aDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjQ2MGQ2ZWY1MjE1NGZhNDk5NGQxNmI2NGRkMWE1OTUuc2V0Q29udGVudChodG1sXzk5MGRjOGE4NmE0NTQ5YjNhN2YzMTFlZGMzZDM4ZWViKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NiOGRiYmYxOTdiOTRjNTBiYWQxZTNjODIzM2FjZTc1LmJpbmRQb3B1cChwb3B1cF82NDYwZDZlZjUyMTU0ZmE0OTk0ZDE2YjY0ZGQxYTU5NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ODZiYzQzZGY1NzE0ZjUyOGQ5ZjY5OTVhYTMxZGJkYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDMyODMsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAzZjM1ZjcyMjBlYzQwMTU5MGI2NGYzZDlkODZmYjg3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U3M2JhOTcyN2RmYzRhYWU4NTYzNTFkYTY0MDA4YTMyID0gJCgnPGRpdiBpZD0iaHRtbF9lNzNiYTk3MjdkZmM0YWFlODU2MzUxZGE2NDAwOGEzMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF0aHVyc3QgTWFub3IsIERvd25zdmlldyBOb3J0aCwgV2lsc29uIEhlaWdodHM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAzZjM1ZjcyMjBlYzQwMTU5MGI2NGYzZDlkODZmYjg3LnNldENvbnRlbnQoaHRtbF9lNzNiYTk3MjdkZmM0YWFlODU2MzUxZGE2NDAwOGEzMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ODZiYzQzZGY1NzE0ZjUyOGQ5ZjY5OTVhYTMxZGJkYi5iaW5kUG9wdXAocG9wdXBfMDNmMzVmNzIyMGVjNDAxNTkwYjY0ZjNkOWQ4NmZiODcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTU3NjM3ZGVlZmZkNDg4NGI1NmU0ODUyNWU0OTEzN2MgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njc5ODAzLC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2UwOWJmYWE3YjJkNDU0MTgzMWFkNjFhYjQ2MTY2ODMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzkxMzExZjYyNzhkNGMxMGI0ZjhiNWUwY2E3ODZiZTcgPSAkKCc8ZGl2IGlkPSJodG1sX2M5MTMxMWY2Mjc4ZDRjMTBiNGY4YjVlMGNhNzg2YmU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyaywgWW9yayBVbml2ZXJzaXR5PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZTA5YmZhYTdiMmQ0NTQxODMxYWQ2MWFiNDYxNjY4My5zZXRDb250ZW50KGh0bWxfYzkxMzExZjYyNzhkNGMxMGI0ZjhiNWUwY2E3ODZiZTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTU3NjM3ZGVlZmZkNDg4NGI1NmU0ODUyNWU0OTEzN2MuYmluZFBvcHVwKHBvcHVwX2NlMDliZmFhN2IyZDQ1NDE4MzFhZDYxYWI0NjE2NjgzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM4MGI3ZWY1ODRkNTRhNTA4ZGZlZGU2ODg0MDQ4MjI4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3NDczMjAwMDAwMDA0LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGVkYmEwZTJhOTRhNDBiN2I0N2JhZGRmNjU5YTU4NjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmUzMGVkMWE5NDkyNDg5Yjk1ZmEyMmRiNmJjMDY0ZjcgPSAkKCc8ZGl2IGlkPSJodG1sXzJlMzBlZDFhOTQ5MjQ4OWI5NWZhMjJkYjZiYzA2NGY3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DRkIgVG9yb250bywgRG93bnN2aWV3IEVhc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhlZGJhMGUyYTk0YTQwYjdiNDdiYWRkZjY1OWE1ODY5LnNldENvbnRlbnQoaHRtbF8yZTMwZWQxYTk0OTI0ODliOTVmYTIyZGI2YmMwNjRmNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zODBiN2VmNTg0ZDU0YTUwOGRmZWRlNjg4NDA0ODIyOC5iaW5kUG9wdXAocG9wdXBfOGVkYmEwZTJhOTRhNDBiN2I0N2JhZGRmNjU5YTU4NjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGQ5ZDVhM2M0YTM4NDcyYzlhMjQwMzQ2ZDkyZDcwZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzkwMTQ2LC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMWI0Y2UyOWYxMTQ0ODI2YTRlZTI5Mjc3NDY0ZWQwZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wNzQ3YjhmMTBjZDQ0M2RiOGUxN2M4ZjcwOWVlNjY3YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMDc0N2I4ZjEwY2Q0NDNkYjhlMTdjOGY3MDllZTY2N2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBXZXN0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMWI0Y2UyOWYxMTQ0ODI2YTRlZTI5Mjc3NDY0ZWQwZC5zZXRDb250ZW50KGh0bWxfMDc0N2I4ZjEwY2Q0NDNkYjhlMTdjOGY3MDllZTY2N2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGQ5ZDVhM2M0YTM4NDcyYzlhMjQwMzQ2ZDkyZDcwZTIuYmluZFBvcHVwKHBvcHVwX2UxYjRjZTI5ZjExNDQ4MjZhNGVlMjkyNzc0NjRlZDBkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVmN2UwOTM5ZjRlMjQ3Mjk4OTFmYjg2OTA0MDI1YjkzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4NDk2NCwtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhlYmRlZDlkZTc0OTQ1MTRiZTRiYjEyZGYzYzZhNmUzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNjNDFmMTNmN2IyNjQzODFiMzM5MjBkYmEyOGFmZjIzID0gJCgnPGRpdiBpZD0iaHRtbF8zYzQxZjEzZjdiMjY0MzgxYjMzOTIwZGJhMjhhZmYyMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IENlbnRyYWw8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhlYmRlZDlkZTc0OTQ1MTRiZTRiYjEyZGYzYzZhNmUzLnNldENvbnRlbnQoaHRtbF8zYzQxZjEzZjdiMjY0MzgxYjMzOTIwZGJhMjhhZmYyMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ZjdlMDkzOWY0ZTI0NzI5ODkxZmI4NjkwNDAyNWI5My5iaW5kUG9wdXAocG9wdXBfOGViZGVkOWRlNzQ5NDUxNGJlNGJiMTJkZjNjNmE2ZTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjU0YmY4NTIwNTVlNGU5NTkyZTI4Mzc4MGM3NGNmMWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjE2MzEzLC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzBmMmY4NGU4YTEzNGQ0Zjg2Y2EzMmI2ZThiNzgzYTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTZlYThkN2JiNWJjNDI5YWIxZDMzNWFjZDg1MGNlYjEgPSAkKCc8ZGl2IGlkPSJodG1sX2E2ZWE4ZDdiYjViYzQyOWFiMWQzMzVhY2Q4NTBjZWIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgTm9ydGh3ZXN0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MGYyZjg0ZThhMTM0ZDRmODZjYTMyYjZlOGI3ODNhNC5zZXRDb250ZW50KGh0bWxfYTZlYThkN2JiNWJjNDI5YWIxZDMzNWFjZDg1MGNlYjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjU0YmY4NTIwNTVlNGU5NTkyZTI4Mzc4MGM3NGNmMWQuYmluZFBvcHVwKHBvcHVwXzcwZjJmODRlOGExMzRkNGY4NmNhMzJiNmU4Yjc4M2E0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ExODU0NzFiMWFiZTQ2YjY4NjgxNDMyOTc3N2E5MDc4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODgyMjk5OTk5OTk1LC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2YxNjY5YThlZTRjNDllOWIxZDY3NTAxYTc3OGI1MTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmNjZmIxODc4OTU3NDQwZmFiNmFkOWJkYTk4MjBiOTcgPSAkKCc8ZGl2IGlkPSJodG1sXzJjY2ZiMTg3ODk1NzQ0MGZhYjZhZDliZGE5ODIwYjk3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0b3JpYSBWaWxsYWdlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZjE2NjlhOGVlNGM0OWU5YjFkNjc1MDFhNzc4YjUxNy5zZXRDb250ZW50KGh0bWxfMmNjZmIxODc4OTU3NDQwZmFiNmFkOWJkYTk4MjBiOTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTE4NTQ3MWIxYWJlNDZiNjg2ODE0MzI5Nzc3YTkwNzguYmluZFBvcHVwKHBvcHVwXzdmMTY2OWE4ZWU0YzQ5ZTliMWQ2NzUwMWE3NzhiNTE3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk1ZTExYTM5NDg5NzRiOGZhMzMzYTRlMmIwMGY5MTEzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzMzMjgyNSwtNzkuNDE5NzQ5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjVmODQ2ODAzY2I2NGZiNzk4ZTI2ZTUyZTdkNGNkMTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGU2MDQ1ZDZlOGU4NGMxYmEwNmY4MTU5NDE3MzQ4YjMgPSAkKCc8ZGl2IGlkPSJodG1sXzBlNjA0NWQ2ZThlODRjMWJhMDZmODE1OTQxNzM0OGIzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWRmb3JkIFBhcmssIExhd3JlbmNlIE1hbm9yIEVhc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI1Zjg0NjgwM2NiNjRmYjc5OGUyNmU1MmU3ZDRjZDExLnNldENvbnRlbnQoaHRtbF8wZTYwNDVkNmU4ZTg0YzFiYTA2ZjgxNTk0MTczNDhiMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NWUxMWEzOTQ4OTc0YjhmYTMzM2E0ZTJiMDBmOTExMy5iaW5kUG9wdXAocG9wdXBfMjVmODQ2ODAzY2I2NGZiNzk4ZTI2ZTUyZTdkNGNkMTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTAwZGQ3YjA0YmM1NDJlMzgxMzkyOWFmMzI5MWFiNWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTg1MTc5OTk5OTk5OTYsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZDU4YjE2ZjliM2U0ZjY5YjU1ODg2ZmQ0MTVjOThmMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NGJhMGJhMWVmNWU0YjcxYThiOWU4MzhkN2JjOTVjMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzRiYTBiYTFlZjVlNGI3MWE4YjllODM4ZDdiYzk1YzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIEhlaWdodHMsIExhd3JlbmNlIE1hbm9yPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZDU4YjE2ZjliM2U0ZjY5YjU1ODg2ZmQ0MTVjOThmMS5zZXRDb250ZW50KGh0bWxfNzRiYTBiYTFlZjVlNGI3MWE4YjllODM4ZDdiYzk1YzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTAwZGQ3YjA0YmM1NDJlMzgxMzkyOWFmMzI5MWFiNWEuYmluZFBvcHVwKHBvcHVwXzFkNThiMTZmOWIzZTRmNjliNTU4ODZmZDQxNWM5OGYxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM2ZWJiZDg2NWYwZjQ1MDk5OTY4MTU3OTU1ZjExNjI5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA5NTc3LC03OS40NDUwNzI1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzEyMzAwZTZiNzI1NGM1M2E1NmNmYjNiOTQxMzhhNjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTIzNzIxMzU5ZTJiNDFkZGExYjY2OTEwN2JkODg0YjMgPSAkKCc8ZGl2IGlkPSJodG1sXzkyMzcyMTM1OWUyYjQxZGRhMWI2NjkxMDdiZDg4NGIzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HbGVuY2Fpcm48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMxMjMwMGU2YjcyNTRjNTNhNTZjZmIzYjk0MTM4YTY2LnNldENvbnRlbnQoaHRtbF85MjM3MjEzNTllMmI0MWRkYTFiNjY5MTA3YmQ4ODRiMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zNmViYmQ4NjVmMGY0NTA5OTk2ODE1Nzk1NWYxMTYyOS5iaW5kUG9wdXAocG9wdXBfMzEyMzAwZTZiNzI1NGM1M2E1NmNmYjNiOTQxMzhhNjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzdiNWUzNzhmMDhmNDU2ZTg0M2ZhZGRlOWQyODAxOTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTM3NTYyMDAwMDAwMDYsLTc5LjQ5MDA3MzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdjMmRmYzM2ZDFmYjQ5MGU5MjRkOGI3MjVkMmM1NjE4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIzODIxMDY0MTkzOTQ5N2Q5YWM0YjE5Y2EwNTBmMjBhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRjZGMwZWU3OWM4MjRjZjlhZWZiODE3NzIxMTM0NTE3ID0gJCgnPGRpdiBpZD0iaHRtbF80Y2RjMGVlNzljODI0Y2Y5YWVmYjgxNzcyMTEzNDUxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3LCBOb3J0aCBQYXJrLCBVcHdvb2QgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjM4MjEwNjQxOTM5NDk3ZDlhYzRiMTljYTA1MGYyMGEuc2V0Q29udGVudChodG1sXzRjZGMwZWU3OWM4MjRjZjlhZWZiODE3NzIxMTM0NTE3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M3YjVlMzc4ZjA4ZjQ1NmU4NDNmYWRkZTlkMjgwMTk3LmJpbmRQb3B1cChwb3B1cF8yMzgyMTA2NDE5Mzk0OTdkOWFjNGIxOWNhMDUwZjIwYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMDQ5Y2MyNThlODI0ZTg2OWU0NTZlZjAyMGJjMWI0NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsLTc5LjU2NTk2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83YzJkZmMzNmQxZmI0OTBlOTI0ZDhiNzI1ZDJjNTYxOCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZDI0MzdjMGQwMGU0Nzk3OThjNjQ0MmM3ZWNkNTNiYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xYTViYWUwYjNhOTQ0ZjVmODQzZDRjYzI3ZjY4MGQ1YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMWE1YmFlMGIzYTk0NGY1Zjg0M2Q0Y2MyN2Y2ODBkNWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NkMjQzN2MwZDAwZTQ3OTc5OGM2NDQyYzdlY2Q1M2JhLnNldENvbnRlbnQoaHRtbF8xYTViYWUwYjNhOTQ0ZjVmODQzZDRjYzI3ZjY4MGQ1Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jMDQ5Y2MyNThlODI0ZTg2OWU0NTZlZjAyMGJjMWI0NC5iaW5kUG9wdXAocG9wdXBfY2QyNDM3YzBkMDBlNDc5Nzk4YzY0NDJjN2VjZDUzYmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTJlOGQ0Y2RlZjEyNDA1ODkzNDYwMTU4OGYwYzNkYzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjQ3NjU5LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2MyZGZjMzZkMWZiNDkwZTkyNGQ4YjcyNWQyYzU2MTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2Q0YTFiOTEyMTY1NDhhM2FiYmZjNDQzODNjZDM5MjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjdmMmZlM2ZkOGZmNGQ4YWJlYWNlZjA4N2FkMGZiYjQgPSAkKCc8ZGl2IGlkPSJodG1sX2Y3ZjJmZTNmZDhmZjRkOGFiZWFjZWYwODdhZDBmYmI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FbWVyeSwgSHVtYmVybGVhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zZDRhMWI5MTIxNjU0OGEzYWJiZmM0NDM4M2NkMzkyMy5zZXRDb250ZW50KGh0bWxfZjdmMmZlM2ZkOGZmNGQ4YWJlYWNlZjA4N2FkMGZiYjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTJlOGQ0Y2RlZjEyNDA1ODkzNDYwMTU4OGYwYzNkYzkuYmluZFBvcHVwKHBvcHVwXzNkNGExYjkxMjE2NTQ4YTNhYmJmYzQ0MzgzY2QzOTIzKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4=\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7fe96563f438>"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "map_NorthYork = folium.Map(location=[latitude, longitude], zoom_start=11)\n",
    "\n",
    "# add markers to map\n",
    "for lat, lng, label in zip(NorthYork['Latitude'], NorthYork['Longitude'], NorthYork['Neighborhood']):\n",
    "    label = folium.Popup(label, parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lng],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color='green',\n",
    "        fill=True,\n",
    "        fill_color='#3186cc',\n",
    "        fill_opacity=0.7,\n",
    "        parse_html=False).add_to(map_NorthYork)  \n",
    "    \n",
    "map_NorthYork"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Your credentails:\n",
      "CLIENT_ID: HWDYNSSG2IHCFNEKCEWUUD0UGJPHDV4QJWP4A35RAAMFWMET\n",
      "CLIENT_SECRET:WY24XXYPNCJR0SYVXONFJLIZZP0INYNEY31DIVUCTGEE52NO\n"
     ]
    }
   ],
   "source": [
    "CLIENT_ID = 'HWDYNSSG2IHCFNEKCEWUUD0UGJPHDV4QJWP4A35RAAMFWMET' # your Foursquare ID\n",
    "CLIENT_SECRET = 'WY24XXYPNCJR0SYVXONFJLIZZP0INYNEY31DIVUCTGEE52NO' # your Foursquare Secret\n",
    "VERSION = '20180605' # Foursquare API version\n",
    "\n",
    "print('Your credentails:')\n",
    "print('CLIENT_ID: ' + CLIENT_ID)\n",
    "print('CLIENT_SECRET:' + CLIENT_SECRET)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Hillcrest Village'"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "NorthYork.loc[0,'Neighborhood']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Latitude and longitude values of Hillcrest Village are 43.8037622, -79.3634517.\n"
     ]
    }
   ],
   "source": [
    "neighborhood_latitude = NorthYork.loc[0, 'Latitude'] # neighborhood latitude value\n",
    "neighborhood_longitude = NorthYork.loc[0, 'Longitude'] # neighborhood longitude value\n",
    "\n",
    "neighborhood_name = NorthYork.loc[0, 'Neighborhood'] # neighborhood name\n",
    "\n",
    "print('Latitude and longitude values of {} are {}, {}.'.format(neighborhood_name, \n",
    "                                                               neighborhood_latitude, \n",
    "                                                               neighborhood_longitude))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'https://api.foursquare.com/v2/venues/explore?&client_id=HWDYNSSG2IHCFNEKCEWUUD0UGJPHDV4QJWP4A35RAAMFWMET&client_secret=WY24XXYPNCJR0SYVXONFJLIZZP0INYNEY31DIVUCTGEE52NO&v=20180605&ll=43.8037622,-79.3634517&radius=500&limit=100'"
      ]
     },
     "execution_count": 51,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "# type your answer here\n",
    "LIMIT = 100 # limit of number of venues returned by Foursquare API\n",
    "radius = 500 # define radius\n",
    "# create URL\n",
    "url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "    CLIENT_ID, \n",
    "    CLIENT_SECRET, \n",
    "    VERSION, \n",
    "    neighborhood_latitude, \n",
    "    neighborhood_longitude, \n",
    "    radius, \n",
    "    LIMIT)\n",
    "url # display URL"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [],
   "source": [
    "results = requests.get(url).json()\n",
    "#results"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [],
   "source": [
    "def get_category_type(row):\n",
    "    try:\n",
    "        categories_list = row['categories']\n",
    "    except:\n",
    "        categories_list = row['venue.categories']\n",
    "        \n",
    "    if len(categories_list) == 0:\n",
    "        return None\n",
    "    else:\n",
    "        return categories_list[0]['name']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>name</th>\n",
       "      <th>categories</th>\n",
       "      <th>lat</th>\n",
       "      <th>lng</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Eagle's Nest Golf Club</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>43.805455</td>\n",
       "      <td>-79.364186</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>New York Fries</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>43.803664</td>\n",
       "      <td>-79.363905</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>AY Jackson Pool</td>\n",
       "      <td>Pool</td>\n",
       "      <td>43.804515</td>\n",
       "      <td>-79.366138</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Villa Madina</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>43.801685</td>\n",
       "      <td>-79.363938</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Duncan Creek Park</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>43.805539</td>\n",
       "      <td>-79.360695</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                     name                categories        lat        lng\n",
       "0  Eagle's Nest Golf Club               Golf Course  43.805455 -79.364186\n",
       "1          New York Fries      Fast Food Restaurant  43.803664 -79.363905\n",
       "2         AY Jackson Pool                      Pool  43.804515 -79.366138\n",
       "3            Villa Madina  Mediterranean Restaurant  43.801685 -79.363938\n",
       "4       Duncan Creek Park                   Dog Run  43.805539 -79.360695"
      ]
     },
     "execution_count": 54,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "venues = results['response']['groups'][0]['items']\n",
    "    \n",
    "nearby_venues = json_normalize(venues) # flatten JSON\n",
    "\n",
    "# filter columns\n",
    "filtered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']\n",
    "nearby_venues =nearby_venues.loc[:, filtered_columns]\n",
    "\n",
    "# filter the category for each row\n",
    "nearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)\n",
    "\n",
    "# clean columns\n",
    "nearby_venues.columns = [col.split(\".\")[-1] for col in nearby_venues.columns]\n",
    "\n",
    "nearby_venues.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "5 venues were returned by Foursquare.\n"
     ]
    }
   ],
   "source": [
    "print('{} venues were returned by Foursquare.'.format(nearby_venues.shape[0]))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [],
   "source": [
    "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n",
    "    \n",
    "    venues_list=[]\n",
    "    for name, lat, lng in zip(names, latitudes, longitudes):\n",
    "        print(name)\n",
    "            \n",
    "        # create the API request URL\n",
    "        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "            CLIENT_ID, \n",
    "            CLIENT_SECRET, \n",
    "            VERSION, \n",
    "            lat, \n",
    "            lng, \n",
    "            radius, \n",
    "            LIMIT)\n",
    "            \n",
    "        # make the GET request\n",
    "        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n",
    "        \n",
    "        # return only relevant information for each nearby venue\n",
    "        venues_list.append([(\n",
    "            name, \n",
    "            lat, \n",
    "            lng, \n",
    "            v['venue']['name'], \n",
    "            v['venue']['location']['lat'], \n",
    "            v['venue']['location']['lng'],  \n",
    "            v['venue']['categories'][0]['name']) for v in results])\n",
    "\n",
    "    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n",
    "    nearby_venues.columns = ['Neighborhood', \n",
    "                  'Neighborhood Latitude', \n",
    "                  'Neighborhood Longitude', \n",
    "                  'Venue', \n",
    "                  'Venue Latitude', \n",
    "                  'Venue Longitude', \n",
    "                  'Venue Category']\n",
    "    \n",
    "    return(nearby_venues)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Hillcrest Village\n",
      "Fairview, Henry Farm, Oriole\n",
      "Bayview Village\n",
      "Newtonbrook, Willowdale\n",
      "Willowdale South\n",
      "York Mills West\n",
      "Willowdale West\n",
      "Parkwoods\n",
      "Don Mills North\n",
      "Flemingdon Park, Don Mills South\n",
      "Bathurst Manor, Downsview North, Wilson Heights\n",
      "Northwood Park, York University\n",
      "CFB Toronto, Downsview East\n",
      "Downsview West\n",
      "Downsview Central\n",
      "Downsview Northwest\n",
      "Victoria Village\n",
      "Bedford Park, Lawrence Manor East\n",
      "Lawrence Heights, Lawrence Manor\n",
      "Glencairn\n",
      "Downsview, North Park, Upwood Park\n",
      "Humber Summit\n",
      "Emery, Humberlea\n"
     ]
    }
   ],
   "source": [
    "\n",
    "# type your answer here\n",
    "NorthYork_venues = getNearbyVenues(names=NorthYork['Neighborhood'],\n",
    "                                   latitudes=NorthYork['Latitude'],\n",
    "                                   longitudes=NorthYork['Longitude']\n",
    "                                  )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(237, 7)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "      <td>Eagle's Nest Golf Club</td>\n",
       "      <td>43.805455</td>\n",
       "      <td>-79.364186</td>\n",
       "      <td>Golf Course</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "      <td>New York Fries</td>\n",
       "      <td>43.803664</td>\n",
       "      <td>-79.363905</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "      <td>AY Jackson Pool</td>\n",
       "      <td>43.804515</td>\n",
       "      <td>-79.366138</td>\n",
       "      <td>Pool</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "      <td>Villa Madina</td>\n",
       "      <td>43.801685</td>\n",
       "      <td>-79.363938</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "      <td>Duncan Creek Park</td>\n",
       "      <td>43.805539</td>\n",
       "      <td>-79.360695</td>\n",
       "      <td>Dog Run</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \\\n",
       "0  Hillcrest Village              43.803762              -79.363452   \n",
       "1  Hillcrest Village              43.803762              -79.363452   \n",
       "2  Hillcrest Village              43.803762              -79.363452   \n",
       "3  Hillcrest Village              43.803762              -79.363452   \n",
       "4  Hillcrest Village              43.803762              -79.363452   \n",
       "\n",
       "                    Venue  Venue Latitude  Venue Longitude  \\\n",
       "0  Eagle's Nest Golf Club       43.805455       -79.364186   \n",
       "1          New York Fries       43.803664       -79.363905   \n",
       "2         AY Jackson Pool       43.804515       -79.366138   \n",
       "3            Villa Madina       43.801685       -79.363938   \n",
       "4       Duncan Creek Park       43.805539       -79.360695   \n",
       "\n",
       "             Venue Category  \n",
       "0               Golf Course  \n",
       "1      Fast Food Restaurant  \n",
       "2                      Pool  \n",
       "3  Mediterranean Restaurant  \n",
       "4                   Dog Run  "
      ]
     },
     "execution_count": 58,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "print(NorthYork_venues.shape)\n",
    "NorthYork_venues.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Neighborhood</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n",
       "      <td>19</td>\n",
       "      <td>19</td>\n",
       "      <td>19</td>\n",
       "      <td>19</td>\n",
       "      <td>19</td>\n",
       "      <td>19</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Bedford Park, Lawrence Manor East</td>\n",
       "      <td>22</td>\n",
       "      <td>22</td>\n",
       "      <td>22</td>\n",
       "      <td>22</td>\n",
       "      <td>22</td>\n",
       "      <td>22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>CFB Toronto, Downsview East</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Don Mills North</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Downsview Central</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Downsview Northwest</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Downsview West</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Downsview, North Park, Upwood Park</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Emery, Humberlea</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Fairview, Henry Farm, Oriole</td>\n",
       "      <td>62</td>\n",
       "      <td>62</td>\n",
       "      <td>62</td>\n",
       "      <td>62</td>\n",
       "      <td>62</td>\n",
       "      <td>62</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Flemingdon Park, Don Mills South</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Glencairn</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Humber Summit</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Lawrence Heights, Lawrence Manor</td>\n",
       "      <td>11</td>\n",
       "      <td>11</td>\n",
       "      <td>11</td>\n",
       "      <td>11</td>\n",
       "      <td>11</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Northwood Park, York University</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>36</td>\n",
       "      <td>36</td>\n",
       "      <td>36</td>\n",
       "      <td>36</td>\n",
       "      <td>36</td>\n",
       "      <td>36</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Willowdale West</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>York Mills West</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                 Neighborhood Latitude  \\\n",
       "Neighborhood                                                             \n",
       "Bathurst Manor, Downsview North, Wilson Heights                     19   \n",
       "Bayview Village                                                      4   \n",
       "Bedford Park, Lawrence Manor East                                   22   \n",
       "CFB Toronto, Downsview East                                          3   \n",
       "Don Mills North                                                      5   \n",
       "Downsview Central                                                    3   \n",
       "Downsview Northwest                                                  4   \n",
       "Downsview West                                                       6   \n",
       "Downsview, North Park, Upwood Park                                   4   \n",
       "Emery, Humberlea                                                     1   \n",
       "Fairview, Henry Farm, Oriole                                        62   \n",
       "Flemingdon Park, Don Mills South                                    21   \n",
       "Glencairn                                                            5   \n",
       "Hillcrest Village                                                    5   \n",
       "Humber Summit                                                        3   \n",
       "Lawrence Heights, Lawrence Manor                                    11   \n",
       "Northwood Park, York University                                      6   \n",
       "Parkwoods                                                            2   \n",
       "Victoria Village                                                     5   \n",
       "Willowdale South                                                    36   \n",
       "Willowdale West                                                      7   \n",
       "York Mills West                                                      3   \n",
       "\n",
       "                                                 Neighborhood Longitude  \\\n",
       "Neighborhood                                                              \n",
       "Bathurst Manor, Downsview North, Wilson Heights                      19   \n",
       "Bayview Village                                                       4   \n",
       "Bedford Park, Lawrence Manor East                                    22   \n",
       "CFB Toronto, Downsview East                                           3   \n",
       "Don Mills North                                                       5   \n",
       "Downsview Central                                                     3   \n",
       "Downsview Northwest                                                   4   \n",
       "Downsview West                                                        6   \n",
       "Downsview, North Park, Upwood Park                                    4   \n",
       "Emery, Humberlea                                                      1   \n",
       "Fairview, Henry Farm, Oriole                                         62   \n",
       "Flemingdon Park, Don Mills South                                     21   \n",
       "Glencairn                                                             5   \n",
       "Hillcrest Village                                                     5   \n",
       "Humber Summit                                                         3   \n",
       "Lawrence Heights, Lawrence Manor                                     11   \n",
       "Northwood Park, York University                                       6   \n",
       "Parkwoods                                                             2   \n",
       "Victoria Village                                                      5   \n",
       "Willowdale South                                                     36   \n",
       "Willowdale West                                                       7   \n",
       "York Mills West                                                       3   \n",
       "\n",
       "                                                 Venue  Venue Latitude  \\\n",
       "Neighborhood                                                             \n",
       "Bathurst Manor, Downsview North, Wilson Heights     19              19   \n",
       "Bayview Village                                      4               4   \n",
       "Bedford Park, Lawrence Manor East                   22              22   \n",
       "CFB Toronto, Downsview East                          3               3   \n",
       "Don Mills North                                      5               5   \n",
       "Downsview Central                                    3               3   \n",
       "Downsview Northwest                                  4               4   \n",
       "Downsview West                                       6               6   \n",
       "Downsview, North Park, Upwood Park                   4               4   \n",
       "Emery, Humberlea                                     1               1   \n",
       "Fairview, Henry Farm, Oriole                        62              62   \n",
       "Flemingdon Park, Don Mills South                    21              21   \n",
       "Glencairn                                            5               5   \n",
       "Hillcrest Village                                    5               5   \n",
       "Humber Summit                                        3               3   \n",
       "Lawrence Heights, Lawrence Manor                    11              11   \n",
       "Northwood Park, York University                      6               6   \n",
       "Parkwoods                                            2               2   \n",
       "Victoria Village                                     5               5   \n",
       "Willowdale South                                    36              36   \n",
       "Willowdale West                                      7               7   \n",
       "York Mills West                                      3               3   \n",
       "\n",
       "                                                 Venue Longitude  \\\n",
       "Neighborhood                                                       \n",
       "Bathurst Manor, Downsview North, Wilson Heights               19   \n",
       "Bayview Village                                                4   \n",
       "Bedford Park, Lawrence Manor East                             22   \n",
       "CFB Toronto, Downsview East                                    3   \n",
       "Don Mills North                                                5   \n",
       "Downsview Central                                              3   \n",
       "Downsview Northwest                                            4   \n",
       "Downsview West                                                 6   \n",
       "Downsview, North Park, Upwood Park                             4   \n",
       "Emery, Humberlea                                               1   \n",
       "Fairview, Henry Farm, Oriole                                  62   \n",
       "Flemingdon Park, Don Mills South                              21   \n",
       "Glencairn                                                      5   \n",
       "Hillcrest Village                                              5   \n",
       "Humber Summit                                                  3   \n",
       "Lawrence Heights, Lawrence Manor                              11   \n",
       "Northwood Park, York University                                6   \n",
       "Parkwoods                                                      2   \n",
       "Victoria Village                                               5   \n",
       "Willowdale South                                              36   \n",
       "Willowdale West                                                7   \n",
       "York Mills West                                                3   \n",
       "\n",
       "                                                 Venue Category  \n",
       "Neighborhood                                                     \n",
       "Bathurst Manor, Downsview North, Wilson Heights              19  \n",
       "Bayview Village                                               4  \n",
       "Bedford Park, Lawrence Manor East                            22  \n",
       "CFB Toronto, Downsview East                                   3  \n",
       "Don Mills North                                               5  \n",
       "Downsview Central                                             3  \n",
       "Downsview Northwest                                           4  \n",
       "Downsview West                                                6  \n",
       "Downsview, North Park, Upwood Park                            4  \n",
       "Emery, Humberlea                                              1  \n",
       "Fairview, Henry Farm, Oriole                                 62  \n",
       "Flemingdon Park, Don Mills South                             21  \n",
       "Glencairn                                                     5  \n",
       "Hillcrest Village                                             5  \n",
       "Humber Summit                                                 3  \n",
       "Lawrence Heights, Lawrence Manor                             11  \n",
       "Northwood Park, York University                               6  \n",
       "Parkwoods                                                     2  \n",
       "Victoria Village                                              5  \n",
       "Willowdale South                                             36  \n",
       "Willowdale West                                               7  \n",
       "York Mills West                                               3  "
      ]
     },
     "execution_count": 59,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "NorthYork_venues.groupby('Neighborhood').count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "There are 101 uniques categories.\n"
     ]
    }
   ],
   "source": [
    "\n",
    "print('There are {} uniques categories.'.format(len(NorthYork_venues['Venue Category'].unique())))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Airport</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Arts &amp; Crafts Store</th>\n",
       "      <th>Asian Restaurant</th>\n",
       "      <th>Bakery</th>\n",
       "      <th>Bank</th>\n",
       "      <th>Bar</th>\n",
       "      <th>Baseball Field</th>\n",
       "      <th>Basketball Court</th>\n",
       "      <th>Beer Store</th>\n",
       "      <th>Bike Shop</th>\n",
       "      <th>Boutique</th>\n",
       "      <th>Bridal Shop</th>\n",
       "      <th>Bubble Tea Shop</th>\n",
       "      <th>Burger Joint</th>\n",
       "      <th>Burrito Place</th>\n",
       "      <th>Bus Station</th>\n",
       "      <th>Bus Stop</th>\n",
       "      <th>Butcher</th>\n",
       "      <th>Café</th>\n",
       "      <th>Candy Store</th>\n",
       "      <th>Caribbean Restaurant</th>\n",
       "      <th>Chinese Restaurant</th>\n",
       "      <th>Clothing Store</th>\n",
       "      <th>Coffee Shop</th>\n",
       "      <th>Comfort Food Restaurant</th>\n",
       "      <th>Construction &amp; Landscaping</th>\n",
       "      <th>Convenience Store</th>\n",
       "      <th>Cosmetics Shop</th>\n",
       "      <th>Deli / Bodega</th>\n",
       "      <th>Department Store</th>\n",
       "      <th>Dim Sum Restaurant</th>\n",
       "      <th>Diner</th>\n",
       "      <th>Discount Store</th>\n",
       "      <th>Dog Run</th>\n",
       "      <th>Electronics Store</th>\n",
       "      <th>Empanada Restaurant</th>\n",
       "      <th>Falafel Restaurant</th>\n",
       "      <th>Fast Food Restaurant</th>\n",
       "      <th>Food &amp; Drink Shop</th>\n",
       "      <th>Food Court</th>\n",
       "      <th>Food Truck</th>\n",
       "      <th>Fried Chicken Joint</th>\n",
       "      <th>Frozen Yogurt Shop</th>\n",
       "      <th>Furniture / Home Store</th>\n",
       "      <th>General Entertainment</th>\n",
       "      <th>Gift Shop</th>\n",
       "      <th>Golf Course</th>\n",
       "      <th>Greek Restaurant</th>\n",
       "      <th>Grocery Store</th>\n",
       "      <th>Gym</th>\n",
       "      <th>Gym / Fitness Center</th>\n",
       "      <th>Hockey Arena</th>\n",
       "      <th>Home Service</th>\n",
       "      <th>Hotel</th>\n",
       "      <th>Ice Cream Shop</th>\n",
       "      <th>Indian Restaurant</th>\n",
       "      <th>Indonesian Restaurant</th>\n",
       "      <th>Intersection</th>\n",
       "      <th>Italian Restaurant</th>\n",
       "      <th>Japanese Restaurant</th>\n",
       "      <th>Juice Bar</th>\n",
       "      <th>Liquor Store</th>\n",
       "      <th>Lounge</th>\n",
       "      <th>Massage Studio</th>\n",
       "      <th>Mediterranean Restaurant</th>\n",
       "      <th>Metro Station</th>\n",
       "      <th>Middle Eastern Restaurant</th>\n",
       "      <th>Miscellaneous Shop</th>\n",
       "      <th>Movie Theater</th>\n",
       "      <th>Park</th>\n",
       "      <th>Pet Store</th>\n",
       "      <th>Pharmacy</th>\n",
       "      <th>Pizza Place</th>\n",
       "      <th>Plaza</th>\n",
       "      <th>Pool</th>\n",
       "      <th>Portuguese Restaurant</th>\n",
       "      <th>Pub</th>\n",
       "      <th>Ramen Restaurant</th>\n",
       "      <th>Restaurant</th>\n",
       "      <th>Salon / Barbershop</th>\n",
       "      <th>Sandwich Place</th>\n",
       "      <th>Shoe Store</th>\n",
       "      <th>Shopping Mall</th>\n",
       "      <th>Smoothie Shop</th>\n",
       "      <th>Spa</th>\n",
       "      <th>Sporting Goods Shop</th>\n",
       "      <th>Steakhouse</th>\n",
       "      <th>Supermarket</th>\n",
       "      <th>Supplement Shop</th>\n",
       "      <th>Sushi Restaurant</th>\n",
       "      <th>Tea Room</th>\n",
       "      <th>Thai Restaurant</th>\n",
       "      <th>Theater</th>\n",
       "      <th>Toy / Game Store</th>\n",
       "      <th>Video Game Store</th>\n",
       "      <th>Video Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Wings Joint</th>\n",
       "      <th>Women's Store</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        Neighborhood  Accessories Store  Airport  American Restaurant  \\\n",
       "0  Hillcrest Village                  0        0                    0   \n",
       "1  Hillcrest Village                  0        0                    0   \n",
       "2  Hillcrest Village                  0        0                    0   \n",
       "3  Hillcrest Village                  0        0                    0   \n",
       "4  Hillcrest Village                  0        0                    0   \n",
       "\n",
       "   Arts & Crafts Store  Asian Restaurant  Bakery  Bank  Bar  Baseball Field  \\\n",
       "0                    0                 0       0     0    0               0   \n",
       "1                    0                 0       0     0    0               0   \n",
       "2                    0                 0       0     0    0               0   \n",
       "3                    0                 0       0     0    0               0   \n",
       "4                    0                 0       0     0    0               0   \n",
       "\n",
       "   Basketball Court  Beer Store  Bike Shop  Boutique  Bridal Shop  \\\n",
       "0                 0           0          0         0            0   \n",
       "1                 0           0          0         0            0   \n",
       "2                 0           0          0         0            0   \n",
       "3                 0           0          0         0            0   \n",
       "4                 0           0          0         0            0   \n",
       "\n",
       "   Bubble Tea Shop  Burger Joint  Burrito Place  Bus Station  Bus Stop  \\\n",
       "0                0             0              0            0         0   \n",
       "1                0             0              0            0         0   \n",
       "2                0             0              0            0         0   \n",
       "3                0             0              0            0         0   \n",
       "4                0             0              0            0         0   \n",
       "\n",
       "   Butcher  Café  Candy Store  Caribbean Restaurant  Chinese Restaurant  \\\n",
       "0        0     0            0                     0                   0   \n",
       "1        0     0            0                     0                   0   \n",
       "2        0     0            0                     0                   0   \n",
       "3        0     0            0                     0                   0   \n",
       "4        0     0            0                     0                   0   \n",
       "\n",
       "   Clothing Store  Coffee Shop  Comfort Food Restaurant  \\\n",
       "0               0            0                        0   \n",
       "1               0            0                        0   \n",
       "2               0            0                        0   \n",
       "3               0            0                        0   \n",
       "4               0            0                        0   \n",
       "\n",
       "   Construction & Landscaping  Convenience Store  Cosmetics Shop  \\\n",
       "0                           0                  0               0   \n",
       "1                           0                  0               0   \n",
       "2                           0                  0               0   \n",
       "3                           0                  0               0   \n",
       "4                           0                  0               0   \n",
       "\n",
       "   Deli / Bodega  Department Store  Dim Sum Restaurant  Diner  Discount Store  \\\n",
       "0              0                 0                   0      0               0   \n",
       "1              0                 0                   0      0               0   \n",
       "2              0                 0                   0      0               0   \n",
       "3              0                 0                   0      0               0   \n",
       "4              0                 0                   0      0               0   \n",
       "\n",
       "   Dog Run  Electronics Store  Empanada Restaurant  Falafel Restaurant  \\\n",
       "0        0                  0                    0                   0   \n",
       "1        0                  0                    0                   0   \n",
       "2        0                  0                    0                   0   \n",
       "3        0                  0                    0                   0   \n",
       "4        1                  0                    0                   0   \n",
       "\n",
       "   Fast Food Restaurant  Food & Drink Shop  Food Court  Food Truck  \\\n",
       "0                     0                  0           0           0   \n",
       "1                     1                  0           0           0   \n",
       "2                     0                  0           0           0   \n",
       "3                     0                  0           0           0   \n",
       "4                     0                  0           0           0   \n",
       "\n",
       "   Fried Chicken Joint  Frozen Yogurt Shop  Furniture / Home Store  \\\n",
       "0                    0                   0                       0   \n",
       "1                    0                   0                       0   \n",
       "2                    0                   0                       0   \n",
       "3                    0                   0                       0   \n",
       "4                    0                   0                       0   \n",
       "\n",
       "   General Entertainment  Gift Shop  Golf Course  Greek Restaurant  \\\n",
       "0                      0          0            1                 0   \n",
       "1                      0          0            0                 0   \n",
       "2                      0          0            0                 0   \n",
       "3                      0          0            0                 0   \n",
       "4                      0          0            0                 0   \n",
       "\n",
       "   Grocery Store  Gym  Gym / Fitness Center  Hockey Arena  Home Service  \\\n",
       "0              0    0                     0             0             0   \n",
       "1              0    0                     0             0             0   \n",
       "2              0    0                     0             0             0   \n",
       "3              0    0                     0             0             0   \n",
       "4              0    0                     0             0             0   \n",
       "\n",
       "   Hotel  Ice Cream Shop  Indian Restaurant  Indonesian Restaurant  \\\n",
       "0      0               0                  0                      0   \n",
       "1      0               0                  0                      0   \n",
       "2      0               0                  0                      0   \n",
       "3      0               0                  0                      0   \n",
       "4      0               0                  0                      0   \n",
       "\n",
       "   Intersection  Italian Restaurant  Japanese Restaurant  Juice Bar  \\\n",
       "0             0                   0                    0          0   \n",
       "1             0                   0                    0          0   \n",
       "2             0                   0                    0          0   \n",
       "3             0                   0                    0          0   \n",
       "4             0                   0                    0          0   \n",
       "\n",
       "   Liquor Store  Lounge  Massage Studio  Mediterranean Restaurant  \\\n",
       "0             0       0               0                         0   \n",
       "1             0       0               0                         0   \n",
       "2             0       0               0                         0   \n",
       "3             0       0               0                         1   \n",
       "4             0       0               0                         0   \n",
       "\n",
       "   Metro Station  Middle Eastern Restaurant  Miscellaneous Shop  \\\n",
       "0              0                          0                   0   \n",
       "1              0                          0                   0   \n",
       "2              0                          0                   0   \n",
       "3              0                          0                   0   \n",
       "4              0                          0                   0   \n",
       "\n",
       "   Movie Theater  Park  Pet Store  Pharmacy  Pizza Place  Plaza  Pool  \\\n",
       "0              0     0          0         0            0      0     0   \n",
       "1              0     0          0         0            0      0     0   \n",
       "2              0     0          0         0            0      0     1   \n",
       "3              0     0          0         0            0      0     0   \n",
       "4              0     0          0         0            0      0     0   \n",
       "\n",
       "   Portuguese Restaurant  Pub  Ramen Restaurant  Restaurant  \\\n",
       "0                      0    0                 0           0   \n",
       "1                      0    0                 0           0   \n",
       "2                      0    0                 0           0   \n",
       "3                      0    0                 0           0   \n",
       "4                      0    0                 0           0   \n",
       "\n",
       "   Salon / Barbershop  Sandwich Place  Shoe Store  Shopping Mall  \\\n",
       "0                   0               0           0              0   \n",
       "1                   0               0           0              0   \n",
       "2                   0               0           0              0   \n",
       "3                   0               0           0              0   \n",
       "4                   0               0           0              0   \n",
       "\n",
       "   Smoothie Shop  Spa  Sporting Goods Shop  Steakhouse  Supermarket  \\\n",
       "0              0    0                    0           0            0   \n",
       "1              0    0                    0           0            0   \n",
       "2              0    0                    0           0            0   \n",
       "3              0    0                    0           0            0   \n",
       "4              0    0                    0           0            0   \n",
       "\n",
       "   Supplement Shop  Sushi Restaurant  Tea Room  Thai Restaurant  Theater  \\\n",
       "0                0                 0         0                0        0   \n",
       "1                0                 0         0                0        0   \n",
       "2                0                 0         0                0        0   \n",
       "3                0                 0         0                0        0   \n",
       "4                0                 0         0                0        0   \n",
       "\n",
       "   Toy / Game Store  Video Game Store  Video Store  Vietnamese Restaurant  \\\n",
       "0                 0                 0            0                      0   \n",
       "1                 0                 0            0                      0   \n",
       "2                 0                 0            0                      0   \n",
       "3                 0                 0            0                      0   \n",
       "4                 0                 0            0                      0   \n",
       "\n",
       "   Wings Joint  Women's Store  \n",
       "0            0              0  \n",
       "1            0              0  \n",
       "2            0              0  \n",
       "3            0              0  \n",
       "4            0              0  "
      ]
     },
     "execution_count": 61,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "NorthYork_onehot = pd.get_dummies(NorthYork_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n",
    "\n",
    "# add neighborhood column back to dataframe\n",
    "NorthYork_onehot['Neighborhood'] = NorthYork_venues['Neighborhood'] \n",
    "\n",
    "# move neighborhood column to the first column\n",
    "fixed_columns = [NorthYork_onehot.columns[-1]] + list(NorthYork_onehot.columns[:-1])\n",
    "NorthYork_onehot = NorthYork_onehot[fixed_columns]\n",
    "\n",
    "NorthYork_onehot.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has (237, 102) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "NorthYork_onehot.shape\n",
    "print('The dataframe has', NorthYork_onehot.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Airport</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Arts &amp; Crafts Store</th>\n",
       "      <th>Asian Restaurant</th>\n",
       "      <th>Bakery</th>\n",
       "      <th>Bank</th>\n",
       "      <th>Bar</th>\n",
       "      <th>Baseball Field</th>\n",
       "      <th>Basketball Court</th>\n",
       "      <th>Beer Store</th>\n",
       "      <th>Bike Shop</th>\n",
       "      <th>Boutique</th>\n",
       "      <th>Bridal Shop</th>\n",
       "      <th>Bubble Tea Shop</th>\n",
       "      <th>Burger Joint</th>\n",
       "      <th>Burrito Place</th>\n",
       "      <th>Bus Station</th>\n",
       "      <th>Bus Stop</th>\n",
       "      <th>Butcher</th>\n",
       "      <th>Café</th>\n",
       "      <th>Candy Store</th>\n",
       "      <th>Caribbean Restaurant</th>\n",
       "      <th>Chinese Restaurant</th>\n",
       "      <th>Clothing Store</th>\n",
       "      <th>Coffee Shop</th>\n",
       "      <th>Comfort Food Restaurant</th>\n",
       "      <th>Construction &amp; Landscaping</th>\n",
       "      <th>Convenience Store</th>\n",
       "      <th>Cosmetics Shop</th>\n",
       "      <th>Deli / Bodega</th>\n",
       "      <th>Department Store</th>\n",
       "      <th>Dim Sum Restaurant</th>\n",
       "      <th>Diner</th>\n",
       "      <th>Discount Store</th>\n",
       "      <th>Dog Run</th>\n",
       "      <th>Electronics Store</th>\n",
       "      <th>Empanada Restaurant</th>\n",
       "      <th>Falafel Restaurant</th>\n",
       "      <th>Fast Food Restaurant</th>\n",
       "      <th>Food &amp; Drink Shop</th>\n",
       "      <th>Food Court</th>\n",
       "      <th>Food Truck</th>\n",
       "      <th>Fried Chicken Joint</th>\n",
       "      <th>Frozen Yogurt Shop</th>\n",
       "      <th>Furniture / Home Store</th>\n",
       "      <th>General Entertainment</th>\n",
       "      <th>Gift Shop</th>\n",
       "      <th>Golf Course</th>\n",
       "      <th>Greek Restaurant</th>\n",
       "      <th>Grocery Store</th>\n",
       "      <th>Gym</th>\n",
       "      <th>Gym / Fitness Center</th>\n",
       "      <th>Hockey Arena</th>\n",
       "      <th>Home Service</th>\n",
       "      <th>Hotel</th>\n",
       "      <th>Ice Cream Shop</th>\n",
       "      <th>Indian Restaurant</th>\n",
       "      <th>Indonesian Restaurant</th>\n",
       "      <th>Intersection</th>\n",
       "      <th>Italian Restaurant</th>\n",
       "      <th>Japanese Restaurant</th>\n",
       "      <th>Juice Bar</th>\n",
       "      <th>Liquor Store</th>\n",
       "      <th>Lounge</th>\n",
       "      <th>Massage Studio</th>\n",
       "      <th>Mediterranean Restaurant</th>\n",
       "      <th>Metro Station</th>\n",
       "      <th>Middle Eastern Restaurant</th>\n",
       "      <th>Miscellaneous Shop</th>\n",
       "      <th>Movie Theater</th>\n",
       "      <th>Park</th>\n",
       "      <th>Pet Store</th>\n",
       "      <th>Pharmacy</th>\n",
       "      <th>Pizza Place</th>\n",
       "      <th>Plaza</th>\n",
       "      <th>Pool</th>\n",
       "      <th>Portuguese Restaurant</th>\n",
       "      <th>Pub</th>\n",
       "      <th>Ramen Restaurant</th>\n",
       "      <th>Restaurant</th>\n",
       "      <th>Salon / Barbershop</th>\n",
       "      <th>Sandwich Place</th>\n",
       "      <th>Shoe Store</th>\n",
       "      <th>Shopping Mall</th>\n",
       "      <th>Smoothie Shop</th>\n",
       "      <th>Spa</th>\n",
       "      <th>Sporting Goods Shop</th>\n",
       "      <th>Steakhouse</th>\n",
       "      <th>Supermarket</th>\n",
       "      <th>Supplement Shop</th>\n",
       "      <th>Sushi Restaurant</th>\n",
       "      <th>Tea Room</th>\n",
       "      <th>Thai Restaurant</th>\n",
       "      <th>Theater</th>\n",
       "      <th>Toy / Game Store</th>\n",
       "      <th>Video Game Store</th>\n",
       "      <th>Video Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Wings Joint</th>\n",
       "      <th>Women's Store</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.105263</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.052632</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bedford Park, Lawrence Manor East</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.045455</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>CFB Toronto, Downsview East</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Don Mills North</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Downsview Central</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Downsview Northwest</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>Downsview West</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Downsview, North Park, Upwood Park</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.25</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.25</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Emery, Humberlea</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Fairview, Henry Farm, Oriole</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.129032</td>\n",
       "      <td>0.080645</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.080645</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.016129</td>\n",
       "      <td>0.048387</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Flemingdon Park, Don Mills South</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.095238</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.095238</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.095238</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.095238</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Glencairn</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.400000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Humber Summit</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>Lawrence Heights, Lawrence Manor</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.181818</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.181818</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.090909</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.090909</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>Northwood Park, York University</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.5</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.500000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.200000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.055556</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.083333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.055556</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.055556</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.083333</td>\n",
       "      <td>0.055556</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.055556</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.055556</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.027778</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>Willowdale West</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.142857</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>York Mills West</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                       Neighborhood  Accessories Store  \\\n",
       "0   Bathurst Manor, Downsview North, Wilson Heights           0.000000   \n",
       "1                                   Bayview Village           0.000000   \n",
       "2                 Bedford Park, Lawrence Manor East           0.000000   \n",
       "3                       CFB Toronto, Downsview East           0.000000   \n",
       "4                                   Don Mills North           0.000000   \n",
       "5                                 Downsview Central           0.000000   \n",
       "6                               Downsview Northwest           0.000000   \n",
       "7                                    Downsview West           0.000000   \n",
       "8                Downsview, North Park, Upwood Park           0.000000   \n",
       "9                                  Emery, Humberlea           0.000000   \n",
       "10                     Fairview, Henry Farm, Oriole           0.000000   \n",
       "11                 Flemingdon Park, Don Mills South           0.000000   \n",
       "12                                        Glencairn           0.000000   \n",
       "13                                Hillcrest Village           0.000000   \n",
       "14                                    Humber Summit           0.000000   \n",
       "15                 Lawrence Heights, Lawrence Manor           0.090909   \n",
       "16                  Northwood Park, York University           0.000000   \n",
       "17                                        Parkwoods           0.000000   \n",
       "18                                 Victoria Village           0.000000   \n",
       "19                                 Willowdale South           0.000000   \n",
       "20                                  Willowdale West           0.000000   \n",
       "21                                  York Mills West           0.000000   \n",
       "\n",
       "     Airport  American Restaurant  Arts & Crafts Store  Asian Restaurant  \\\n",
       "0   0.000000             0.000000             0.000000          0.000000   \n",
       "1   0.000000             0.000000             0.000000          0.000000   \n",
       "2   0.000000             0.045455             0.000000          0.000000   \n",
       "3   0.333333             0.000000             0.000000          0.000000   \n",
       "4   0.000000             0.000000             0.000000          0.000000   \n",
       "5   0.000000             0.000000             0.000000          0.000000   \n",
       "6   0.000000             0.000000             0.000000          0.000000   \n",
       "7   0.000000             0.000000             0.000000          0.000000   \n",
       "8   0.000000             0.000000             0.000000          0.000000   \n",
       "9   0.000000             0.000000             0.000000          0.000000   \n",
       "10  0.000000             0.016129             0.000000          0.032258   \n",
       "11  0.000000             0.000000             0.000000          0.095238   \n",
       "12  0.000000             0.000000             0.000000          0.000000   \n",
       "13  0.000000             0.000000             0.000000          0.000000   \n",
       "14  0.000000             0.000000             0.000000          0.000000   \n",
       "15  0.000000             0.000000             0.000000          0.000000   \n",
       "16  0.000000             0.000000             0.000000          0.000000   \n",
       "17  0.000000             0.000000             0.000000          0.000000   \n",
       "18  0.000000             0.000000             0.000000          0.000000   \n",
       "19  0.000000             0.000000             0.027778          0.000000   \n",
       "20  0.000000             0.000000             0.000000          0.000000   \n",
       "21  0.000000             0.000000             0.000000          0.000000   \n",
       "\n",
       "      Bakery      Bank       Bar  Baseball Field  Basketball Court  \\\n",
       "0   0.000000  0.052632  0.000000        0.000000              0.00   \n",
       "1   0.000000  0.250000  0.000000        0.000000              0.00   \n",
       "2   0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "3   0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "4   0.000000  0.000000  0.000000        0.200000              0.00   \n",
       "5   0.000000  0.000000  0.000000        0.333333              0.00   \n",
       "6   0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "7   0.000000  0.166667  0.000000        0.000000              0.00   \n",
       "8   0.250000  0.000000  0.000000        0.000000              0.25   \n",
       "9   0.000000  0.000000  0.000000        1.000000              0.00   \n",
       "10  0.032258  0.016129  0.000000        0.016129              0.00   \n",
       "11  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "12  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "13  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "14  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "15  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "16  0.000000  0.000000  0.166667        0.000000              0.00   \n",
       "17  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "18  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "19  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "20  0.000000  0.000000  0.000000        0.000000              0.00   \n",
       "21  0.000000  0.333333  0.000000        0.000000              0.00   \n",
       "\n",
       "    Beer Store  Bike Shop  Boutique  Bridal Shop  Bubble Tea Shop  \\\n",
       "0     0.000000   0.000000  0.000000     0.052632         0.000000   \n",
       "1     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "2     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "3     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "4     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "5     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "6     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "7     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "8     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "9     0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "10    0.000000   0.000000  0.016129     0.000000         0.000000   \n",
       "11    0.095238   0.047619  0.000000     0.000000         0.000000   \n",
       "12    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "13    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "14    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "15    0.000000   0.000000  0.090909     0.000000         0.000000   \n",
       "16    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "17    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "18    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "19    0.000000   0.000000  0.000000     0.000000         0.027778   \n",
       "20    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "21    0.000000   0.000000  0.000000     0.000000         0.000000   \n",
       "\n",
       "    Burger Joint  Burrito Place  Bus Station  Bus Stop   Butcher      Café  \\\n",
       "0       0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "1       0.000000       0.000000     0.000000  0.000000  0.000000  0.250000   \n",
       "2       0.000000       0.000000     0.000000  0.000000  0.045455  0.045455   \n",
       "3       0.000000       0.000000     0.000000  0.333333  0.000000  0.000000   \n",
       "4       0.000000       0.000000     0.000000  0.000000  0.000000  0.200000   \n",
       "5       0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "6       0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "7       0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "8       0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "9       0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "10      0.016129       0.016129     0.032258  0.000000  0.000000  0.000000   \n",
       "11      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "12      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "13      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "14      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "15      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "16      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "17      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "18      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "19      0.000000       0.000000     0.000000  0.000000  0.000000  0.055556   \n",
       "20      0.000000       0.000000     0.000000  0.000000  0.142857  0.000000   \n",
       "21      0.000000       0.000000     0.000000  0.000000  0.000000  0.000000   \n",
       "\n",
       "    Candy Store  Caribbean Restaurant  Chinese Restaurant  Clothing Store  \\\n",
       "0      0.000000              0.000000            0.000000        0.000000   \n",
       "1      0.000000              0.000000            0.250000        0.000000   \n",
       "2      0.000000              0.000000            0.000000        0.000000   \n",
       "3      0.000000              0.000000            0.000000        0.000000   \n",
       "4      0.000000              0.200000            0.000000        0.000000   \n",
       "5      0.000000              0.000000            0.000000        0.000000   \n",
       "6      0.000000              0.000000            0.000000        0.000000   \n",
       "7      0.000000              0.000000            0.000000        0.000000   \n",
       "8      0.000000              0.000000            0.000000        0.000000   \n",
       "9      0.000000              0.000000            0.000000        0.000000   \n",
       "10     0.016129              0.000000            0.016129        0.129032   \n",
       "11     0.000000              0.000000            0.047619        0.047619   \n",
       "12     0.000000              0.000000            0.000000        0.000000   \n",
       "13     0.000000              0.000000            0.000000        0.000000   \n",
       "14     0.000000              0.000000            0.000000        0.000000   \n",
       "15     0.000000              0.000000            0.000000        0.181818   \n",
       "16     0.000000              0.166667            0.000000        0.000000   \n",
       "17     0.000000              0.000000            0.000000        0.000000   \n",
       "18     0.000000              0.000000            0.000000        0.000000   \n",
       "19     0.000000              0.000000            0.000000        0.000000   \n",
       "20     0.000000              0.000000            0.000000        0.000000   \n",
       "21     0.000000              0.000000            0.000000        0.000000   \n",
       "\n",
       "    Coffee Shop  Comfort Food Restaurant  Construction & Landscaping  \\\n",
       "0      0.105263                 0.000000                        0.00   \n",
       "1      0.000000                 0.000000                        0.00   \n",
       "2      0.090909                 0.045455                        0.00   \n",
       "3      0.000000                 0.000000                        0.00   \n",
       "4      0.000000                 0.000000                        0.00   \n",
       "5      0.000000                 0.000000                        0.00   \n",
       "6      0.250000                 0.000000                        0.00   \n",
       "7      0.000000                 0.000000                        0.00   \n",
       "8      0.000000                 0.000000                        0.25   \n",
       "9      0.000000                 0.000000                        0.00   \n",
       "10     0.080645                 0.000000                        0.00   \n",
       "11     0.095238                 0.000000                        0.00   \n",
       "12     0.000000                 0.000000                        0.00   \n",
       "13     0.000000                 0.000000                        0.00   \n",
       "14     0.000000                 0.000000                        0.00   \n",
       "15     0.090909                 0.000000                        0.00   \n",
       "16     0.166667                 0.000000                        0.00   \n",
       "17     0.000000                 0.000000                        0.00   \n",
       "18     0.200000                 0.000000                        0.00   \n",
       "19     0.083333                 0.000000                        0.00   \n",
       "20     0.142857                 0.000000                        0.00   \n",
       "21     0.000000                 0.000000                        0.00   \n",
       "\n",
       "    Convenience Store  Cosmetics Shop  Deli / Bodega  Department Store  \\\n",
       "0            0.000000        0.000000       0.052632          0.000000   \n",
       "1            0.000000        0.000000       0.000000          0.000000   \n",
       "2            0.000000        0.045455       0.000000          0.000000   \n",
       "3            0.000000        0.000000       0.000000          0.000000   \n",
       "4            0.000000        0.000000       0.000000          0.000000   \n",
       "5            0.000000        0.000000       0.000000          0.000000   \n",
       "6            0.000000        0.000000       0.000000          0.000000   \n",
       "7            0.000000        0.000000       0.000000          0.000000   \n",
       "8            0.000000        0.000000       0.000000          0.000000   \n",
       "9            0.000000        0.000000       0.000000          0.000000   \n",
       "10           0.000000        0.016129       0.016129          0.016129   \n",
       "11           0.000000        0.000000       0.000000          0.000000   \n",
       "12           0.000000        0.000000       0.000000          0.000000   \n",
       "13           0.000000        0.000000       0.000000          0.000000   \n",
       "14           0.000000        0.000000       0.000000          0.000000   \n",
       "15           0.000000        0.000000       0.000000          0.000000   \n",
       "16           0.000000        0.000000       0.000000          0.000000   \n",
       "17           0.000000        0.000000       0.000000          0.000000   \n",
       "18           0.000000        0.000000       0.000000          0.000000   \n",
       "19           0.000000        0.000000       0.000000          0.000000   \n",
       "20           0.000000        0.000000       0.000000          0.000000   \n",
       "21           0.333333        0.000000       0.000000          0.000000   \n",
       "\n",
       "    Dim Sum Restaurant     Diner  Discount Store  Dog Run  Electronics Store  \\\n",
       "0             0.000000  0.052632        0.000000      0.0           0.000000   \n",
       "1             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "2             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "3             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "4             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "5             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "6             0.000000  0.000000        0.250000      0.0           0.000000   \n",
       "7             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "8             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "9             0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "10            0.000000  0.000000        0.000000      0.0           0.016129   \n",
       "11            0.047619  0.000000        0.047619      0.0           0.000000   \n",
       "12            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "13            0.000000  0.000000        0.000000      0.2           0.000000   \n",
       "14            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "15            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "16            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "17            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "18            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "19            0.000000  0.000000        0.027778      0.0           0.027778   \n",
       "20            0.000000  0.000000        0.142857      0.0           0.000000   \n",
       "21            0.000000  0.000000        0.000000      0.0           0.000000   \n",
       "\n",
       "    Empanada Restaurant  Falafel Restaurant  Fast Food Restaurant  \\\n",
       "0              0.000000            0.000000              0.052632   \n",
       "1              0.000000            0.000000              0.000000   \n",
       "2              0.000000            0.000000              0.045455   \n",
       "3              0.000000            0.000000              0.000000   \n",
       "4              0.000000            0.000000              0.000000   \n",
       "5              0.000000            0.000000              0.000000   \n",
       "6              0.000000            0.000000              0.000000   \n",
       "7              0.000000            0.000000              0.000000   \n",
       "8              0.000000            0.000000              0.000000   \n",
       "9              0.000000            0.000000              0.000000   \n",
       "10             0.000000            0.000000              0.080645   \n",
       "11             0.000000            0.000000              0.047619   \n",
       "12             0.000000            0.000000              0.000000   \n",
       "13             0.000000            0.000000              0.200000   \n",
       "14             0.333333            0.000000              0.000000   \n",
       "15             0.000000            0.000000              0.000000   \n",
       "16             0.000000            0.166667              0.000000   \n",
       "17             0.000000            0.000000              0.000000   \n",
       "18             0.000000            0.000000              0.000000   \n",
       "19             0.000000            0.000000              0.027778   \n",
       "20             0.000000            0.000000              0.000000   \n",
       "21             0.000000            0.000000              0.000000   \n",
       "\n",
       "    Food & Drink Shop  Food Court  Food Truck  Fried Chicken Joint  \\\n",
       "0                 0.0    0.000000    0.000000             0.052632   \n",
       "1                 0.0    0.000000    0.000000             0.000000   \n",
       "2                 0.0    0.000000    0.000000             0.000000   \n",
       "3                 0.0    0.000000    0.000000             0.000000   \n",
       "4                 0.0    0.000000    0.000000             0.000000   \n",
       "5                 0.0    0.000000    0.333333             0.000000   \n",
       "6                 0.0    0.000000    0.000000             0.000000   \n",
       "7                 0.0    0.000000    0.000000             0.000000   \n",
       "8                 0.0    0.000000    0.000000             0.000000   \n",
       "9                 0.0    0.000000    0.000000             0.000000   \n",
       "10                0.0    0.016129    0.000000             0.000000   \n",
       "11                0.0    0.000000    0.000000             0.000000   \n",
       "12                0.0    0.000000    0.000000             0.000000   \n",
       "13                0.0    0.000000    0.000000             0.000000   \n",
       "14                0.0    0.000000    0.333333             0.000000   \n",
       "15                0.0    0.000000    0.000000             0.000000   \n",
       "16                0.0    0.000000    0.000000             0.000000   \n",
       "17                0.5    0.000000    0.000000             0.000000   \n",
       "18                0.0    0.000000    0.000000             0.000000   \n",
       "19                0.0    0.000000    0.000000             0.000000   \n",
       "20                0.0    0.000000    0.000000             0.000000   \n",
       "21                0.0    0.000000    0.000000             0.000000   \n",
       "\n",
       "    Frozen Yogurt Shop  Furniture / Home Store  General Entertainment  \\\n",
       "0             0.052632                0.000000               0.000000   \n",
       "1             0.000000                0.000000               0.000000   \n",
       "2             0.000000                0.000000               0.000000   \n",
       "3             0.000000                0.000000               0.000000   \n",
       "4             0.000000                0.000000               0.000000   \n",
       "5             0.000000                0.000000               0.000000   \n",
       "6             0.000000                0.000000               0.000000   \n",
       "7             0.000000                0.000000               0.000000   \n",
       "8             0.000000                0.000000               0.000000   \n",
       "9             0.000000                0.000000               0.000000   \n",
       "10            0.000000                0.000000               0.000000   \n",
       "11            0.000000                0.000000               0.047619   \n",
       "12            0.000000                0.000000               0.000000   \n",
       "13            0.000000                0.000000               0.000000   \n",
       "14            0.000000                0.000000               0.000000   \n",
       "15            0.000000                0.181818               0.000000   \n",
       "16            0.000000                0.000000               0.000000   \n",
       "17            0.000000                0.000000               0.000000   \n",
       "18            0.000000                0.000000               0.000000   \n",
       "19            0.000000                0.000000               0.000000   \n",
       "20            0.000000                0.000000               0.000000   \n",
       "21            0.000000                0.000000               0.000000   \n",
       "\n",
       "    Gift Shop  Golf Course  Greek Restaurant  Grocery Store       Gym  \\\n",
       "0    0.052632          0.0          0.000000       0.000000  0.000000   \n",
       "1    0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "2    0.000000          0.0          0.045455       0.045455  0.000000   \n",
       "3    0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "4    0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "5    0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "6    0.000000          0.0          0.000000       0.250000  0.000000   \n",
       "7    0.000000          0.0          0.000000       0.333333  0.000000   \n",
       "8    0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "9    0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "10   0.016129          0.0          0.000000       0.000000  0.000000   \n",
       "11   0.000000          0.0          0.000000       0.000000  0.095238   \n",
       "12   0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "13   0.000000          0.2          0.000000       0.000000  0.000000   \n",
       "14   0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "15   0.090909          0.0          0.000000       0.000000  0.000000   \n",
       "16   0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "17   0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "18   0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "19   0.000000          0.0          0.000000       0.027778  0.000000   \n",
       "20   0.000000          0.0          0.000000       0.142857  0.000000   \n",
       "21   0.000000          0.0          0.000000       0.000000  0.000000   \n",
       "\n",
       "    Gym / Fitness Center  Hockey Arena  Home Service     Hotel  \\\n",
       "0                    0.0           0.0      0.000000  0.000000   \n",
       "1                    0.0           0.0      0.000000  0.000000   \n",
       "2                    0.0           0.0      0.000000  0.000000   \n",
       "3                    0.0           0.0      0.000000  0.000000   \n",
       "4                    0.2           0.0      0.000000  0.000000   \n",
       "5                    0.0           0.0      0.333333  0.000000   \n",
       "6                    0.0           0.0      0.000000  0.000000   \n",
       "7                    0.0           0.0      0.000000  0.166667   \n",
       "8                    0.0           0.0      0.000000  0.000000   \n",
       "9                    0.0           0.0      0.000000  0.000000   \n",
       "10                   0.0           0.0      0.000000  0.000000   \n",
       "11                   0.0           0.0      0.000000  0.000000   \n",
       "12                   0.0           0.0      0.000000  0.000000   \n",
       "13                   0.0           0.0      0.000000  0.000000   \n",
       "14                   0.0           0.0      0.000000  0.000000   \n",
       "15                   0.0           0.0      0.000000  0.000000   \n",
       "16                   0.0           0.0      0.000000  0.000000   \n",
       "17                   0.0           0.0      0.000000  0.000000   \n",
       "18                   0.0           0.2      0.000000  0.000000   \n",
       "19                   0.0           0.0      0.000000  0.027778   \n",
       "20                   0.0           0.0      0.142857  0.000000   \n",
       "21                   0.0           0.0      0.000000  0.000000   \n",
       "\n",
       "    Ice Cream Shop  Indian Restaurant  Indonesian Restaurant  Intersection  \\\n",
       "0         0.000000           0.000000               0.000000           0.0   \n",
       "1         0.000000           0.000000               0.000000           0.0   \n",
       "2         0.000000           0.045455               0.000000           0.0   \n",
       "3         0.000000           0.000000               0.000000           0.0   \n",
       "4         0.000000           0.000000               0.000000           0.0   \n",
       "5         0.000000           0.000000               0.000000           0.0   \n",
       "6         0.000000           0.000000               0.000000           0.0   \n",
       "7         0.000000           0.000000               0.000000           0.0   \n",
       "8         0.000000           0.000000               0.000000           0.0   \n",
       "9         0.000000           0.000000               0.000000           0.0   \n",
       "10        0.000000           0.000000               0.000000           0.0   \n",
       "11        0.000000           0.000000               0.000000           0.0   \n",
       "12        0.000000           0.000000               0.000000           0.0   \n",
       "13        0.000000           0.000000               0.000000           0.0   \n",
       "14        0.000000           0.000000               0.000000           0.0   \n",
       "15        0.000000           0.000000               0.000000           0.0   \n",
       "16        0.000000           0.000000               0.000000           0.0   \n",
       "17        0.000000           0.000000               0.000000           0.0   \n",
       "18        0.000000           0.000000               0.000000           0.2   \n",
       "19        0.027778           0.000000               0.027778           0.0   \n",
       "20        0.000000           0.000000               0.000000           0.0   \n",
       "21        0.000000           0.000000               0.000000           0.0   \n",
       "\n",
       "    Italian Restaurant  Japanese Restaurant  Juice Bar  Liquor Store  \\\n",
       "0             0.000000             0.000000   0.000000      0.000000   \n",
       "1             0.000000             0.250000   0.000000      0.000000   \n",
       "2             0.090909             0.000000   0.045455      0.045455   \n",
       "3             0.000000             0.000000   0.000000      0.000000   \n",
       "4             0.000000             0.200000   0.000000      0.000000   \n",
       "5             0.000000             0.000000   0.000000      0.000000   \n",
       "6             0.000000             0.000000   0.000000      0.250000   \n",
       "7             0.000000             0.000000   0.000000      0.000000   \n",
       "8             0.000000             0.000000   0.000000      0.000000   \n",
       "9             0.000000             0.000000   0.000000      0.000000   \n",
       "10            0.000000             0.032258   0.016129      0.016129   \n",
       "11            0.047619             0.047619   0.000000      0.000000   \n",
       "12            0.000000             0.200000   0.000000      0.000000   \n",
       "13            0.000000             0.000000   0.000000      0.000000   \n",
       "14            0.000000             0.000000   0.000000      0.000000   \n",
       "15            0.000000             0.000000   0.000000      0.000000   \n",
       "16            0.000000             0.000000   0.000000      0.000000   \n",
       "17            0.000000             0.000000   0.000000      0.000000   \n",
       "18            0.000000             0.000000   0.000000      0.000000   \n",
       "19            0.000000             0.055556   0.027778      0.000000   \n",
       "20            0.000000             0.000000   0.000000      0.000000   \n",
       "21            0.000000             0.000000   0.000000      0.000000   \n",
       "\n",
       "      Lounge  Massage Studio  Mediterranean Restaurant  Metro Station  \\\n",
       "0   0.000000        0.000000                       0.0       0.000000   \n",
       "1   0.000000        0.000000                       0.0       0.000000   \n",
       "2   0.000000        0.000000                       0.0       0.000000   \n",
       "3   0.000000        0.000000                       0.0       0.000000   \n",
       "4   0.000000        0.000000                       0.0       0.000000   \n",
       "5   0.000000        0.000000                       0.0       0.000000   \n",
       "6   0.000000        0.000000                       0.0       0.000000   \n",
       "7   0.000000        0.000000                       0.0       0.000000   \n",
       "8   0.000000        0.000000                       0.0       0.000000   \n",
       "9   0.000000        0.000000                       0.0       0.000000   \n",
       "10  0.000000        0.000000                       0.0       0.000000   \n",
       "11  0.000000        0.000000                       0.0       0.000000   \n",
       "12  0.000000        0.000000                       0.0       0.000000   \n",
       "13  0.000000        0.000000                       0.2       0.000000   \n",
       "14  0.000000        0.000000                       0.0       0.000000   \n",
       "15  0.000000        0.000000                       0.0       0.000000   \n",
       "16  0.000000        0.166667                       0.0       0.166667   \n",
       "17  0.000000        0.000000                       0.0       0.000000   \n",
       "18  0.000000        0.000000                       0.0       0.000000   \n",
       "19  0.027778        0.000000                       0.0       0.000000   \n",
       "20  0.000000        0.000000                       0.0       0.000000   \n",
       "21  0.000000        0.000000                       0.0       0.000000   \n",
       "\n",
       "    Middle Eastern Restaurant  Miscellaneous Shop  Movie Theater      Park  \\\n",
       "0                    0.052632            0.000000       0.000000  0.000000   \n",
       "1                    0.000000            0.000000       0.000000  0.000000   \n",
       "2                    0.000000            0.000000       0.000000  0.000000   \n",
       "3                    0.000000            0.000000       0.000000  0.333333   \n",
       "4                    0.000000            0.000000       0.000000  0.000000   \n",
       "5                    0.000000            0.000000       0.000000  0.000000   \n",
       "6                    0.000000            0.000000       0.000000  0.000000   \n",
       "7                    0.000000            0.000000       0.000000  0.166667   \n",
       "8                    0.000000            0.000000       0.000000  0.250000   \n",
       "9                    0.000000            0.000000       0.000000  0.000000   \n",
       "10                   0.000000            0.000000       0.016129  0.000000   \n",
       "11                   0.000000            0.000000       0.000000  0.000000   \n",
       "12                   0.000000            0.000000       0.000000  0.200000   \n",
       "13                   0.000000            0.000000       0.000000  0.000000   \n",
       "14                   0.000000            0.000000       0.000000  0.000000   \n",
       "15                   0.000000            0.090909       0.000000  0.000000   \n",
       "16                   0.000000            0.000000       0.000000  0.000000   \n",
       "17                   0.000000            0.000000       0.000000  0.500000   \n",
       "18                   0.000000            0.000000       0.000000  0.000000   \n",
       "19                   0.027778            0.000000       0.027778  0.000000   \n",
       "20                   0.000000            0.000000       0.000000  0.000000   \n",
       "21                   0.000000            0.000000       0.000000  0.333333   \n",
       "\n",
       "    Pet Store  Pharmacy  Pizza Place     Plaza  Pool  Portuguese Restaurant  \\\n",
       "0    0.000000  0.052632     0.052632  0.000000   0.0                    0.0   \n",
       "1    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "2    0.000000  0.045455     0.045455  0.000000   0.0                    0.0   \n",
       "3    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "4    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "5    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "6    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "7    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "8    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "9    0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "10   0.000000  0.016129     0.000000  0.000000   0.0                    0.0   \n",
       "11   0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "12   0.000000  0.000000     0.400000  0.000000   0.0                    0.0   \n",
       "13   0.000000  0.000000     0.000000  0.000000   0.2                    0.0   \n",
       "14   0.000000  0.000000     0.333333  0.000000   0.0                    0.0   \n",
       "15   0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "16   0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "17   0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "18   0.000000  0.000000     0.200000  0.000000   0.0                    0.2   \n",
       "19   0.027778  0.000000     0.055556  0.027778   0.0                    0.0   \n",
       "20   0.000000  0.142857     0.142857  0.000000   0.0                    0.0   \n",
       "21   0.000000  0.000000     0.000000  0.000000   0.0                    0.0   \n",
       "\n",
       "         Pub  Ramen Restaurant  Restaurant  Salon / Barbershop  \\\n",
       "0   0.000000          0.000000    0.052632            0.000000   \n",
       "1   0.000000          0.000000    0.000000            0.000000   \n",
       "2   0.045455          0.000000    0.045455            0.000000   \n",
       "3   0.000000          0.000000    0.000000            0.000000   \n",
       "4   0.000000          0.000000    0.000000            0.000000   \n",
       "5   0.000000          0.000000    0.000000            0.000000   \n",
       "6   0.000000          0.000000    0.000000            0.000000   \n",
       "7   0.000000          0.000000    0.000000            0.000000   \n",
       "8   0.000000          0.000000    0.000000            0.000000   \n",
       "9   0.000000          0.000000    0.000000            0.000000   \n",
       "10  0.000000          0.000000    0.016129            0.016129   \n",
       "11  0.000000          0.000000    0.047619            0.000000   \n",
       "12  0.200000          0.000000    0.000000            0.000000   \n",
       "13  0.000000          0.000000    0.000000            0.000000   \n",
       "14  0.000000          0.000000    0.000000            0.000000   \n",
       "15  0.000000          0.000000    0.000000            0.000000   \n",
       "16  0.000000          0.000000    0.000000            0.000000   \n",
       "17  0.000000          0.000000    0.000000            0.000000   \n",
       "18  0.000000          0.000000    0.000000            0.000000   \n",
       "19  0.000000          0.083333    0.055556            0.000000   \n",
       "20  0.000000          0.000000    0.000000            0.000000   \n",
       "21  0.000000          0.000000    0.000000            0.000000   \n",
       "\n",
       "    Sandwich Place  Shoe Store  Shopping Mall  Smoothie Shop       Spa  \\\n",
       "0         0.052632    0.000000       0.052632       0.000000  0.000000   \n",
       "1         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "2         0.045455    0.000000       0.000000       0.000000  0.000000   \n",
       "3         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "4         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "5         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "6         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "7         0.000000    0.000000       0.166667       0.000000  0.000000   \n",
       "8         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "9         0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "10        0.016129    0.016129       0.016129       0.016129  0.016129   \n",
       "11        0.047619    0.000000       0.000000       0.000000  0.000000   \n",
       "12        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "13        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "14        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "15        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "16        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "17        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "18        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "19        0.055556    0.000000       0.027778       0.000000  0.000000   \n",
       "20        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "21        0.000000    0.000000       0.000000       0.000000  0.000000   \n",
       "\n",
       "    Sporting Goods Shop  Steakhouse  Supermarket  Supplement Shop  \\\n",
       "0              0.000000    0.000000     0.052632         0.000000   \n",
       "1              0.000000    0.000000     0.000000         0.000000   \n",
       "2              0.000000    0.000000     0.000000         0.000000   \n",
       "3              0.000000    0.000000     0.000000         0.000000   \n",
       "4              0.000000    0.000000     0.000000         0.000000   \n",
       "5              0.000000    0.000000     0.000000         0.000000   \n",
       "6              0.000000    0.000000     0.000000         0.000000   \n",
       "7              0.000000    0.000000     0.000000         0.000000   \n",
       "8              0.000000    0.000000     0.000000         0.000000   \n",
       "9              0.000000    0.000000     0.000000         0.000000   \n",
       "10             0.032258    0.000000     0.000000         0.016129   \n",
       "11             0.047619    0.000000     0.047619         0.000000   \n",
       "12             0.000000    0.000000     0.000000         0.000000   \n",
       "13             0.000000    0.000000     0.000000         0.000000   \n",
       "14             0.000000    0.000000     0.000000         0.000000   \n",
       "15             0.000000    0.000000     0.000000         0.000000   \n",
       "16             0.000000    0.000000     0.000000         0.000000   \n",
       "17             0.000000    0.000000     0.000000         0.000000   \n",
       "18             0.000000    0.000000     0.000000         0.000000   \n",
       "19             0.000000    0.027778     0.000000         0.000000   \n",
       "20             0.000000    0.000000     0.000000         0.000000   \n",
       "21             0.000000    0.000000     0.000000         0.000000   \n",
       "\n",
       "    Sushi Restaurant  Tea Room  Thai Restaurant   Theater  Toy / Game Store  \\\n",
       "0           0.052632  0.000000         0.000000  0.000000          0.000000   \n",
       "1           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "2           0.045455  0.000000         0.045455  0.000000          0.000000   \n",
       "3           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "4           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "5           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "6           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "7           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "8           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "9           0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "10          0.000000  0.016129         0.000000  0.016129          0.016129   \n",
       "11          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "12          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "13          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "14          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "15          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "16          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "17          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "18          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "19          0.055556  0.000000         0.000000  0.000000          0.000000   \n",
       "20          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "21          0.000000  0.000000         0.000000  0.000000          0.000000   \n",
       "\n",
       "    Video Game Store  Video Store  Vietnamese Restaurant  Wings Joint  \\\n",
       "0           0.000000     0.052632               0.000000     0.000000   \n",
       "1           0.000000     0.000000               0.000000     0.000000   \n",
       "2           0.000000     0.000000               0.000000     0.000000   \n",
       "3           0.000000     0.000000               0.000000     0.000000   \n",
       "4           0.000000     0.000000               0.000000     0.000000   \n",
       "5           0.000000     0.000000               0.000000     0.000000   \n",
       "6           0.000000     0.000000               0.000000     0.000000   \n",
       "7           0.000000     0.000000               0.000000     0.000000   \n",
       "8           0.000000     0.000000               0.000000     0.000000   \n",
       "9           0.000000     0.000000               0.000000     0.000000   \n",
       "10          0.016129     0.000000               0.000000     0.016129   \n",
       "11          0.000000     0.000000               0.000000     0.000000   \n",
       "12          0.000000     0.000000               0.000000     0.000000   \n",
       "13          0.000000     0.000000               0.000000     0.000000   \n",
       "14          0.000000     0.000000               0.000000     0.000000   \n",
       "15          0.000000     0.000000               0.090909     0.000000   \n",
       "16          0.000000     0.000000               0.000000     0.000000   \n",
       "17          0.000000     0.000000               0.000000     0.000000   \n",
       "18          0.000000     0.000000               0.000000     0.000000   \n",
       "19          0.000000     0.000000               0.027778     0.000000   \n",
       "20          0.000000     0.000000               0.000000     0.000000   \n",
       "21          0.000000     0.000000               0.000000     0.000000   \n",
       "\n",
       "    Women's Store  \n",
       "0        0.000000  \n",
       "1        0.000000  \n",
       "2        0.000000  \n",
       "3        0.000000  \n",
       "4        0.000000  \n",
       "5        0.000000  \n",
       "6        0.000000  \n",
       "7        0.000000  \n",
       "8        0.000000  \n",
       "9        0.000000  \n",
       "10       0.048387  \n",
       "11       0.000000  \n",
       "12       0.000000  \n",
       "13       0.000000  \n",
       "14       0.000000  \n",
       "15       0.090909  \n",
       "16       0.000000  \n",
       "17       0.000000  \n",
       "18       0.000000  \n",
       "19       0.000000  \n",
       "20       0.000000  \n",
       "21       0.000000  "
      ]
     },
     "execution_count": 64,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "NorthYork_grouped = NorthYork_onehot.groupby('Neighborhood').mean().reset_index()\n",
    "NorthYork_grouped"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "----Bathurst Manor, Downsview North, Wilson Heights----\n",
      "                 venue  freq\n",
      "0          Coffee Shop  0.11\n",
      "1  Fried Chicken Joint  0.05\n",
      "2          Bridal Shop  0.05\n",
      "3             Pharmacy  0.05\n",
      "4          Pizza Place  0.05\n",
      "\n",
      "\n",
      "----Bayview Village----\n",
      "                 venue  freq\n",
      "0   Chinese Restaurant  0.25\n",
      "1                 Bank  0.25\n",
      "2                 Café  0.25\n",
      "3  Japanese Restaurant  0.25\n",
      "4    Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Bedford Park, Lawrence Manor East----\n",
      "                venue  freq\n",
      "0         Coffee Shop  0.09\n",
      "1  Italian Restaurant  0.09\n",
      "2       Grocery Store  0.05\n",
      "3         Pizza Place  0.05\n",
      "4      Cosmetics Shop  0.05\n",
      "\n",
      "\n",
      "----CFB Toronto, Downsview East----\n",
      "         venue  freq\n",
      "0      Airport  0.33\n",
      "1         Park  0.33\n",
      "2     Bus Stop  0.33\n",
      "3         Pool  0.00\n",
      "4  Pizza Place  0.00\n",
      "\n",
      "\n",
      "----Don Mills North----\n",
      "                  venue  freq\n",
      "0  Gym / Fitness Center   0.2\n",
      "1  Caribbean Restaurant   0.2\n",
      "2        Baseball Field   0.2\n",
      "3                  Café   0.2\n",
      "4   Japanese Restaurant   0.2\n",
      "\n",
      "\n",
      "----Downsview Central----\n",
      "               venue  freq\n",
      "0       Home Service  0.33\n",
      "1     Baseball Field  0.33\n",
      "2         Food Truck  0.33\n",
      "3  Accessories Store  0.00\n",
      "4     Massage Studio  0.00\n",
      "\n",
      "\n",
      "----Downsview Northwest----\n",
      "            venue  freq\n",
      "0   Grocery Store  0.25\n",
      "1  Discount Store  0.25\n",
      "2    Liquor Store  0.25\n",
      "3     Coffee Shop  0.25\n",
      "4     Video Store  0.00\n",
      "\n",
      "\n",
      "----Downsview West----\n",
      "           venue  freq\n",
      "0  Grocery Store  0.33\n",
      "1          Hotel  0.17\n",
      "2           Park  0.17\n",
      "3           Bank  0.17\n",
      "4  Shopping Mall  0.17\n",
      "\n",
      "\n",
      "----Downsview, North Park, Upwood Park----\n",
      "                        venue  freq\n",
      "0                      Bakery  0.25\n",
      "1                        Park  0.25\n",
      "2            Basketball Court  0.25\n",
      "3  Construction & Landscaping  0.25\n",
      "4           Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Emery, Humberlea----\n",
      "               venue  freq\n",
      "0     Baseball Field   1.0\n",
      "1  Accessories Store   0.0\n",
      "2             Lounge   0.0\n",
      "3        Pizza Place   0.0\n",
      "4           Pharmacy   0.0\n",
      "\n",
      "\n",
      "----Fairview, Henry Farm, Oriole----\n",
      "                  venue  freq\n",
      "0        Clothing Store  0.13\n",
      "1           Coffee Shop  0.08\n",
      "2  Fast Food Restaurant  0.08\n",
      "3         Women's Store  0.05\n",
      "4      Asian Restaurant  0.03\n",
      "\n",
      "\n",
      "----Flemingdon Park, Don Mills South----\n",
      "              venue  freq\n",
      "0        Beer Store  0.10\n",
      "1       Coffee Shop  0.10\n",
      "2  Asian Restaurant  0.10\n",
      "3               Gym  0.10\n",
      "4        Restaurant  0.05\n",
      "\n",
      "\n",
      "----Glencairn----\n",
      "                 venue  freq\n",
      "0          Pizza Place   0.4\n",
      "1                  Pub   0.2\n",
      "2                 Park   0.2\n",
      "3  Japanese Restaurant   0.2\n",
      "4               Lounge   0.0\n",
      "\n",
      "\n",
      "----Hillcrest Village----\n",
      "                      venue  freq\n",
      "0      Fast Food Restaurant   0.2\n",
      "1               Golf Course   0.2\n",
      "2                   Dog Run   0.2\n",
      "3  Mediterranean Restaurant   0.2\n",
      "4                      Pool   0.2\n",
      "\n",
      "\n",
      "----Humber Summit----\n",
      "                 venue  freq\n",
      "0          Pizza Place  0.33\n",
      "1           Food Truck  0.33\n",
      "2  Empanada Restaurant  0.33\n",
      "3               Lounge  0.00\n",
      "4             Pharmacy  0.00\n",
      "\n",
      "\n",
      "----Lawrence Heights, Lawrence Manor----\n",
      "                    venue  freq\n",
      "0  Furniture / Home Store  0.18\n",
      "1          Clothing Store  0.18\n",
      "2       Accessories Store  0.09\n",
      "3                Boutique  0.09\n",
      "4   Vietnamese Restaurant  0.09\n",
      "\n",
      "\n",
      "----Northwood Park, York University----\n",
      "                  venue  freq\n",
      "0        Massage Studio  0.17\n",
      "1           Coffee Shop  0.17\n",
      "2  Caribbean Restaurant  0.17\n",
      "3                   Bar  0.17\n",
      "4         Metro Station  0.17\n",
      "\n",
      "\n",
      "----Parkwoods----\n",
      "               venue  freq\n",
      "0               Park   0.5\n",
      "1  Food & Drink Shop   0.5\n",
      "2  Accessories Store   0.0\n",
      "3       Liquor Store   0.0\n",
      "4           Pharmacy   0.0\n",
      "\n",
      "\n",
      "----Victoria Village----\n",
      "                   venue  freq\n",
      "0            Coffee Shop   0.2\n",
      "1           Hockey Arena   0.2\n",
      "2  Portuguese Restaurant   0.2\n",
      "3            Pizza Place   0.2\n",
      "4           Intersection   0.2\n",
      "\n",
      "\n",
      "----Willowdale South----\n",
      "              venue  freq\n",
      "0       Coffee Shop  0.08\n",
      "1  Ramen Restaurant  0.08\n",
      "2    Sandwich Place  0.06\n",
      "3  Sushi Restaurant  0.06\n",
      "4        Restaurant  0.06\n",
      "\n",
      "\n",
      "----Willowdale West----\n",
      "           venue  freq\n",
      "0  Grocery Store  0.14\n",
      "1   Home Service  0.14\n",
      "2    Coffee Shop  0.14\n",
      "3    Pizza Place  0.14\n",
      "4       Pharmacy  0.14\n",
      "\n",
      "\n",
      "----York Mills West----\n",
      "               venue  freq\n",
      "0  Convenience Store  0.33\n",
      "1               Bank  0.33\n",
      "2               Park  0.33\n",
      "3  Accessories Store  0.00\n",
      "4     Massage Studio  0.00\n",
      "\n",
      "\n"
     ]
    }
   ],
   "source": [
    "\n",
    "num_top_venues = 5\n",
    "\n",
    "for hood in NorthYork_grouped['Neighborhood']:\n",
    "    print(\"----\"+hood+\"----\")\n",
    "    temp = NorthYork_grouped[NorthYork_grouped['Neighborhood'] == hood].T.reset_index()\n",
    "    temp.columns = ['venue','freq']\n",
    "    temp = temp.iloc[1:]\n",
    "    temp['freq'] = temp['freq'].astype(float)\n",
    "    temp = temp.round({'freq': 2})\n",
    "    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))\n",
    "    print('\\n')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [],
   "source": [
    "def return_most_common_venues(row, num_top_venues):\n",
    "    row_categories = row.iloc[1:]\n",
    "    row_categories_sorted = row_categories.sort_values(ascending=False)\n",
    "    \n",
    "    return row_categories_sorted.index.values[0:num_top_venues]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 120,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "      <th>11th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Gift Shop</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Frozen Yogurt Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Bedford Park, Lawrence Manor East</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Juice Bar</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>CFB Toronto, Downsview East</td>\n",
       "      <td>Airport</td>\n",
       "      <td>Park</td>\n",
       "      <td>Bus Stop</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Don Mills North</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>Downsview Central</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>Downsview Northwest</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>Downsview West</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Park</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>Downsview, North Park, Upwood Park</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Park</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Basketball Court</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>Emery, Humberlea</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>10</td>\n",
       "      <td>Fairview, Henry Farm, Oriole</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Gift Shop</td>\n",
       "      <td>Food Court</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>11</td>\n",
       "      <td>Flemingdon Park, Don Mills South</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Bike Shop</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>12</td>\n",
       "      <td>Glencairn</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Park</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "      <td>Frozen Yogurt Shop</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>13</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>General Entertainment</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>14</td>\n",
       "      <td>Humber Summit</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>15</td>\n",
       "      <td>Lawrence Heights, Lawrence Manor</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Boutique</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Gift Shop</td>\n",
       "      <td>Accessories Store</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Tea Room</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>16</td>\n",
       "      <td>Northwood Park, York University</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Metro Station</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Massage Studio</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>17</td>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>Park</td>\n",
       "      <td>Food &amp; Drink Shop</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>18</td>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Hockey Arena</td>\n",
       "      <td>Portuguese Restaurant</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>19</td>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Plaza</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>20</td>\n",
       "      <td>Willowdale West</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Butcher</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>21</td>\n",
       "      <td>York Mills West</td>\n",
       "      <td>Park</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                       Neighborhood  \\\n",
       "0   Bathurst Manor, Downsview North, Wilson Heights   \n",
       "1                                   Bayview Village   \n",
       "2                 Bedford Park, Lawrence Manor East   \n",
       "3                       CFB Toronto, Downsview East   \n",
       "4                                   Don Mills North   \n",
       "5                                 Downsview Central   \n",
       "6                               Downsview Northwest   \n",
       "7                                    Downsview West   \n",
       "8                Downsview, North Park, Upwood Park   \n",
       "9                                  Emery, Humberlea   \n",
       "10                     Fairview, Henry Farm, Oriole   \n",
       "11                 Flemingdon Park, Don Mills South   \n",
       "12                                        Glencairn   \n",
       "13                                Hillcrest Village   \n",
       "14                                    Humber Summit   \n",
       "15                 Lawrence Heights, Lawrence Manor   \n",
       "16                  Northwood Park, York University   \n",
       "17                                        Parkwoods   \n",
       "18                                 Victoria Village   \n",
       "19                                 Willowdale South   \n",
       "20                                  Willowdale West   \n",
       "21                                  York Mills West   \n",
       "\n",
       "         1st Most Common Venue   2nd Most Common Venue  3rd Most Common Venue  \\\n",
       "0                  Coffee Shop                Pharmacy          Shopping Mall   \n",
       "1          Japanese Restaurant      Chinese Restaurant                   Café   \n",
       "2           Italian Restaurant             Coffee Shop          Grocery Store   \n",
       "3                      Airport                    Park               Bus Stop   \n",
       "4          Japanese Restaurant    Gym / Fitness Center   Caribbean Restaurant   \n",
       "5                 Home Service              Food Truck         Baseball Field   \n",
       "6                Grocery Store          Discount Store           Liquor Store   \n",
       "7                Grocery Store                    Park                   Bank   \n",
       "8   Construction & Landscaping                    Park                 Bakery   \n",
       "9               Baseball Field           Women's Store    Empanada Restaurant   \n",
       "10              Clothing Store             Coffee Shop   Fast Food Restaurant   \n",
       "11                 Coffee Shop        Asian Restaurant                    Gym   \n",
       "12                 Pizza Place                     Pub                   Park   \n",
       "13                     Dog Run    Fast Food Restaurant                   Pool   \n",
       "14         Empanada Restaurant              Food Truck            Pizza Place   \n",
       "15              Clothing Store  Furniture / Home Store          Women's Store   \n",
       "16                 Coffee Shop    Caribbean Restaurant                    Bar   \n",
       "17                        Park       Food & Drink Shop          Women's Store   \n",
       "18                 Pizza Place            Hockey Arena  Portuguese Restaurant   \n",
       "19                 Coffee Shop        Ramen Restaurant             Restaurant   \n",
       "20               Grocery Store                 Butcher           Home Service   \n",
       "21                        Park       Convenience Store                   Bank   \n",
       "\n",
       "         4th Most Common Venue       5th Most Common Venue  \\\n",
       "0                    Gift Shop        Fast Food Restaurant   \n",
       "1                         Bank         Empanada Restaurant   \n",
       "2               Sandwich Place        Fast Food Restaurant   \n",
       "3                Women's Store           Electronics Store   \n",
       "4                         Café              Baseball Field   \n",
       "5                Women's Store           Electronics Store   \n",
       "6                  Coffee Shop           Electronics Store   \n",
       "7                        Hotel               Shopping Mall   \n",
       "8             Basketball Court         Empanada Restaurant   \n",
       "9   Construction & Landscaping           Convenience Store   \n",
       "10               Women's Store         Japanese Restaurant   \n",
       "11                  Beer Store                  Restaurant   \n",
       "12         Japanese Restaurant         Fried Chicken Joint   \n",
       "13    Mediterranean Restaurant                 Golf Course   \n",
       "14                     Dog Run     Comfort Food Restaurant   \n",
       "15          Miscellaneous Shop                    Boutique   \n",
       "16               Metro Station          Falafel Restaurant   \n",
       "17           Electronics Store  Construction & Landscaping   \n",
       "18                Intersection                 Coffee Shop   \n",
       "19              Sandwich Place                 Pizza Place   \n",
       "20              Discount Store                 Coffee Shop   \n",
       "21               Women's Store           Electronics Store   \n",
       "\n",
       "         6th Most Common Venue       7th Most Common Venue  \\\n",
       "0                        Diner               Deli / Bodega   \n",
       "1            Convenience Store              Cosmetics Shop   \n",
       "2             Greek Restaurant           Indian Restaurant   \n",
       "3            Convenience Store              Cosmetics Shop   \n",
       "4            Electronics Store           Convenience Store   \n",
       "5   Construction & Landscaping           Convenience Store   \n",
       "6   Construction & Landscaping           Convenience Store   \n",
       "7                      Dog Run  Construction & Landscaping   \n",
       "8            Convenience Store              Cosmetics Shop   \n",
       "9               Cosmetics Shop               Deli / Bodega   \n",
       "10            Asian Restaurant                 Bus Station   \n",
       "11          Italian Restaurant          Dim Sum Restaurant   \n",
       "12                  Food Truck      Furniture / Home Store   \n",
       "13         Fried Chicken Joint          Dim Sum Restaurant   \n",
       "14  Construction & Landscaping           Convenience Store   \n",
       "15                 Coffee Shop                   Gift Shop   \n",
       "16              Massage Studio              Discount Store   \n",
       "17           Convenience Store              Cosmetics Shop   \n",
       "18         Fried Chicken Joint                       Diner   \n",
       "19         Japanese Restaurant            Sushi Restaurant   \n",
       "20                    Pharmacy                 Pizza Place   \n",
       "21  Construction & Landscaping              Cosmetics Shop   \n",
       "\n",
       "         8th Most Common Venue       9th Most Common Venue  \\\n",
       "0    Middle Eastern Restaurant          Frozen Yogurt Shop   \n",
       "1                Deli / Bodega            Department Store   \n",
       "2               Cosmetics Shop                   Juice Bar   \n",
       "3                Deli / Bodega            Department Store   \n",
       "4               Cosmetics Shop               Deli / Bodega   \n",
       "5               Cosmetics Shop               Deli / Bodega   \n",
       "6               Cosmetics Shop               Deli / Bodega   \n",
       "7            Convenience Store              Cosmetics Shop   \n",
       "8                Deli / Bodega            Department Store   \n",
       "9             Department Store          Dim Sum Restaurant   \n",
       "10                      Bakery         Sporting Goods Shop   \n",
       "11                   Bike Shop         Sporting Goods Shop   \n",
       "12     Comfort Food Restaurant          Frozen Yogurt Shop   \n",
       "13       General Entertainment     Comfort Food Restaurant   \n",
       "14              Cosmetics Shop               Deli / Bodega   \n",
       "15           Accessories Store       Vietnamese Restaurant   \n",
       "16  Construction & Landscaping           Convenience Store   \n",
       "17               Deli / Bodega            Department Store   \n",
       "18     Comfort Food Restaurant      Furniture / Home Store   \n",
       "19                        Café   Middle Eastern Restaurant   \n",
       "20                        Bank  Construction & Landscaping   \n",
       "21               Deli / Bodega            Department Store   \n",
       "\n",
       "        10th Most Common Venue   11th Most Common Venue  \n",
       "0                  Pizza Place               Restaurant  \n",
       "1           Dim Sum Restaurant                    Diner  \n",
       "2                 Liquor Store  Comfort Food Restaurant  \n",
       "3           Dim Sum Restaurant                    Diner  \n",
       "4             Department Store       Dim Sum Restaurant  \n",
       "5             Department Store       Dim Sum Restaurant  \n",
       "6             Department Store       Dim Sum Restaurant  \n",
       "7                Deli / Bodega         Department Store  \n",
       "8           Dim Sum Restaurant                    Diner  \n",
       "9                        Diner           Discount Store  \n",
       "10                   Gift Shop               Food Court  \n",
       "11                 Supermarket           Discount Store  \n",
       "12  Construction & Landscaping        Convenience Store  \n",
       "13  Construction & Landscaping        Convenience Store  \n",
       "14            Department Store       Dim Sum Restaurant  \n",
       "15                    Tea Room                    Diner  \n",
       "16              Cosmetics Shop            Deli / Bodega  \n",
       "17          Dim Sum Restaurant                    Diner  \n",
       "18  Construction & Landscaping        Convenience Store  \n",
       "19             Bubble Tea Shop                    Plaza  \n",
       "20              Cosmetics Shop            Deli / Bodega  \n",
       "21          Dim Sum Restaurant                    Diner  "
      ]
     },
     "execution_count": 120,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "num_top_venues = 11\n",
    "\n",
    "indicators = ['st', 'nd', 'rd']\n",
    "\n",
    "# create columns according to number of top venues\n",
    "columns = ['Neighborhood']\n",
    "for ind in np.arange(num_top_venues):\n",
    "    try:\n",
    "        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n",
    "    except:\n",
    "        columns.append('{}th Most Common Venue'.format(ind+1))\n",
    "\n",
    "# create a new dataframe\n",
    "neighborhoods_venues_sorted = pd.DataFrame(columns=columns)\n",
    "neighborhoods_venues_sorted['Neighborhood'] = NorthYork_grouped['Neighborhood']\n",
    "\n",
    "for ind in np.arange(NorthYork_grouped.shape[0]):\n",
    "    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(NorthYork_grouped.iloc[ind, :], num_top_venues)\n",
    "\n",
    "neighborhoods_venues_sorted"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 121,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The dataframe has (22, 12) rows and columns respectively.\n"
     ]
    }
   ],
   "source": [
    "neighborhoods_venues_sorted.shape\n",
    "print('The dataframe has', neighborhoods_venues_sorted.shape, 'rows and columns respectively.')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 122,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0, 0, 0, 2, 0, 4, 0, 0, 0, 1], dtype=int32)"
      ]
     },
     "execution_count": 122,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "# set number of clusters\n",
    "kclusters = 5\n",
    "\n",
    "NorthYork_grouped_clustering = NorthYork_grouped.drop('Neighborhood', 1)\n",
    "\n",
    "# run k-means clustering\n",
    "kmeans = KMeans(n_clusters=kclusters, random_state=0).fit(NorthYork_grouped_clustering)\n",
    "\n",
    "# check cluster labels generated for each row in the dataframe\n",
    "kmeans.labels_[0:10]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "metadata": {},
   "outputs": [],
   "source": [
    "NorthYork_merged2 = NorthYork"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 136,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "      <th>11th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>M2H</td>\n",
       "      <td>North York</td>\n",
       "      <td>Hillcrest Village</td>\n",
       "      <td>43.803762</td>\n",
       "      <td>-79.363452</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>General Entertainment</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>18</td>\n",
       "      <td>M2J</td>\n",
       "      <td>North York</td>\n",
       "      <td>Fairview, Henry Farm, Oriole</td>\n",
       "      <td>43.778517</td>\n",
       "      <td>-79.346556</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Gift Shop</td>\n",
       "      <td>Food Court</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>19</td>\n",
       "      <td>M2K</td>\n",
       "      <td>North York</td>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>43.786947</td>\n",
       "      <td>-79.385975</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>21</td>\n",
       "      <td>M2M</td>\n",
       "      <td>North York</td>\n",
       "      <td>Newtonbrook, Willowdale</td>\n",
       "      <td>43.789053</td>\n",
       "      <td>-79.408493</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>22</td>\n",
       "      <td>M2N</td>\n",
       "      <td>North York</td>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>43.770120</td>\n",
       "      <td>-79.408493</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Plaza</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   index Postal Code     Borough                  Neighborhood   Latitude  \\\n",
       "0     17         M2H  North York             Hillcrest Village  43.803762   \n",
       "1     18         M2J  North York  Fairview, Henry Farm, Oriole  43.778517   \n",
       "2     19         M2K  North York               Bayview Village  43.786947   \n",
       "4     21         M2M  North York       Newtonbrook, Willowdale  43.789053   \n",
       "5     22         M2N  North York              Willowdale South  43.770120   \n",
       "\n",
       "   Longitude 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0 -79.363452               Dog Run  Fast Food Restaurant   \n",
       "1 -79.346556        Clothing Store           Coffee Shop   \n",
       "2 -79.385975   Japanese Restaurant    Chinese Restaurant   \n",
       "4 -79.408493                   NaN                   NaN   \n",
       "5 -79.408493           Coffee Shop      Ramen Restaurant   \n",
       "\n",
       "  3rd Most Common Venue     4th Most Common Venue 5th Most Common Venue  \\\n",
       "0                  Pool  Mediterranean Restaurant           Golf Course   \n",
       "1  Fast Food Restaurant             Women's Store   Japanese Restaurant   \n",
       "2                  Café                      Bank   Empanada Restaurant   \n",
       "4                   NaN                       NaN                   NaN   \n",
       "5            Restaurant            Sandwich Place           Pizza Place   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue  8th Most Common Venue  \\\n",
       "0   Fried Chicken Joint    Dim Sum Restaurant  General Entertainment   \n",
       "1      Asian Restaurant           Bus Station                 Bakery   \n",
       "2     Convenience Store        Cosmetics Shop          Deli / Bodega   \n",
       "4                   NaN                   NaN                    NaN   \n",
       "5   Japanese Restaurant      Sushi Restaurant                   Café   \n",
       "\n",
       "       9th Most Common Venue      10th Most Common Venue  \\\n",
       "0    Comfort Food Restaurant  Construction & Landscaping   \n",
       "1        Sporting Goods Shop                   Gift Shop   \n",
       "2           Department Store          Dim Sum Restaurant   \n",
       "4                        NaN                         NaN   \n",
       "5  Middle Eastern Restaurant             Bubble Tea Shop   \n",
       "\n",
       "  11th Most Common Venue  \n",
       "0      Convenience Store  \n",
       "1             Food Court  \n",
       "2                  Diner  \n",
       "4                    NaN  \n",
       "5                  Plaza  "
      ]
     },
     "execution_count": 136,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# add clustering labels\n",
    "\n",
    "# merge toronto_grouped with toronto_data to add latitude/longitude for each neighborhood\n",
    "NorthYork_merged2 = NorthYork_merged2.join(neighborhoods_venues_sorted.set_index('Neighborhood'), on='Neighborhood')\n",
    "\n",
    "NorthYork_merged2.head() # check the last columns!\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzk0YjFkZTU0NjY3NDRhOTc4Yzg4YzA2Yjg2ZDM5NDlhIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNzcwODE3NSwtNzkuNDEzMjk5OF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfOTQ4ZGNmNWIwNTI4NGQyN2IxZjUzZGZmNDkzMjM0NDIgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M3ZDdiMWM1NDBkNDRiYzA4OTgzYjZjNzIyY2U5ZjIyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODAzNzYyMiwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjQyYmVjZjNjZDZkNGNhNWJhODQyNWQxNjM5NGU2MTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTAzOTEyODU4YTE0NDkwM2I4YmFkMjliZjhlYjY2YjUgPSAkKCc8ZGl2IGlkPSJodG1sXzkwMzkxMjg1OGExNDQ5MDNiOGJhZDI5YmY4ZWI2NmI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWxsY3Jlc3QgVmlsbGFnZSAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y0MmJlY2YzY2Q2ZDRjYTViYTg0MjVkMTYzOTRlNjE5LnNldENvbnRlbnQoaHRtbF85MDM5MTI4NThhMTQ0OTAzYjhiYWQyOWJmOGViNjZiNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jN2Q3YjFjNTQwZDQ0YmMwODk4M2I2YzcyMmNlOWYyMi5iaW5kUG9wdXAocG9wdXBfZjQyYmVjZjNjZDZkNGNhNWJhODQyNWQxNjM5NGU2MTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODgxYWQ1YjI5YWRiNGQyZDg2NDFjYjY5MjI4M2RiNmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Nzg1MTc1LC03OS4zNDY1NTU3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNDk0Njg2Yzg1YmI0ZmE5OGMyMDQxODQ4Zjc0MmQzNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83Yjg0ZmI4YWFhYjQ0YzgyOGRlMDU2ODM2MDQ2MDU4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfN2I4NGZiOGFhYWI0NGM4MjhkZTA1NjgzNjA0NjA1ODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LCBIZW5yeSBGYXJtLCBPcmlvbGUgIDE3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNDk0Njg2Yzg1YmI0ZmE5OGMyMDQxODQ4Zjc0MmQzNS5zZXRDb250ZW50KGh0bWxfN2I4NGZiOGFhYWI0NGM4MjhkZTA1NjgzNjA0NjA1ODApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODgxYWQ1YjI5YWRiNGQyZDg2NDFjYjY5MjI4M2RiNmMuYmluZFBvcHVwKHBvcHVwXzI0OTQ2ODZjODViYjRmYTk4YzIwNDE4NDhmNzQyZDM1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZhOTY1YTQ1YTU3ZjQ4MjU5OTQ2NTdlODMxYWJkZTJjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg2OTQ3MywtNzkuMzg1OTc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMWZiNTAxNmM1ZGI0MTkyYjE1MTZmNjk4MjI3YmEzMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOTFlNTVhZWY4NTE0YzVjYjUwODYzYzMxMjQ0ZjZjMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYzkxZTU1YWVmODUxNGM1Y2I1MDg2M2MzMTI0NGY2YzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIxZmI1MDE2YzVkYjQxOTJiMTUxNmY2OTgyMjdiYTMzLnNldENvbnRlbnQoaHRtbF9jOTFlNTVhZWY4NTE0YzVjYjUwODYzYzMxMjQ0ZjZjMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YTk2NWE0NWE1N2Y0ODI1OTk0NjU3ZTgzMWFiZGUyYy5iaW5kUG9wdXAocG9wdXBfMjFmYjUwMTZjNWRiNDE5MmIxNTE2ZjY5ODIyN2JhMzMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzJlNjA1MzA4ODVmNDE4Zjk2ZWI1MzA3ZDViMzUwNjQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODkwNTMsLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZDYyODE3ZjZjMTk0MGVkOGFlMWMzNGExMzVjNGY2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMTAyM2I0NWQ3YmM0ZjI3OTZlYzc2NTA1YjM2NzVmNyA9ICQoJzxkaXYgaWQ9Imh0bWxfYjEwMjNiNDVkN2JjNGYyNzk2ZWM3NjUwNWIzNjc1ZjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5ld3RvbmJyb29rLCBXaWxsb3dkYWxlICAxNzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWQ2MjgxN2Y2YzE5NDBlZDhhZTFjMzRhMTM1YzRmNjYuc2V0Q29udGVudChodG1sX2IxMDIzYjQ1ZDdiYzRmMjc5NmVjNzY1MDViMzY3NWY3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMyZTYwNTMwODg1ZjQxOGY5NmViNTMwN2Q1YjM1MDY0LmJpbmRQb3B1cChwb3B1cF8xZDYyODE3ZjZjMTk0MGVkOGFlMWMzNGExMzVjNGY2Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNGE4YjllZDk0MjI0ZGRkOTIyNmY2NDM3NTUxMDg4MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MDExOTksLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NThiZmFhYzhlNmU0MGVlOGVhZTE0MDQyODRhYzZhYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZjQzYmZmNDEwMWE0YTdjYThiNmVhNzg4NWRmOTFjMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYWY0M2JmZjQxMDFhNGE3Y2E4YjZlYTc4ODVkZjkxYzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgU291dGggIDE3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NThiZmFhYzhlNmU0MGVlOGVhZTE0MDQyODRhYzZhYS5zZXRDb250ZW50KGh0bWxfYWY0M2JmZjQxMDFhNGE3Y2E4YjZlYTc4ODVkZjkxYzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTRhOGI5ZWQ5NDIyNGRkZDkyMjZmNjQzNzU1MTA4ODMuYmluZFBvcHVwKHBvcHVwXzg1OGJmYWFjOGU2ZTQwZWU4ZWFlMTQwNDI4NGFjNmFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzliMmUwZDEzYTE5YzRjNWE4MTkyMjJkYWVjMzcxZmM1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUyNzU4Mjk5OTk5OTk2LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zYjE3MWNkM2IxNzc0OWZmYmExYzJmMmQ0NGI2YTFiYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYmZiZDBlYTIxZGE0NGUwOWQyN2Q1NDA1MjM2NTNiZiA9ICQoJzxkaXYgaWQ9Imh0bWxfY2JmYmQwZWEyMWRhNDRlMDlkMjdkNTQwNTIzNjUzYmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcmsgTWlsbHMgV2VzdCAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNiMTcxY2QzYjE3NzQ5ZmZiYTFjMmYyZDQ0YjZhMWJjLnNldENvbnRlbnQoaHRtbF9jYmZiZDBlYTIxZGE0NGUwOWQyN2Q1NDA1MjM2NTNiZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85YjJlMGQxM2ExOWM0YzVhODE5MjIyZGFlYzM3MWZjNS5iaW5kUG9wdXAocG9wdXBfM2IxNzFjZDNiMTc3NDlmZmJhMWMyZjJkNDRiNmExYmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTQ0ZjMxZGM3YmE0NDJiOWFmNTZlZjhiMWQxOTRlMzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMzE0MjVlNmMxNzE0MzQ4YWUwMWNlODQ1MzViNTI5NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NDViYzI3Y2NkMTM0ZDU2OTdjZmQxMjk3NWU1M2QwNSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjQ1YmMyN2NjZDEzNGQ1Njk3Y2ZkMTI5NzVlNTNkMDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdCAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzMTQyNWU2YzE3MTQzNDhhZTAxY2U4NDUzNWI1Mjk2LnNldENvbnRlbnQoaHRtbF82NDViYzI3Y2NkMTM0ZDU2OTdjZmQxMjk3NWU1M2QwNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNDRmMzFkYzdiYTQ0MmI5YWY1NmVmOGIxZDE5NGUzNC5iaW5kUG9wdXAocG9wdXBfZTMxNDI1ZTZjMTcxNDM0OGFlMDFjZTg0NTM1YjUyOTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjMzMzQ0N2U2MDA1NDdkNWJlNDBlNzRhZDM5ZDFhZWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTMyNTg2LC03OS4zMjk2NTY1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82Y2UyZjNlM2YwZGI0NmM4YWNjZDJhNTNiM2NiODAyMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYTY4ZDc2ZDFhMDM0NTJkYjRiZDk5ZTcyN2NmNzVhYyA9ICQoJzxkaXYgaWQ9Imh0bWxfY2E2OGQ3NmQxYTAzNDUyZGI0YmQ5OWU3MjdjZjc1YWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmt3b29kcyAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZjZTJmM2UzZjBkYjQ2YzhhY2NkMmE1M2IzY2I4MDIxLnNldENvbnRlbnQoaHRtbF9jYTY4ZDc2ZDFhMDM0NTJkYjRiZDk5ZTcyN2NmNzVhYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82MzMzNDQ3ZTYwMDU0N2Q1YmU0MGU3NGFkMzlkMWFlZC5iaW5kUG9wdXAocG9wdXBfNmNlMmYzZTNmMGRiNDZjOGFjY2QyYTUzYjNjYjgwMjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDFjM2YxMzA2MTE4NDIzN2FlMDMxNTdmNTQ4YWQ4YmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDU5MDU3OTk5OTk5OTYsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDIyZjkxZmYyZGRmNGM2ZDk5ODFjZTM1YmU1MTQwOGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmU3ZmRlMTAzMjE1NGI2MWI3MWEzMzhkNjI1ZWFkZjMgPSAkKCc8ZGl2IGlkPSJodG1sX2JlN2ZkZTEwMzIxNTRiNjFiNzFhMzM4ZDYyNWVhZGYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb24gTWlsbHMgTm9ydGggIDE3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMjJmOTFmZjJkZGY0YzZkOTk4MWNlMzViZTUxNDA4ZS5zZXRDb250ZW50KGh0bWxfYmU3ZmRlMTAzMjE1NGI2MWI3MWEzMzhkNjI1ZWFkZjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDFjM2YxMzA2MTE4NDIzN2FlMDMxNTdmNTQ4YWQ4YmYuYmluZFBvcHVwKHBvcHVwXzAyMmY5MWZmMmRkZjRjNmQ5OTgxY2UzNWJlNTE0MDhlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q4YmE5MDVkZmZjMzRjMzM5ZGVhYTRlZjI3ZmE3MDg1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODk5NzAwMDAwMDEsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDJiNGE3NDg4ZTM1NDRhOGE4ZDk2NjBiMDBkM2Y4ODEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTUxYjE1ZWZkOTg4NDY2YThlNTExNjQwZTMwYzc1OTMgPSAkKCc8ZGl2IGlkPSJodG1sXzU1MWIxNWVmZDk4ODQ2NmE4ZTUxMTY0MGUzMGM3NTkzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GbGVtaW5nZG9uIFBhcmssIERvbiBNaWxscyBTb3V0aCAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAyYjRhNzQ4OGUzNTQ0YThhOGQ5NjYwYjAwZDNmODgxLnNldENvbnRlbnQoaHRtbF81NTFiMTVlZmQ5ODg0NjZhOGU1MTE2NDBlMzBjNzU5Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kOGJhOTA1ZGZmYzM0YzMzOWRlYWE0ZWYyN2ZhNzA4NS5iaW5kUG9wdXAocG9wdXBfMDJiNGE3NDg4ZTM1NDRhOGE4ZDk2NjBiMDBkM2Y4ODEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzljMGUxODgwYWFjNGE0Zjg3OTc3YjNlNjk4NWJmYjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTQzMjgzLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ODY4ZDlmMWU3MGY0MTMzOTY2NmU0ZWYzZGMzZjcwZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80OTUyNTk5NTRjYTE0MjNmYWIxNTQzZjQ2OGE3MjYyMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDk1MjU5OTU0Y2ExNDIzZmFiMTU0M2Y0NjhhNzI2MjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhdGh1cnN0IE1hbm9yLCBEb3duc3ZpZXcgTm9ydGgsIFdpbHNvbiBIZWlnaHRzICAxNzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDg2OGQ5ZjFlNzBmNDEzMzk2NjZlNGVmM2RjM2Y3MGUuc2V0Q29udGVudChodG1sXzQ5NTI1OTk1NGNhMTQyM2ZhYjE1NDNmNDY4YTcyNjIzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M5YzBlMTg4MGFhYzRhNGY4Nzk3N2IzZTY5ODViZmI2LmJpbmRQb3B1cChwb3B1cF80ODY4ZDlmMWU3MGY0MTMzOTY2NmU0ZWYzZGMzZjcwZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lZmIwNWZlMzFmNWM0ODBhYmViYzI4MWZiZDkyYTFjZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2Nzk4MDMsLTc5LjQ4NzI2MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNDQzNTVmMzQ5YTk0ZWNjYTMyYTU4ODMxMzQ0YmMzOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNTM2OGQxNTk3MzQ0ZTllYmJlNWYwMzUzNTM4YWYwOSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTUzNjhkMTU5NzM0NGU5ZWJiZTVmMDM1MzUzOGFmMDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod29vZCBQYXJrLCBZb3JrIFVuaXZlcnNpdHkgIDE3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNDQzNTVmMzQ5YTk0ZWNjYTMyYTU4ODMxMzQ0YmMzOC5zZXRDb250ZW50KGh0bWxfYTUzNjhkMTU5NzM0NGU5ZWJiZTVmMDM1MzUzOGFmMDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWZiMDVmZTMxZjVjNDgwYWJlYmMyODFmYmQ5MmExY2UuYmluZFBvcHVwKHBvcHVwXzI0NDM1NWYzNDlhOTRlY2NhMzJhNTg4MzEzNDRiYzM4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA2ZjY3ZWQ0ZWMxNjRiM2FiZGQ1NmJhODA4MzkwOTU0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3NDczMjAwMDAwMDA0LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODQ5NWUwZjJmMDc1NGJkNmExM2FlYmU5NmMwZDU0NzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjI1MzIyMWUwZjdmNDZiZjg4M2U3MTc3MDY1ZmQzZTkgPSAkKCc8ZGl2IGlkPSJodG1sXzIyNTMyMjFlMGY3ZjQ2YmY4ODNlNzE3NzA2NWZkM2U5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DRkIgVG9yb250bywgRG93bnN2aWV3IEVhc3QgIDE3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NDk1ZTBmMmYwNzU0YmQ2YTEzYWViZTk2YzBkNTQ3MS5zZXRDb250ZW50KGh0bWxfMjI1MzIyMWUwZjdmNDZiZjg4M2U3MTc3MDY1ZmQzZTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDZmNjdlZDRlYzE2NGIzYWJkZDU2YmE4MDgzOTA5NTQuYmluZFBvcHVwKHBvcHVwXzg0OTVlMGYyZjA3NTRiZDZhMTNhZWJlOTZjMGQ1NDcxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM2YzE4YjJlYTlhZjQ1YjY5MDE1ZTY2NDA0Njg0ZjQ5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5MDE0NiwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDJlZDhkMjNiNGE5NGNjMTgxOGExNGQwOTAxMzk1NTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjQzZTJjYWIxZDc2NGE2Zjk4ZjlkNmEyY2U0NmY0YjQgPSAkKCc8ZGl2IGlkPSJodG1sX2I0M2UyY2FiMWQ3NjRhNmY5OGY5ZDZhMmNlNDZmNGI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgV2VzdCAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQyZWQ4ZDIzYjRhOTRjYzE4MThhMTRkMDkwMTM5NTUyLnNldENvbnRlbnQoaHRtbF9iNDNlMmNhYjFkNzY0YTZmOThmOWQ2YTJjZTQ2ZjRiNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zNmMxOGIyZWE5YWY0NWI2OTAxNWU2NjQwNDY4NGY0OS5iaW5kUG9wdXAocG9wdXBfNDJlZDhkMjNiNGE5NGNjMTgxOGExNGQwOTAxMzk1NTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTk1OTFlYTYwOGViNDkxOWFkOGU4NDAzMWQ2YjI5MDEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjg0OTY0LC03OS40OTU2OTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGE5OTZiNWVhMzA1NDA3MWI4ZjY0OGVmYmM3NTNhYTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGU5ZmMwZGQzODI3NGM5OGI3NmY3YzE5MGNjNGQ4MmEgPSAkKCc8ZGl2IGlkPSJodG1sXzhlOWZjMGRkMzgyNzRjOThiNzZmN2MxOTBjYzRkODJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgQ2VudHJhbCAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBhOTk2YjVlYTMwNTQwNzFiOGY2NDhlZmJjNzUzYWExLnNldENvbnRlbnQoaHRtbF84ZTlmYzBkZDM4Mjc0Yzk4Yjc2ZjdjMTkwY2M0ZDgyYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85OTU5MWVhNjA4ZWI0OTE5YWQ4ZTg0MDMxZDZiMjkwMS5iaW5kUG9wdXAocG9wdXBfMGE5OTZiNWVhMzA1NDA3MWI4ZjY0OGVmYmM3NTNhYTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDU2ZWUzNjk3ODMxNDBhZDk5MDlmNDY1MGI3M2VjYzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjE2MzEzLC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2FlNTI0OWNhNDhkNGJkMTk3YmNmYzFiN2MzODk0NzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWIxNGYzMGY5OTc1NDk3MWExZjk1ODRmOWYzMmY2NGMgPSAkKCc8ZGl2IGlkPSJodG1sXzFiMTRmMzBmOTk3NTQ5NzFhMWY5NTg0ZjlmMzJmNjRjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgTm9ydGh3ZXN0ICAxNzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2FlNTI0OWNhNDhkNGJkMTk3YmNmYzFiN2MzODk0NzIuc2V0Q29udGVudChodG1sXzFiMTRmMzBmOTk3NTQ5NzFhMWY5NTg0ZjlmMzJmNjRjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA1NmVlMzY5NzgzMTQwYWQ5OTA5ZjQ2NTBiNzNlY2M5LmJpbmRQb3B1cChwb3B1cF9jYWU1MjQ5Y2E0OGQ0YmQxOTdiY2ZjMWI3YzM4OTQ3Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMTI3MjcyMTI5N2U0NTYwOWMxMjQ5Y2VhZjE4ZDZlYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg4MjI5OTk5OTk5NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzk0YjFkZTU0NjY3NDRhOTc4Yzg4YzA2Yjg2ZDM5NDlhKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBjNDRmZTY2YjMxMzQxMjZhYThhZTAxMTQxNTA1NzUxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJhYWRhZmRmNzFiNzQ3MzA4ZTNkNGNiYmNkMGI5ZDUwID0gJCgnPGRpdiBpZD0iaHRtbF8yYWFkYWZkZjcxYjc0NzMwOGUzZDRjYmJjZDBiOWQ1MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmljdG9yaWEgVmlsbGFnZSAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBjNDRmZTY2YjMxMzQxMjZhYThhZTAxMTQxNTA1NzUxLnNldENvbnRlbnQoaHRtbF8yYWFkYWZkZjcxYjc0NzMwOGUzZDRjYmJjZDBiOWQ1MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMTI3MjcyMTI5N2U0NTYwOWMxMjQ5Y2VhZjE4ZDZlYS5iaW5kUG9wdXAocG9wdXBfMGM0NGZlNjZiMzEzNDEyNmFhOGFlMDExNDE1MDU3NTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2VkYjVhNzA1YmQwNGY5MDhhMjFiZDE0MmQ4YjNiZDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84OWMwYmU4Njg1MjY0NmE0YjBiNTUzMzhhZTNiZGE2MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MDY1MmI5NDM3ZTk0YjMzOTA5OTJhNjgzNjIyOTJhNyA9ICQoJzxkaXYgaWQ9Imh0bWxfOTA2NTJiOTQzN2U5NGIzMzkwOTkyYTY4MzYyMjkyYTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlZGZvcmQgUGFyaywgTGF3cmVuY2UgTWFub3IgRWFzdCAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg5YzBiZTg2ODUyNjQ2YTRiMGI1NTMzOGFlM2JkYTYxLnNldENvbnRlbnQoaHRtbF85MDY1MmI5NDM3ZTk0YjMzOTA5OTJhNjgzNjIyOTJhNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zZWRiNWE3MDViZDA0ZjkwOGEyMWJkMTQyZDhiM2JkNy5iaW5kUG9wdXAocG9wdXBfODljMGJlODY4NTI2NDZhNGIwYjU1MzM4YWUzYmRhNjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTQzMDZkNDE2NzM1NDc2OThiZGIxNzM5OTRjYjQzNWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTg1MTc5OTk5OTk5OTYsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMjlhOTM1NzVhNTk0ZTBiYjRkMDk0YjhlNmM5ZjVlNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZDk0YzJkNzZjN2Y0ZmY5YjRkYzVkNzAwY2E0YTc0NyA9ICQoJzxkaXYgaWQ9Imh0bWxfYmQ5NGMyZDc2YzdmNGZmOWI0ZGM1ZDcwMGNhNGE3NDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIEhlaWdodHMsIExhd3JlbmNlIE1hbm9yICAxNzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjI5YTkzNTc1YTU5NGUwYmI0ZDA5NGI4ZTZjOWY1ZTYuc2V0Q29udGVudChodG1sX2JkOTRjMmQ3NmM3ZjRmZjliNGRjNWQ3MDBjYTRhNzQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE0MzA2ZDQxNjczNTQ3Njk4YmRiMTczOTk0Y2I0MzVjLmJpbmRQb3B1cChwb3B1cF9mMjlhOTM1NzVhNTk0ZTBiYjRkMDk0YjhlNmM5ZjVlNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZmMzYjZkYjBkOGI0ZjY2YTVjZjE4ZDkwMmNmOTBiYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTU3NywtNzkuNDQ1MDcyNTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzk0YjFkZTU0NjY3NDRhOTc4Yzg4YzA2Yjg2ZDM5NDlhKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NlZWIxMjkzNDJkYjRkMmZiY2YwYTM5NmZhMDg3ZGU4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzlhNjFhN2M1NTQxZjQ2NTI5ZmNlNGVlODNjZjA2MWY4ID0gJCgnPGRpdiBpZD0iaHRtbF85YTYxYTdjNTU0MWY0NjUyOWZjZTRlZTgzY2YwNjFmOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2xlbmNhaXJuICAxNzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2VlYjEyOTM0MmRiNGQyZmJjZjBhMzk2ZmEwODdkZTguc2V0Q29udGVudChodG1sXzlhNjFhN2M1NTQxZjQ2NTI5ZmNlNGVlODNjZjA2MWY4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJmYzNiNmRiMGQ4YjRmNjZhNWNmMThkOTAyY2Y5MGJjLmJpbmRQb3B1cChwb3B1cF9jZWViMTI5MzQyZGI0ZDJmYmNmMGEzOTZmYTA4N2RlOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZDA4NGU5MjNjNDA0MTliYWNjOTgyMGIxMTkwYjg4MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMzc1NjIwMDAwMDAwNiwtNzkuNDkwMDczOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJncmVlbiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTRiMWRlNTQ2Njc0NGE5NzhjODhjMDZiODZkMzk0OWEpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjI5ZmVjZWVjMzc1NGE0Y2I4YjhjYTRhZTNiMjY3ZGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzZlNDgzNmYwNDY1NDc2NGIzYTA3NzkxZDM1NzI5YjkgPSAkKCc8ZGl2IGlkPSJodG1sXzM2ZTQ4MzZmMDQ2NTQ3NjRiM2EwNzc5MWQzNTcyOWI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcsIE5vcnRoIFBhcmssIFVwd29vZCBQYXJrICAxNzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjI5ZmVjZWVjMzc1NGE0Y2I4YjhjYTRhZTNiMjY3ZGYuc2V0Q29udGVudChodG1sXzM2ZTQ4MzZmMDQ2NTQ3NjRiM2EwNzc5MWQzNTcyOWI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NkMDg0ZTkyM2M0MDQxOWJhY2M5ODIwYjExOTBiODgwLmJpbmRQb3B1cChwb3B1cF82MjlmZWNlZWMzNzU0YTRjYjhiOGNhNGFlM2IyNjdkZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ZjljYzRiNDdmZjQ0YTQxYjQzZTlkZThmZDNjM2UyMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsLTc5LjU2NTk2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImdyZWVuIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF85NGIxZGU1NDY2NzQ0YTk3OGM4OGMwNmI4NmQzOTQ5YSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZWFjN2RjYzQzMjM0MzhiYTVlYTZkOTAzNmIzNjRlNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMGE0NzU0Yjk3NGI0YjlkYTk5MmNjM2JiODBlYjk4MyA9ICQoJzxkaXYgaWQ9Imh0bWxfYjBhNDc1NGI5NzRiNGI5ZGE5OTJjYzNiYjgwZWI5ODMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQgIDE3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZWFjN2RjYzQzMjM0MzhiYTVlYTZkOTAzNmIzNjRlNC5zZXRDb250ZW50KGh0bWxfYjBhNDc1NGI5NzRiNGI5ZGE5OTJjYzNiYjgwZWI5ODMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmY5Y2M0YjQ3ZmY0NGE0MWI0M2U5ZGU4ZmQzYzNlMjEuYmluZFBvcHVwKHBvcHVwXzVlYWM3ZGNjNDMyMzQzOGJhNWVhNmQ5MDM2YjM2NGU0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMyZWFlYTAyMmI1OTRiNjE4ZGE4MzI3YmM2NTk3ODM5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI0NzY1OSwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiZ3JlZW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzk0YjFkZTU0NjY3NDRhOTc4Yzg4YzA2Yjg2ZDM5NDlhKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VkYzRlOWU1YjFhNzRjN2E5ZDEyODcyOTEwMjI5ZjUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M4MjFkZjIwYmY2OTRiMjFhMTYzZjBhNTgwMWM2YzRhID0gJCgnPGRpdiBpZD0iaHRtbF9jODIxZGYyMGJmNjk0YjIxYTE2M2YwYTU4MDFjNmM0YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RW1lcnksIEh1bWJlcmxlYSAgMTc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VkYzRlOWU1YjFhNzRjN2E5ZDEyODcyOTEwMjI5ZjUyLnNldENvbnRlbnQoaHRtbF9jODIxZGYyMGJmNjk0YjIxYTE2M2YwYTU4MDFjNmM0YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMmVhZWEwMjJiNTk0YjYxOGRhODMyN2JjNjU5NzgzOS5iaW5kUG9wdXAocG9wdXBfZWRjNGU5ZTViMWE3NGM3YTlkMTI4NzI5MTAyMjlmNTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7fe96418b400>"
      ]
     },
     "execution_count": 138,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# create map\n",
    "map_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n",
    "\n",
    "# set color scheme for the clusters\n",
    "x = np.arange(kclusters)\n",
    "ys = [i+x+(i*x)**2 for i in range(kclusters)]\n",
    "colors_array = cm.rainbow(np.linspace(0, 1, len(ys)-1))\n",
    "rainbow = [colors.rgb2hex(i) for i in colors_array]\n",
    "\n",
    "# add markers to the map\n",
    "markers_colors = []\n",
    "for lat, lon, poi in zip(NorthYork_merged['Latitude'], NorthYork_merged['Longitude'], NorthYork_merged['Neighborhood']):\n",
    "    label = folium.Popup(str(poi) + '  ' + str(cluster), parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lon],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color='green',\n",
    "        fill=True,\n",
    "        fill_color='#3186cc',\n",
    "        fill_opacity=0.7).add_to(map_clusters)\n",
    "       \n",
    "map_clusters"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 141,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>M2H</td>\n",
       "      <td>-79.363452</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postal Code  Longitude\n",
       "0         M2H -79.363452"
      ]
     },
     "execution_count": 141,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "NorthYork_merged.loc[NorthYork_merged['Postal Code'] == 'M2H', NorthYork_merged.columns[[1] + list(range(5, NorthYork_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "NorthYork_merged.loc[NorthYork_merged['Postal Code'] == 2, NorthYork_merged.columns[[1] + list(range(5, NorthYork_merged.shape[1]))]]"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python",
   "language": "python",
   "name": "conda-env-python-py"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
